/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Yd=Object.create;var wi=Object.defineProperty,$d=Object.defineProperties,Kd=Object.getOwnPropertyDescriptor,Jd=Object.getOwnPropertyDescriptors,Qd=Object.getOwnPropertyNames,Zo=Object.getOwnPropertySymbols,ep=Object.getPrototypeOf,Go=Object.prototype.hasOwnProperty,tp=Object.prototype.propertyIsEnumerable;var Xo=(i,e,t)=>e in i?wi(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,kt=(i,e)=>{for(var t in e||(e={}))Go.call(e,t)&&Xo(i,t,e[t]);if(Zo)for(var t of Zo(e))tp.call(e,t)&&Xo(i,t,e[t]);return i},Nt=(i,e)=>$d(i,Jd(e)),Yo=i=>wi(i,"__esModule",{value:!0});var Hs=(i,e)=>()=>(i&&(e=i(i=0)),e);var $=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),$o=(i,e)=>{Yo(i);for(var t in e)wi(i,t,{get:e[t],enumerable:!0})},rp=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Qd(e))!Go.call(i,r)&&r!=="default"&&wi(i,r,{get:()=>e[r],enumerable:!(t=Kd(e,r))||t.enumerable});return i},an=i=>rp(Yo(wi(i!=null?Yd(ep(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var Ot=(i,e,t)=>new Promise((r,n)=>{var s=u=>{try{o(t.next(u))}catch(l){n(l)}},a=u=>{try{o(t.throw(u))}catch(l){n(l)}},o=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,a);o((t=t.apply(i,e)).next())});function Qt(i,e){for(var t in e)i[t]=e[t];return i}function $s(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function $e(i,e,t){var r,n,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?n=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Ei.call(arguments,2):t),typeof i=="function"&&i.defaultProps!=null)for(s in i.defaultProps)a[s]==null&&(a[s]=i.defaultProps[s]);return Di(i,a,r,n,null)}function Di(i,e,t,r,n){var s={type:i,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n==null?++Jo:n,__i:-1,__u:0};return n==null&&ve.vnode!=null&&ve.vnode(s),s}function on(){return{current:null}}function Rt(i){return i.children}function wt(i,e){this.props=i,this.context=e}function Xr(i,e){if(e==null)return i.__?Xr(i.__,i.__i+1):null;for(var t;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?Xr(i):null}function su(i){var e,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return su(i)}}function Ks(i){(!i.__d&&(i.__d=!0)&&Nr.push(i)&&!un.__r++||Qo!=ve.debounceRendering)&&((Qo=ve.debounceRendering)||eu)(un)}function un(){for(var i,e,t,r,n,s,a,o=1;Nr.length;)Nr.length>o&&Nr.sort(tu),i=Nr.shift(),o=Nr.length,i.__d&&(t=void 0,n=(r=(e=i).__v).__e,s=[],a=[],e.__P&&((t=Qt({},r)).__v=r.__v+1,ve.vnode&&ve.vnode(t),Js(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,s,n==null?Xr(r):n,!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,fu(s,t,a),t.__e!=n&&su(t)));un.__r=0}function au(i,e,t,r,n,s,a,o,u,l,c){var h,d,g,_,A,D,p=r&&r.__k||nu,v=e.length;for(u=ap(t,e,p,u,v),h=0;h<v;h++)(g=t.__k[h])!=null&&(d=g.__i==-1?xi:p[g.__i]||xi,g.__i=h,D=Js(i,g,d,n,s,a,o,u,l,c),_=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&Qs(d.ref,null,g),c.push(g.ref,g.__c||_,g)),A==null&&_!=null&&(A=_),4&g.__u||d.__k===g.__k?u=ou(g,u,i):typeof g.type=="function"&&D!==void 0?u=D:_&&(u=_.nextSibling),g.__u&=-7);return t.__e=A,u}function ap(i,e,t,r,n){var s,a,o,u,l,c=t.length,h=c,d=0;for(i.__k=new Array(n),s=0;s<n;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=s+d,(a=i.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Di(null,a,null,null,null):Si(a)?Di(Rt,{children:a},null,null,null):a.constructor==null&&a.__b>0?Di(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=i,a.__b=i.__b+1,o=null,(l=a.__i=op(a,t,u,h))!=-1&&(h--,(o=t[l])&&(o.__u|=2)),o==null||o.__v==null?(l==-1&&(n>c?d--:n<c&&d++),typeof a.type!="function"&&(a.__u|=4)):l!=u&&(l==u-1?d--:l==u+1?d++:(l>u?d--:d++,a.__u|=4))):i.__k[s]=null;if(h)for(s=0;s<c;s++)(o=t[s])!=null&&(2&o.__u)==0&&(o.__e==r&&(r=Xr(o)),cu(o,o));return r}function ou(i,e,t){var r,n;if(typeof i.type=="function"){for(r=i.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=i,e=ou(r[n],e,t));return e}i.__e!=e&&(e&&i.type&&!t.contains(e)&&(e=Xr(i)),t.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function er(i,e){return e=e||[],i==null||typeof i=="boolean"||(Si(i)?i.some(function(t){er(t,e)}):e.push(i)),e}function op(i,e,t,r){var n,s,a=i.key,o=i.type,u=e[t];if(u===null&&i.key==null||u&&a==u.key&&o==u.type&&(2&u.__u)==0)return t;if(r>(u!=null&&(2&u.__u)==0?1:0))for(n=t-1,s=t+1;n>=0||s<e.length;){if(n>=0){if((u=e[n])&&(2&u.__u)==0&&a==u.key&&o==u.type)return n;n--}if(s<e.length){if((u=e[s])&&(2&u.__u)==0&&a==u.key&&o==u.type)return s;s++}}return-1}function uu(i,e,t){e[0]=="-"?i.setProperty(e,t==null?"":t):i[e]=t==null?"":typeof t!="number"||sp.test(e)?t:t+"px"}function ln(i,e,t,r,n){var s;e:if(e=="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(e in r)t&&e in t||uu(i.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||uu(i.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(ru,"$1")),e=e.toLowerCase()in i||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+s]=t,t?r?t.u=r.u:(t.u=Gs,i.addEventListener(e,s?Ys:Xs,s)):i.removeEventListener(e,s?Ys:Xs,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{i[e]=t==null?"":t;break e}catch(a){}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&t==1?"":t))}}function lu(i){return function(e){if(this.l){var t=this.l[e.type+i];if(e.t==null)e.t=Gs++;else if(e.t<t.u)return;return t(ve.event?ve.event(e):e)}}}function Js(i,e,t,r,n,s,a,o,u,l){var c,h,d,g,_,A,D,p,v,y,T,P,w,C,k,R,q,M=e.type;if(e.constructor!=null)return null;128&t.__u&&(u=!!(32&t.__u),s=[o=e.__e=t.__e]),(c=ve.__b)&&c(e);e:if(typeof M=="function")try{if(p=e.props,v="prototype"in M&&M.prototype.render,y=(c=M.contextType)&&r[c.__c],T=c?y?y.props.value:c.__:r,t.__c?D=(h=e.__c=t.__c).__=h.__E:(v?e.__c=h=new M(p,T):(e.__c=h=new wt(p,T),h.constructor=M,h.render=lp),y&&y.sub(h),h.props=p,h.state||(h.state={}),h.context=T,h.__n=r,d=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&M.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Qt({},h.__s)),Qt(h.__s,M.getDerivedStateFromProps(p,h.__s))),g=h.props,_=h.state,h.__v=e,d)v&&M.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&M.getDerivedStateFromProps==null&&p!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(p,T),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(p,h.__s,T)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(h.props=p,h.state=h.__s,h.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(G){G&&(G.__=e)}),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(p,h.__s,T),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,_,A)})}if(h.context=T,h.props=p,h.__P=i,h.__e=!1,w=ve.__r,C=0,v){for(h.state=h.__s,h.__d=!1,w&&w(e),c=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,w&&w(e),c=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++C<25);h.state=h.__s,h.getChildContext!=null&&(r=Qt(Qt({},r),h.getChildContext())),v&&!d&&h.getSnapshotBeforeUpdate!=null&&(A=h.getSnapshotBeforeUpdate(g,_)),R=c,c!=null&&c.type===Rt&&c.key==null&&(R=hu(c.props.children)),o=au(i,Si(R)?R:[R],e,t,r,n,s,a,o,u,l),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),D&&(h.__E=h.__=null)}catch(G){if(e.__v=null,u||s!=null)if(G.then){for(e.__u|=u?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else for(q=s.length;q--;)$s(s[q]);else e.__e=t.__e,e.__k=t.__k;ve.__e(G,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):o=e.__e=up(t.__e,e,t,r,n,s,a,u,l);return(c=ve.diffed)&&c(e),128&e.__u?void 0:o}function fu(i,e,t){for(var r=0;r<t.length;r++)Qs(t[r],t[++r],t[++r]);ve.__c&&ve.__c(e,i),i.some(function(n){try{i=n.__h,n.__h=[],i.some(function(s){s.call(n)})}catch(s){ve.__e(s,n.__v)}})}function hu(i){return typeof i!="object"||i==null||i.__b&&i.__b>0?i:Si(i)?i.map(hu):Qt({},i)}function up(i,e,t,r,n,s,a,o,u){var l,c,h,d,g,_,A,D=t.props,p=e.props,v=e.type;if(v=="svg"?n="http://www.w3.org/2000/svg":v=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((g=s[l])&&"setAttribute"in g==!!v&&(v?g.localName==v:g.nodeType==3)){i=g,s[l]=null;break}}if(i==null){if(v==null)return document.createTextNode(p);i=document.createElementNS(n,v,p.is&&p),o&&(ve.__m&&ve.__m(e,s),o=!1),s=null}if(v==null)D===p||o&&i.data==p||(i.data=p);else{if(s=s&&Ei.call(i.childNodes),D=t.props||xi,!o&&s!=null)for(D={},l=0;l<i.attributes.length;l++)D[(g=i.attributes[l]).name]=g.value;for(l in D)if(g=D[l],l!="children"){if(l=="dangerouslySetInnerHTML")h=g;else if(!(l in p)){if(l=="value"&&"defaultValue"in p||l=="checked"&&"defaultChecked"in p)continue;ln(i,l,null,g,n)}}for(l in p)g=p[l],l=="children"?d=g:l=="dangerouslySetInnerHTML"?c=g:l=="value"?_=g:l=="checked"?A=g:o&&typeof g!="function"||D[l]===g||ln(i,l,g,D[l],n);if(c)o||h&&(c.__html==h.__html||c.__html==i.innerHTML)||(i.innerHTML=c.__html),e.__k=[];else if(h&&(i.innerHTML=""),au(e.type=="template"?i.content:i,Si(d)?d:[d],e,t,r,v=="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,a,s?s[0]:t.__k&&Xr(t,0),o,u),s!=null)for(l=s.length;l--;)$s(s[l]);o||(l="value",v=="progress"&&_==null?i.removeAttribute("value"):_!=null&&(_!==i[l]||v=="progress"&&!_||v=="option"&&_!=D[l])&&ln(i,l,_,D[l],n),l="checked",A!=null&&A!=i[l]&&ln(i,l,A,D[l],n))}return i}function Qs(i,e,t){try{if(typeof i=="function"){var r=typeof i.__u=="function";r&&i.__u(),r&&e==null||(i.__u=i(e))}else i.current=e}catch(n){ve.__e(n,t)}}function cu(i,e,t){var r,n;if(ve.unmount&&ve.unmount(i),(r=i.ref)&&(r.current&&r.current!=i.__e||Qs(r,null,e)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){ve.__e(s,e)}r.base=r.__P=null}if(r=i.__k)for(n=0;n<r.length;n++)r[n]&&cu(r[n],e,t||typeof i.type!="function");t||$s(i.__e),i.__c=i.__=i.__e=void 0}function lp(i,e,t){return this.constructor(i,t)}function Yr(i,e,t){var r,n,s,a;e==document&&(e=document.documentElement),ve.__&&ve.__(i,e),n=(r=typeof t=="function")?null:t&&t.__k||e.__k,s=[],a=[],Js(e,i=(!r&&t||e).__k=$e(Rt,null,[i]),n||xi,xi,e.namespaceURI,!r&&t?[t]:n?null:e.firstChild?Ei.call(e.childNodes):null,s,!r&&t?t:n?n.__e:e.firstChild,r,a),fu(s,i,a)}function ea(i,e){Yr(i,e,ea)}function du(i,e,t){var r,n,s,a,o=Qt({},i.props);for(s in i.type&&i.type.defaultProps&&(a=i.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?n=e[s]:o[s]=e[s]==null&&a!=null?a[s]:e[s];return arguments.length>2&&(o.children=arguments.length>3?Ei.call(arguments,2):t),Di(i.type,o,r||i.key,n||i.ref,null)}function fn(i){function e(t){var r,n;return this.getChildContext||(r=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&r.forEach(function(a){a.__e=!0,Ks(a)})},this.sub=function(s){r.add(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r&&r.delete(s),a&&a.call(s)}}),t.children}return e.__c="__cC"+iu++,e.__=i,e.Provider=e.__l=(e.Consumer=function(t,r){return t.children(r)}).contextType=e,e}var Ei,ve,Jo,np,Nr,Qo,eu,tu,ru,Gs,Xs,Ys,iu,xi,nu,sp,Si,hn=Hs(()=>{xi={},nu=[],sp=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Si=Array.isArray;Ei=nu.slice,ve={__e:function(i,e,t,r){for(var n,s,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(i)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(i,r||{}),a=n.__d),a)return n.__E=n}catch(o){i=o}throw i}},Jo=0,np=function(i){return i!=null&&i.constructor==null},wt.prototype.setState=function(i,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Qt({},this.state),typeof i=="function"&&(i=i(Qt({},t),this.props)),i&&Qt(t,i),i!=null&&this.__v&&(e&&this._sb.push(e),Ks(this))},wt.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),Ks(this))},wt.prototype.render=Rt,Nr=[],eu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tu=function(i,e){return i.__v.__b-e.__v.__b},un.__r=0,ru=/(PointerCapture)$|Capture$/i,Gs=0,Xs=lu(!1),Ys=lu(!0),iu=0});function Or(i,e){ze.__h&&ze.__h(Oe,i,$r||e),$r=0;var t=Oe.__H||(Oe.__H={__:[],__h:[]});return i>=t.__.length&&t.__.push({}),t.__[i]}function tr(i){return $r=1,Rr(xu,i)}function Rr(i,e,t){var r=Or(hr++,2);if(r.t=i,!r.__c&&(r.__=[t?t(e):xu(void 0,e),function(o){var u=r.__N?r.__N[0]:r.__[0],l=r.t(u,o);u!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Oe,!Oe.__f)){var n=function(o,u,l){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(d){return!!d.__c});if(c.every(function(d){return!d.__N}))return!s||s.call(this,o,u,l);var h=r.__c.props!==o;return c.forEach(function(d){if(d.__N){var g=d.__[0];d.__=d.__N,d.__N=void 0,g!==d.__[0]&&(h=!0)}}),s&&s.call(this,o,u,l)||h};Oe.__f=!0;var s=Oe.shouldComponentUpdate,a=Oe.componentWillUpdate;Oe.componentWillUpdate=function(o,u,l){if(this.__e){var c=s;s=void 0,n(o,u,l),s=c}a&&a.call(this,o,u,l)},Oe.shouldComponentUpdate=n}return r.__N||r.__}function rr(i,e){var t=Or(hr++,3);!ze.__s&&ia(t.__H,e)&&(t.__=i,t.u=e,Oe.__H.__h.push(t))}function cr(i,e){var t=Or(hr++,4);!ze.__s&&ia(t.__H,e)&&(t.__=i,t.u=e,Oe.__h.push(t))}function br(i){return $r=5,wr(function(){return{current:i}},[])}function cn(i,e,t){$r=6,cr(function(){if(typeof i=="function"){var r=i(e());return function(){i(null),r&&typeof r=="function"&&r()}}if(i)return i.current=e(),function(){return i.current=null}},t==null?t:t.concat(i))}function wr(i,e){var t=Or(hr++,7);return ia(t.__H,e)&&(t.__=i(),t.__H=e,t.__h=i),t.__}function Zt(i,e){return $r=8,wr(function(){return i},e)}function dn(i){var e=Oe.context[i.__c],t=Or(hr++,9);return t.c=i,e?(t.__==null&&(t.__=!0,e.sub(Oe)),e.props.value):i.__}function pn(i,e){ze.useDebugValue&&ze.useDebugValue(e?e(i):i)}function fp(i){var e=Or(hr++,10),t=tr();return e.__=i,Oe.componentDidCatch||(Oe.componentDidCatch=function(r,n){e.__&&e.__(r,n),t[1](r)}),[t[0],function(){t[1](void 0)}]}function vn(){var i=Or(hr++,11);if(!i.__){for(var e=Oe.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);i.__="P"+t[0]+"-"+t[1]++}return i.__}function hp(){for(var i;i=vu.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(gn),i.__H.__h.forEach(ra),i.__H.__h=[]}catch(e){i.__H.__h=[],ze.__e(e,i.__v)}}function cp(i){var e,t=function(){clearTimeout(r),Eu&&cancelAnimationFrame(e),setTimeout(i)},r=setTimeout(t,100);Eu&&(e=requestAnimationFrame(t))}function gn(i){var e=Oe,t=i.__c;typeof t=="function"&&(i.__c=void 0,t()),Oe=e}function ra(i){var e=Oe;i.__c=i.__(),Oe=e}function ia(i,e){return!i||i.length!==e.length||e.some(function(t,r){return t!==i[r]})}function xu(i,e){return typeof e=="function"?e(i):e}var hr,Oe,ta,pu,$r,vu,ze,gu,mu,_u,yu,bu,wu,Eu,na=Hs(()=>{hn();$r=0,vu=[],ze=ve,gu=ze.__b,mu=ze.__r,_u=ze.diffed,yu=ze.__c,bu=ze.unmount,wu=ze.__;ze.__b=function(i){Oe=null,gu&&gu(i)},ze.__=function(i,e){i&&e.__k&&e.__k.__m&&(i.__m=e.__k.__m),wu&&wu(i,e)},ze.__r=function(i){mu&&mu(i),hr=0;var e=(Oe=i.__c).__H;e&&(ta===Oe?(e.__h=[],Oe.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(gn),e.__h.forEach(ra),e.__h=[],hr=0)),ta=Oe},ze.diffed=function(i){_u&&_u(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(vu.push(e)!==1&&pu===ze.requestAnimationFrame||((pu=ze.requestAnimationFrame)||cp)(hp)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),ta=Oe=null},ze.__c=function(i,e){e.some(function(t){try{t.__h.forEach(gn),t.__h=t.__h.filter(function(r){return!r.__||ra(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],ze.__e(r,t.__v)}}),yu&&yu(i,e)},ze.unmount=function(i){bu&&bu(i);var e,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{gn(r)}catch(n){e=n}}),t.__H=void 0,e&&ze.__e(e,t.__v))};Eu=typeof requestAnimationFrame=="function"});var Ju={};$o(Ju,{Children:()=>ku,Component:()=>wt,Fragment:()=>Rt,PureComponent:()=>mn,StrictMode:()=>$u,Suspense:()=>Ai,SuspenseList:()=>Kr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Vu,cloneElement:()=>Gu,createContext:()=>fn,createElement:()=>$e,createFactory:()=>ju,createPortal:()=>Pu,createRef:()=>on,default:()=>da,findDOMNode:()=>Xu,flushSync:()=>Yu,forwardRef:()=>Cu,hydrate:()=>Mu,isElement:()=>Ku,isFragment:()=>Hu,isMemo:()=>Zu,isValidElement:()=>Ci,lazy:()=>Bu,memo:()=>Du,render:()=>_n,startTransition:()=>ua,unmountComponentAtNode:()=>Ti,unstable_batchedUpdates:()=>yn,useCallback:()=>Zt,useContext:()=>dn,useDebugValue:()=>pn,useDeferredValue:()=>la,useEffect:()=>rr,useErrorBoundary:()=>fp,useId:()=>vn,useImperativeHandle:()=>cn,useInsertionEffect:()=>ha,useLayoutEffect:()=>cr,useMemo:()=>wr,useReducer:()=>Rr,useRef:()=>br,useState:()=>tr,useSyncExternalStore:()=>aa,useTransition:()=>fa,version:()=>Ap});function Su(i,e){for(var t in e)i[t]=e[t];return i}function sa(i,e){for(var t in i)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&i[r]!==e[r])return!0;return!1}function aa(i,e){var t=e(),r=tr({t:{__:t,u:e}}),n=r[0].t,s=r[1];return cr(function(){n.__=t,n.u=e,oa(n)&&s({t:n})},[i,t,e]),rr(function(){return oa(n)&&s({t:n}),i(function(){oa(n)&&s({t:n})})},[i]),t}function oa(i){var e,t,r=i.u,n=i.__;try{var s=r();return!((e=n)===(t=s)&&(e!==0||1/e==1/t)||e!=e&&t!=t)}catch(a){return!0}}function ua(i){i()}function la(i){return i}function fa(){return[!1,ua]}function mn(i,e){this.props=i,this.context=e}function Du(i,e){function t(n){var s=this.props.ref,a=s==n.ref;return!a&&s&&(s.call?s(null):s.current=null),e?!e(this.props,n)||!a:sa(this.props,n)}function r(n){return this.shouldComponentUpdate=t,$e(i,n)}return r.displayName="Memo("+(i.displayName||i.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function Cu(i){function e(t){var r=Su({},t);return delete r.ref,i(r,t.ref||null)}return e.$$typeof=dp,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(i.displayName||i.name)+")",e}function Ou(i,e,t){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),i.__c.__H=null),(i=Su({},i)).__c!=null&&(i.__c.__P===t&&(i.__c.__P=e),i.__c.__e=!0,i.__c=null),i.__k=i.__k&&i.__k.map(function(r){return Ou(r,e,t)})),i}function Ru(i,e,t){return i&&t&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(r){return Ru(r,e,t)}),i.__c&&i.__c.__P===e&&(i.__e&&t.appendChild(i.__e),i.__c.__e=!0,i.__c.__P=t)),i}function Ai(){this.__u=0,this.o=null,this.__b=null}function Iu(i){var e=i.__.__c;return e&&e.__a&&e.__a(i)}function Bu(i){var e,t,r;function n(s){if(e||(e=i()).then(function(a){t=a.default||a},function(a){r=a}),r)throw r;if(!t)throw e;return $e(t,s)}return n.displayName="Lazy",n.__f=!0,n}function Kr(){this.i=null,this.l=null}function vp(i){return this.getChildContext=function(){return i.context},i.children}function gp(i){var e=this,t=i.h;e.componentWillUnmount=function(){Yr(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),e.v||(e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),e.h.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.h.insertBefore(r,n)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.h.removeChild(r)}}),Yr($e(vp,{context:e.context},i.__v),e.v)}function Pu(i,e){var t=$e(gp,{__v:i,h:e});return t.containerInfo=e,t}function _n(i,e,t){return e.__k==null&&(e.textContent=""),Yr(i,e),typeof t=="function"&&t(),i?i.__c:null}function Mu(i,e,t){return ea(i,e),typeof t=="function"&&t(),i?i.__c:null}function Ep(){}function xp(){return this.cancelBubble}function Sp(){return this.defaultPrevented}function ju(i){return $e.bind(null,i)}function Ci(i){return!!i&&i.$$typeof===Fu}function Hu(i){return Ci(i)&&i.type===Rt}function Zu(i){return!!i&&!!i.displayName&&(typeof i.displayName=="string"||i.displayName instanceof String)&&i.displayName.startsWith("Memo(")}function Gu(i){return Ci(i)?du.apply(null,arguments):i}function Ti(i){return!!i.__k&&(Yr(null,i),!0)}function Xu(i){return i&&(i.base||i.nodeType===1&&i)||null}var ha,Au,dp,Tu,ku,pp,Nu,Lu,Fu,mp,_p,yp,bp,wp,qu,ca,Dp,zu,Uu,Wu,Vu,Ap,yn,Yu,$u,Ku,da,Jr=Hs(()=>{hn();hn();na();na();ha=cr;(mn.prototype=new wt).isPureReactComponent=!0,mn.prototype.shouldComponentUpdate=function(i,e){return sa(this.props,i)||sa(this.state,e)};Au=ve.__b;ve.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),Au&&Au(i)};dp=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;Tu=function(i,e){return i==null?null:er(er(i).map(e))},ku={map:Tu,forEach:Tu,count:function(i){return i?er(i).length:0},only:function(i){var e=er(i);if(e.length!==1)throw"Children.only";return e[0]},toArray:er},pp=ve.__e;ve.__e=function(i,e,t,r){if(i.then){for(var n,s=e;s=s.__;)if((n=s.__c)&&n.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),n.__c(i,e)}pp(i,e,t,r)};Nu=ve.unmount;ve.unmount=function(i){var e=i.__c;e&&e.__R&&e.__R(),e&&32&i.__u&&(i.type=null),Nu&&Nu(i)},(Ai.prototype=new wt).__c=function(i,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var n=Iu(r.__v),s=!1,a=function(){s||(s=!0,t.__R=null,n?n(o):o())};t.__R=a;var o=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Ru(u,u.__c.__P,u.__c.__O)}var l;for(r.setState({__a:r.__b=null});l=r.o.pop();)l.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),i.then(a,a)},Ai.prototype.componentWillUnmount=function(){this.o=[]},Ai.prototype.render=function(i,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ou(this.__b,t,r.__O=r.__P)}this.__b=null}var n=e.__a&&$e(Rt,null,i.fallback);return n&&(n.__u&=-33),[$e(Rt,null,e.__a?null:i.children),n]};Lu=function(i,e,t){if(++t[1]===t[0]&&i.l.delete(e),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.l.size))for(t=i.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.i=t=t[2]}};(Kr.prototype=new wt).__a=function(i){var e=this,t=Iu(e.__v),r=e.l.get(i);return r[0]++,function(n){var s=function(){e.props.revealOrder?(r.push(n),Lu(e,i,r)):n()};t?t(s):s()}},Kr.prototype.render=function(i){this.i=null,this.l=new Map;var e=er(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return i.children},Kr.prototype.componentDidUpdate=Kr.prototype.componentDidMount=function(){var i=this;this.l.forEach(function(e,t){Lu(i,t,e)})};Fu=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,mp=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_p=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,yp=/[A-Z0-9]/g,bp=typeof document!="undefined",wp=function(i){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(i)};wt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(wt.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(e){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:e})}})});qu=ve.event;ve.event=function(i){return qu&&(i=qu(i)),i.persist=Ep,i.isPropagationStopped=xp,i.isDefaultPrevented=Sp,i.nativeEvent=i};Dp={enumerable:!1,configurable:!0,get:function(){return this.class}},zu=ve.vnode;ve.vnode=function(i){typeof i.type=="string"&&function(e){var t=e.props,r=e.type,n={},s=r.indexOf("-")===-1;for(var a in t){var o=t[a];if(!(a==="value"&&"defaultValue"in t&&o==null||bp&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var u=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&o===!0?o="":u==="translate"&&o==="no"?o=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?a="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||wp(t.type)?u==="onfocus"?a="onfocusin":u==="onblur"?a="onfocusout":_p.test(a)&&(a=u):u=a="oninput":s&&mp.test(a)?a=a.replace(yp,"-$&").toLowerCase():o===null&&(o=void 0),u==="oninput"&&n[a=u]&&(a="oninputCapture"),n[a]=o}}r=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=er(t.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),r=="select"&&n.defaultValue!=null&&(n.value=er(t.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),t.class&&!t.className?(n.class=t.class,Object.defineProperty(n,"className",Dp)):(t.className&&!t.class||t.class&&t.className)&&(n.class=n.className=t.className),e.props=n}(i),i.$$typeof=Fu,zu&&zu(i)};Uu=ve.__r;ve.__r=function(i){Uu&&Uu(i),ca=i.__c};Wu=ve.diffed;ve.diffed=function(i){Wu&&Wu(i);var e=i.props,t=i.__e;t!=null&&i.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),ca=null};Vu={ReactCurrentDispatcher:{current:{readContext:function(i){return ca.__n[i.__c].props.value},useCallback:Zt,useContext:dn,useDebugValue:pn,useDeferredValue:la,useEffect:rr,useId:vn,useImperativeHandle:cn,useInsertionEffect:ha,useLayoutEffect:cr,useMemo:wr,useReducer:Rr,useRef:br,useState:tr,useSyncExternalStore:aa,useTransition:fa}}},Ap="18.3.1";yn=function(i,e){return i(e)},Yu=function(i,e){return i(e)},$u=Rt,Ku=Ci,da={useState:tr,useId:vn,useReducer:Rr,useEffect:rr,useLayoutEffect:cr,useInsertionEffect:ha,useTransition:fa,useDeferredValue:la,useSyncExternalStore:aa,startTransition:ua,useRef:br,useImperativeHandle:cn,useMemo:wr,useCallback:Zt,useContext:dn,useDebugValue:pn,version:"18.3.1",Children:ku,render:_n,hydrate:Mu,unmountComponentAtNode:Ti,createPortal:Pu,createElement:$e,createContext:fn,createFactory:ju,cloneElement:Gu,createRef:on,Fragment:Rt,isValidElement:Ci,isElement:Ku,isFragment:Hu,isMemo:Zu,findDOMNode:Xu,Component:wt,PureComponent:mn,memo:Du,forwardRef:Cu,flushSync:Yu,unstable_batchedUpdates:yn,StrictMode:$u,Suspense:Ai,SuspenseList:Kr,lazy:Bu,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vu}});var bn=$((T2,Qu)=>{Qu.exports=(Jr(),Ju)});var tl=$((k2,el)=>{"use strict";var Cp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";el.exports=Cp});var sl=$((N2,nl)=>{"use strict";var Tp=tl();function rl(){}function il(){}il.resetWarningCache=rl;nl.exports=function(){function i(r,n,s,a,o,u){if(u!==Tp){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:il,resetWarningCache:rl};return t.PropTypes=t,t}});var pa=$((I2,al)=>{al.exports=sl()();var O2,R2});var va=$((B2,ol)=>{"use strict";var kp=void 0;ol.exports=function(i){return i!==kp&&i!==null}});var ll=$((L2,ul)=>{"use strict";var Np=va(),Op={object:!0,function:!0,undefined:!0};ul.exports=function(i){return Np(i)?hasOwnProperty.call(Op,typeof i):!1}});var hl=$((P2,fl)=>{"use strict";var Rp=ll();fl.exports=function(i){if(!Rp(i))return!1;try{return i.constructor?i.constructor.prototype===i:!1}catch(e){return!1}}});var dl=$((F2,cl)=>{"use strict";var Ip=hl();cl.exports=function(i){if(typeof i!="function"||!hasOwnProperty.call(i,"length"))return!1;try{if(typeof i.length!="number"||typeof i.call!="function"||typeof i.apply!="function")return!1}catch(e){return!1}return!Ip(i)}});var vl=$((M2,pl)=>{"use strict";var Bp=dl(),Lp=/^\s*class[\s{/}]/,Pp=Function.prototype.toString;pl.exports=function(i){return!(!Bp(i)||Lp.test(Pp.call(i)))}});var ml=$((q2,gl)=>{"use strict";gl.exports=function(){var i=Object.assign,e;return typeof i!="function"?!1:(e={foo:"raz"},i(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}});var yl=$((z2,_l)=>{"use strict";_l.exports=function(){try{return Object.keys("primitive"),!0}catch(i){return!1}}});var wl=$((U2,bl)=>{"use strict";bl.exports=function(){}});var wn=$((W2,El)=>{"use strict";var Fp=wl()();El.exports=function(i){return i!==Fp&&i!==null}});var Sl=$((V2,xl)=>{"use strict";var Mp=wn(),qp=Object.keys;xl.exports=function(i){return qp(Mp(i)?Object(i):i)}});var Al=$((j2,Dl)=>{"use strict";Dl.exports=yl()()?Object.keys:Sl()});var Tl=$((H2,Cl)=>{"use strict";var zp=wn();Cl.exports=function(i){if(!zp(i))throw new TypeError("Cannot use null or undefined");return i}});var Nl=$((Z2,kl)=>{"use strict";var Up=Al(),Wp=Tl(),Vp=Math.max;kl.exports=function(i,e){var t,r,n=Vp(arguments.length,2),s;for(i=Object(Wp(i)),s=function(a){try{i[a]=e[a]}catch(o){t||(t=o)}},r=1;r<n;++r)e=arguments[r],Up(e).forEach(s);if(t!==void 0)throw t;return i}});var Rl=$((G2,Ol)=>{"use strict";Ol.exports=ml()()?Object.assign:Nl()});var Bl=$((X2,Il)=>{"use strict";var jp=wn(),Hp=Array.prototype.forEach,Zp=Object.create,Gp=function(i,e){var t;for(t in i)e[t]=i[t]};Il.exports=function(i){var e=Zp(null);return Hp.call(arguments,function(t){!jp(t)||Gp(Object(t),e)}),e}});var Pl=$((Y2,Ll)=>{"use strict";var ga="razdwatrzy";Ll.exports=function(){return typeof ga.contains!="function"?!1:ga.contains("dwa")===!0&&ga.contains("foo")===!1}});var Ml=$(($2,Fl)=>{"use strict";var Xp=String.prototype.indexOf;Fl.exports=function(i){return Xp.call(this,i,arguments[1])>-1}});var zl=$((K2,ql)=>{"use strict";ql.exports=Pl()()?String.prototype.contains:Ml()});var Hl=$((J2,jl)=>{"use strict";var En=va(),Ul=vl(),Wl=Rl(),Vl=Bl(),ki=zl(),Yp=jl.exports=function(i,e){var t,r,n,s,a;return arguments.length<2||typeof i!="string"?(s=e,e=i,i=null):s=arguments[2],En(i)?(t=ki.call(i,"c"),r=ki.call(i,"e"),n=ki.call(i,"w")):(t=n=!0,r=!1),a={value:e,configurable:t,enumerable:r,writable:n},s?Wl(Vl(s),a):a};Yp.gs=function(i,e,t){var r,n,s,a;return typeof i!="string"?(s=t,t=e,e=i,i=null):s=arguments[3],En(e)?Ul(e)?En(t)?Ul(t)||(s=t,t=void 0):t=void 0:(s=e,e=t=void 0):e=void 0,En(i)?(r=ki.call(i,"c"),n=ki.call(i,"e")):(r=!0,n=!1),a={get:e,set:t,configurable:r,enumerable:n},s?Wl(Vl(s),a):a}});var Gl=$((Q2,Zl)=>{"use strict";Zl.exports=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i}});var Gt=$((Da,Jl)=>{"use strict";var xn=Hl(),ma=Gl(),_a=Function.prototype.apply,ya=Function.prototype.call,Xl=Object.create,$p=Object.defineProperty,Yl=Object.defineProperties,ba=Object.prototype.hasOwnProperty,wa={configurable:!0,enumerable:!1,writable:!0},Sn,Ea,Dn,xa,$l,Sa,Kl;Sn=function(i,e){var t;return ma(e),ba.call(this,"__ee__")?t=this.__ee__:(t=wa.value=Xl(null),$p(this,"__ee__",wa),wa.value=null),t[i]?typeof t[i]=="object"?t[i].push(e):t[i]=[t[i],e]:t[i]=e,this};Ea=function(i,e){var t,r;return ma(e),r=this,Sn.call(this,i,t=function(){Dn.call(r,i,t),_a.call(e,this,arguments)}),t.__eeOnceListener__=e,this};Dn=function(i,e){var t,r,n,s;if(ma(e),!ba.call(this,"__ee__"))return this;if(t=this.__ee__,!t[i])return this;if(r=t[i],typeof r=="object")for(s=0;n=r[s];++s)(n===e||n.__eeOnceListener__===e)&&(r.length===2?t[i]=r[s?0:1]:r.splice(s,1));else(r===e||r.__eeOnceListener__===e)&&delete t[i];return this};xa=function(i){var e,t,r,n,s;if(!!ba.call(this,"__ee__")&&(n=this.__ee__[i],!!n))if(typeof n=="object"){for(t=arguments.length,s=new Array(t-1),e=1;e<t;++e)s[e-1]=arguments[e];for(n=n.slice(),e=0;r=n[e];++e)_a.call(r,this,s)}else switch(arguments.length){case 1:ya.call(n,this);break;case 2:ya.call(n,this,arguments[1]);break;case 3:ya.call(n,this,arguments[1],arguments[2]);break;default:for(t=arguments.length,s=new Array(t-1),e=1;e<t;++e)s[e-1]=arguments[e];_a.call(n,this,s)}};$l={on:Sn,once:Ea,off:Dn,emit:xa};Sa={on:xn(Sn),once:xn(Ea),off:xn(Dn),emit:xn(xa)};Kl=Yl({},Sa);Jl.exports=Da=function(i){return i==null?Xl(Kl):Yl(Object(i),Sa)};Da.methods=$l});var Oi=$(Ni=>{"use strict";function Kp(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var r=0;r<i.length;r++)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];if(e.call(void 0,n,r,i))return n}}function Aa(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}var Ql=Aa({HTML:"text/html",isHTML:function(i){return i===Ql.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ef=Aa({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===ef.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ni.find=Kp;Ni.freeze=Aa;Ni.MIME_TYPE=Ql;Ni.NAMESPACE=ef});var Fa=$(Er=>{var tf=Oi(),ir=tf.find,Ri=tf.NAMESPACE;function Jp(i){return i!==""}function Qp(i){return i?i.split(/[\t\n\f\r ]+/).filter(Jp):[]}function ev(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function rf(i){if(!i)return[];var e=Qp(i);return Object.keys(e.reduce(ev,{}))}function tv(i){return function(e){return i&&i.indexOf(e)!==-1}}function Ii(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function mt(i,e){var t=i.prototype;if(!(t instanceof e)){let n=function(){};var r=n;n.prototype=e.prototype,n=new n,Ii(t,n),i.prototype=t=n}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var _t={},Xt=_t.ELEMENT_NODE=1,Qr=_t.ATTRIBUTE_NODE=2,An=_t.TEXT_NODE=3,nf=_t.CDATA_SECTION_NODE=4,sf=_t.ENTITY_REFERENCE_NODE=5,rv=_t.ENTITY_NODE=6,af=_t.PROCESSING_INSTRUCTION_NODE=7,of=_t.COMMENT_NODE=8,uf=_t.DOCUMENT_NODE=9,lf=_t.DOCUMENT_TYPE_NODE=10,dr=_t.DOCUMENT_FRAGMENT_NODE=11,iv=_t.NOTATION_NODE=12,ut={},it={},ty=ut.INDEX_SIZE_ERR=(it[1]="Index size error",1),ry=ut.DOMSTRING_SIZE_ERR=(it[2]="DOMString size error",2),yt=ut.HIERARCHY_REQUEST_ERR=(it[3]="Hierarchy request error",3),iy=ut.WRONG_DOCUMENT_ERR=(it[4]="Wrong document",4),ny=ut.INVALID_CHARACTER_ERR=(it[5]="Invalid character",5),sy=ut.NO_DATA_ALLOWED_ERR=(it[6]="No data allowed",6),ay=ut.NO_MODIFICATION_ALLOWED_ERR=(it[7]="No modification allowed",7),ff=ut.NOT_FOUND_ERR=(it[8]="Not found",8),oy=ut.NOT_SUPPORTED_ERR=(it[9]="Not supported",9),hf=ut.INUSE_ATTRIBUTE_ERR=(it[10]="Attribute in use",10),uy=ut.INVALID_STATE_ERR=(it[11]="Invalid state",11),ly=ut.SYNTAX_ERR=(it[12]="Syntax error",12),fy=ut.INVALID_MODIFICATION_ERR=(it[13]="Invalid modification",13),hy=ut.NAMESPACE_ERR=(it[14]="Invalid namespace",14),cy=ut.INVALID_ACCESS_ERR=(it[15]="Invalid access",15);function Ze(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,it[i]),this.message=it[i],Error.captureStackTrace&&Error.captureStackTrace(this,Ze);return t.code=i,e&&(this.message=this.message+": "+e),t}Ze.prototype=Error.prototype;Ii(ut,Ze);function pr(){}pr.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],r=0;r<this.length;r++)ti(this[r],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function ei(i,e){this._node=i,this._refresh=e,Ca(this)}function Ca(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(Tf(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var r=t.length;r in i;r++)Object.prototype.hasOwnProperty.call(i,r)&&delete i[r];Ii(t,i),i._inc=e}}ei.prototype.item=function(i){return Ca(this),this[i]||null};mt(ei,pr);function Cn(){}function cf(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function df(i,e,t,r){if(r?e[cf(e,r)]=t:e[e.length++]=t,i){t.ownerElement=i;var n=i.ownerDocument;n&&(r&&mf(n,i,r),nv(n,i,t))}}function pf(i,e,t){var r=cf(e,t);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,i){var s=i.ownerDocument;s&&(mf(s,i,t),t.ownerElement=null)}}else throw new Ze(ff,new Error(i.tagName+"@"+t))}Cn.prototype={length:0,item:pr.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new Ze(hf);var t=this.getNamedItem(i.nodeName);return df(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new Ze(hf);return t=this.getNamedItemNS(i.namespaceURI,i.localName),df(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return pf(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return pf(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==i)return r}return null}};function vf(){}vf.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var r=new Li;if(r.implementation=this,r.childNodes=new pr,r.doctype=t||null,t&&r.appendChild(t),e){var n=r.createElementNS(i,e);r.appendChild(n)}return r},createDocumentType:function(i,e,t){var r=new Nn;return r.name=i,r.nodeName=i,r.publicId=e||"",r.systemId=t||"",r}};function Ne(){}Ne.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return Tn(this,i,e)},replaceChild:function(i,e){Tn(this,i,e,wf),e&&this.removeChild(e)},removeChild:function(i){return _f(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return Pa(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==An&&i.nodeType==An?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===i)return r}e=e.nodeType==Qr?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&i in t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==Qr?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function gf(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}Ii(_t,Ne);Ii(_t,Ne.prototype);function Bi(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Bi(i,e))return!0;while(i=i.nextSibling)}function Li(){this.ownerDocument=this}function nv(i,e,t){i&&i._inc++;var r=t.namespaceURI;r===Ri.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function mf(i,e,t,r){i&&i._inc++;var n=t.namespaceURI;n===Ri.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function Ta(i,e,t){if(i&&i._inc){i._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function _f(i,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:i.firstChild=r,r?r.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Ta(i.ownerDocument,i),e}function sv(i){return i&&(i.nodeType===Ne.DOCUMENT_NODE||i.nodeType===Ne.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ne.ELEMENT_NODE)}function av(i){return i&&(nr(i)||ka(i)||vr(i)||i.nodeType===Ne.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ne.COMMENT_NODE||i.nodeType===Ne.PROCESSING_INSTRUCTION_NODE)}function vr(i){return i&&i.nodeType===Ne.DOCUMENT_TYPE_NODE}function nr(i){return i&&i.nodeType===Ne.ELEMENT_NODE}function ka(i){return i&&i.nodeType===Ne.TEXT_NODE}function yf(i,e){var t=i.childNodes||[];if(ir(t,nr)||vr(e))return!1;var r=ir(t,vr);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function bf(i,e){var t=i.childNodes||[];function r(s){return nr(s)&&s!==e}if(ir(t,r))return!1;var n=ir(t,vr);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function ov(i,e,t){if(!sv(i))throw new Ze(yt,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new Ze(ff,"child not in parent");if(!av(e)||vr(e)&&i.nodeType!==Ne.DOCUMENT_NODE)throw new Ze(yt,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function uv(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ne.DOCUMENT_FRAGMENT_NODE){var s=n.filter(nr);if(s.length>1||ir(n,ka))throw new Ze(yt,"More than one element or text in fragment");if(s.length===1&&!yf(i,t))throw new Ze(yt,"Element in fragment can not be inserted before doctype")}if(nr(e)&&!yf(i,t))throw new Ze(yt,"Only one element can be added and only after doctype");if(vr(e)){if(ir(r,vr))throw new Ze(yt,"Only one doctype is allowed");var a=ir(r,nr);if(t&&r.indexOf(a)<r.indexOf(t))throw new Ze(yt,"Doctype can only be inserted before an element");if(!t&&a)throw new Ze(yt,"Doctype can not be appended since element is present")}}function wf(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ne.DOCUMENT_FRAGMENT_NODE){var s=n.filter(nr);if(s.length>1||ir(n,ka))throw new Ze(yt,"More than one element or text in fragment");if(s.length===1&&!bf(i,t))throw new Ze(yt,"Element in fragment can not be inserted before doctype")}if(nr(e)&&!bf(i,t))throw new Ze(yt,"Only one element can be added and only after doctype");if(vr(e)){let u=function(l){return vr(l)&&l!==t};var o=u;if(ir(r,u))throw new Ze(yt,"Only one doctype is allowed");var a=ir(r,nr);if(t&&r.indexOf(a)<r.indexOf(t))throw new Ze(yt,"Doctype can only be inserted before an element")}}function Tn(i,e,t,r){ov(i,e,t),i.nodeType===Ne.DOCUMENT_NODE&&(r||uv)(i,e,t);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===dr){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=t?t.previousSibling:i.lastChild;s.previousSibling=o,a.nextSibling=t,o?o.nextSibling=s:i.firstChild=s,t==null?i.lastChild=a:t.previousSibling=a;do s.parentNode=i;while(s!==a&&(s=s.nextSibling));return Ta(i.ownerDocument||i,i),e.nodeType==dr&&(e.firstChild=e.lastChild=null),e}function lv(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,Ta(i.ownerDocument,i,e),e}Li.prototype={nodeName:"#document",nodeType:uf,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==dr){for(var t=i.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return i}return Tn(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===Xt&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),_f(this,i)},replaceChild:function(i,e){Tn(this,i,e,wf),i.ownerDocument=this,e&&this.removeChild(e),nr(i)&&(this.documentElement=i)},importNode:function(i,e){return Cf(this,i,e)},getElementById:function(i){var e=null;return Bi(this.documentElement,function(t){if(t.nodeType==Xt&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=rf(i);return new ei(this,function(t){var r=[];return e.length>0&&Bi(t.documentElement,function(n){if(n!==t&&n.nodeType===Xt){var s=n.getAttribute("class");if(s){var a=i===s;if(!a){var o=rf(s);a=e.every(tv(o))}a&&r.push(n)}}}),r})},createElement:function(i){var e=new Ir;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new pr;var t=e.attributes=new Cn;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new On;return i.ownerDocument=this,i.childNodes=new pr,i},createTextNode:function(i){var e=new Na;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new Oa;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new Ra;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new Ba;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new kn;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new Ia;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Ir,r=e.split(":"),n=t.attributes=new Cn;return t.childNodes=new pr,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,n._ownerElement=t,t},createAttributeNS:function(i,e){var t=new kn,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};mt(Li,Ne);function Ir(){this._nsMap={}}Ir.prototype={nodeType:Xt,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===dr?this.insertBefore(i,null):lv(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var r=this.ownerDocument.createAttributeNS(i,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new ei(this,function(e){var t=[];return Bi(e,function(r){r!==e&&r.nodeType==Xt&&(i==="*"||r.tagName==i)&&t.push(r)}),t})},getElementsByTagNameNS:function(i,e){return new ei(this,function(t){var r=[];return Bi(t,function(n){n!==t&&n.nodeType===Xt&&(i==="*"||n.namespaceURI===i)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};Li.prototype.getElementsByTagName=Ir.prototype.getElementsByTagName;Li.prototype.getElementsByTagNameNS=Ir.prototype.getElementsByTagNameNS;mt(Ir,Ne);function kn(){}kn.prototype.nodeType=Qr;mt(kn,Ne);function Pi(){}Pi.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(it[yt])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var r=this.data.substring(0,i),n=this.data.substring(i+e);t=r+t+n,this.nodeValue=this.data=t,this.length=t.length}};mt(Pi,Ne);function Na(){}Na.prototype={nodeName:"#text",nodeType:An,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};mt(Na,Pi);function Oa(){}Oa.prototype={nodeName:"#comment",nodeType:of};mt(Oa,Pi);function Ra(){}Ra.prototype={nodeName:"#cdata-section",nodeType:nf};mt(Ra,Pi);function Nn(){}Nn.prototype.nodeType=lf;mt(Nn,Ne);function Ef(){}Ef.prototype.nodeType=iv;mt(Ef,Ne);function xf(){}xf.prototype.nodeType=rv;mt(xf,Ne);function Ia(){}Ia.prototype.nodeType=sf;mt(Ia,Ne);function On(){}On.prototype.nodeName="#document-fragment";On.prototype.nodeType=dr;mt(On,Ne);function Ba(){}Ba.prototype.nodeType=af;mt(Ba,Ne);function Sf(){}Sf.prototype.serializeToString=function(i,e,t){return Df.call(i,e,t)};Ne.prototype.toString=Df;function Df(i,e){var t=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return ti(this,t,i,e,a),t.join("")}function Af(i,e,t){var r=i.prefix||"",n=i.namespaceURI;if(!n||r==="xml"&&n===Ri.XML||n===Ri.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===r)return a.namespace!==n}return!0}function La(i,e,t){i.push(" ",e,'="',t.replace(/[<&"]/g,gf),'"')}function ti(i,e,t,r,n){if(n||(n=[]),r)if(i=r(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case Xt:var s=i.attributes,a=s.length,o=i.firstChild,u=i.tagName;t=Ri.isHTML(i.namespaceURI)||t;var l=u;if(!t&&!i.prefix&&i.namespaceURI){for(var c,h=0;h<s.length;h++)if(s.item(h).name==="xmlns"){c=s.item(h).value;break}if(!c)for(var d=n.length-1;d>=0;d--){var g=n[d];if(g.prefix===""&&g.namespace===i.namespaceURI){c=g.namespace;break}}if(c!==i.namespaceURI)for(var d=n.length-1;d>=0;d--){var g=n[d];if(g.namespace===i.namespaceURI){g.prefix&&(l=g.prefix+":"+u);break}}}e.push("<",l);for(var _=0;_<a;_++){var A=s.item(_);A.prefix=="xmlns"?n.push({prefix:A.localName,namespace:A.value}):A.nodeName=="xmlns"&&n.push({prefix:"",namespace:A.value})}for(var _=0;_<a;_++){var A=s.item(_);if(Af(A,t,n)){var D=A.prefix||"",p=A.namespaceURI;La(e,D?"xmlns:"+D:"xmlns",p),n.push({prefix:D,namespace:p})}ti(A,e,t,r,n)}if(u===l&&Af(i,t,n)){var D=i.prefix||"",p=i.namespaceURI;La(e,D?"xmlns:"+D:"xmlns",p),n.push({prefix:D,namespace:p})}if(o||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),t&&/^script$/i.test(u))for(;o;)o.data?e.push(o.data):ti(o,e,t,r,n.slice()),o=o.nextSibling;else for(;o;)ti(o,e,t,r,n.slice()),o=o.nextSibling;e.push("</",l,">")}else e.push("/>");return;case uf:case dr:for(var o=i.firstChild;o;)ti(o,e,t,r,n.slice()),o=o.nextSibling;return;case Qr:return La(e,i.name,i.value);case An:return e.push(i.data.replace(/[<&]/g,gf).replace(/]]>/g,"]]&gt;"));case nf:return e.push("<![CDATA[",i.data,"]]>");case of:return e.push("<!--",i.data,"-->");case lf:var v=i.publicId,y=i.systemId;if(e.push("<!DOCTYPE ",i.name),v)e.push(" PUBLIC ",v),y&&y!="."&&e.push(" ",y),e.push(">");else if(y&&y!=".")e.push(" SYSTEM ",y,">");else{var T=i.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case af:return e.push("<?",i.target," ",i.data,"?>");case sf:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function Cf(i,e,t){var r;switch(e.nodeType){case Xt:r=e.cloneNode(!1),r.ownerDocument=i;case dr:break;case Qr:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=i,r.parentNode=null,t)for(var n=e.firstChild;n;)r.appendChild(Cf(i,n,t)),n=n.nextSibling;return r}function Pa(i,e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new pr),r.ownerDocument=i,r.nodeType){case Xt:var a=e.attributes,o=r.attributes=new Cn,u=a.length;o._ownerElement=r;for(var l=0;l<u;l++)r.setAttributeNode(Pa(i,a.item(l),!0));break;case Qr:t=!0}if(t)for(var c=e.firstChild;c;)r.appendChild(Pa(i,c,t)),c=c.nextSibling;return r}function Tf(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case Xt:case dr:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};dy=i,Object.defineProperty(ei.prototype,"length",{get:function(){return Ca(this),this.$$length}}),Object.defineProperty(Ne.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case Xt:case dr:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Tf=function(e,t,r){e["$$"+t]=r}}}catch(i){}var dy;Er.DocumentType=Nn;Er.DOMException=Ze;Er.DOMImplementation=vf;Er.Element=Ir;Er.Node=Ne;Er.NodeList=pr;Er.XMLSerializer=Sf});var Nf=$(Fi=>{"use strict";var kf=Oi().freeze;Fi.XML_ENTITIES=kf({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});Fi.HTML_ENTITIES=kf({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});Fi.entityMap=Fi.HTML_ENTITIES});var Mf=$(qa=>{var Mi=Oi().NAMESPACE,Ma=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Of=new RegExp("[\\-\\.0-9"+Ma.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Rf=new RegExp("^"+Ma.source+Of.source+"*(?::"+Ma.source+Of.source+"*)?$"),qi=0,xr=1,ri=2,zi=3,ii=4,ni=5,Ui=6,Rn=7;function si(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,si)}si.prototype=new Error;si.prototype.name=si.name;function If(){}If.prototype={parse:function(i,e,t){var r=this.domBuilder;r.startDocument(),Pf(e,e={}),fv(i,e,t,r,this.errorHandler),r.endDocument()}};function fv(i,e,t,r,n){function s(re){if(re>65535){re-=65536;var ce=55296+(re>>10),fe=56320+(re&1023);return String.fromCharCode(ce,fe)}else return String.fromCharCode(re)}function a(re){var ce=re.slice(1,-1);return ce in t?t[ce]:ce.charAt(0)==="#"?s(parseInt(ce.substr(1).replace("x","0x"))):(n.error("entity not found:"+re),re)}function o(re){if(re>A){var ce=i.substring(A,re).replace(/&#?\w+;/g,a);d&&u(A),r.characters(ce,0,re-A),A=re}}function u(re,ce){for(;re>=c&&(ce=h.exec(i));)l=ce.index,c=l+ce[0].length,d.lineNumber++;d.columnNumber=re-l+1}for(var l=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,g=[{currentNSMap:e}],_={},A=0;;){try{var D=i.indexOf("<",A);if(D<0){if(!i.substr(A).match(/^\s*$/)){var p=r.doc,v=p.createTextNode(i.substr(A));p.appendChild(v),r.currentElement=v}return}switch(D>A&&o(D),i.charAt(D+1)){case"/":var y=i.indexOf(">",D+3),T=i.substring(D+2,y).replace(/[ \t\n\r]+$/g,""),P=g.pop();y<0?(T=i.substring(D+2).replace(/[\s<].*/,""),n.error("end tag name: "+T+" is not complete:"+P.tagName),y=D+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),n.error("end tag name: "+T+" maybe not complete"),y=D+1+T.length);var w=P.localNSMap,C=P.tagName==T,k=C||P.tagName&&P.tagName.toLowerCase()==T.toLowerCase();if(k){if(r.endElement(P.uri,P.localName,T),w)for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&r.endPrefixMapping(R);C||n.fatalError("end tag name: "+T+" is not match the current start tagName:"+P.tagName)}else g.push(P);y++;break;case"?":d&&u(D),y=vv(i,D,r);break;case"!":d&&u(D),y=pv(i,D,r,n);break;default:d&&u(D);var q=new Ff,M=g[g.length-1].currentNSMap,y=hv(i,D,q,M,a,n),G=q.length;if(!q.closed&&dv(i,y,q.tagName,_)&&(q.closed=!0,t.nbsp||n.warning("unclosed xml attribute")),d&&G){for(var H=Bf(d,{}),ie=0;ie<G;ie++){var de=q[ie];u(de.offset),de.locator=Bf(d,{})}r.locator=H,Lf(q,r,M)&&g.push(q),r.locator=d}else Lf(q,r,M)&&g.push(q);Mi.isHTML(q.uri)&&!q.closed?y=cv(i,y,q.tagName,a,r):y++}}catch(re){if(re instanceof si)throw re;n.error("element parse error: "+re),y=-1}y>A?A=y:o(Math.max(D,A)+1)}}function Bf(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function hv(i,e,t,r,n,s){function a(g,_,A){t.attributeNames.hasOwnProperty(g)&&s.fatalError("Attribute "+g+" redefined"),t.addValue(g,_,A)}for(var o,u,l=++e,c=qi;;){var h=i.charAt(l);switch(h){case"=":if(c===xr)o=i.slice(e,l),c=zi;else if(c===ri)c=zi;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===zi||c===xr)if(c===xr&&(s.warning('attribute value must after "="'),o=i.slice(e,l)),e=l+1,l=i.indexOf(h,e),l>0)u=i.slice(e,l).replace(/&#?\w+;/g,n),a(o,u,e-1),c=ni;else throw new Error("attribute value no end '"+h+"' match");else if(c==ii)u=i.slice(e,l).replace(/&#?\w+;/g,n),a(o,u,e),s.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=l+1,c=ni;else throw new Error('attribute value must after "="');break;case"/":switch(c){case qi:t.setTagName(i.slice(e,l));case ni:case Ui:case Rn:c=Rn,t.closed=!0;case ii:case xr:break;case ri:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==qi&&t.setTagName(i.slice(e,l)),l;case">":switch(c){case qi:t.setTagName(i.slice(e,l));case ni:case Ui:case Rn:break;case ii:case xr:u=i.slice(e,l),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case ri:c===ri&&(u=o),c==ii?(s.warning('attribute "'+u+'" missed quot(")!'),a(o,u.replace(/&#?\w+;/g,n),e)):((!Mi.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case zi:throw new Error("attribute value missed!!")}return l;case"\x80":h=" ";default:if(h<=" ")switch(c){case qi:t.setTagName(i.slice(e,l)),c=Ui;break;case xr:o=i.slice(e,l),c=ri;break;case ii:var u=i.slice(e,l).replace(/&#?\w+;/g,n);s.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,e);case ni:c=Ui;break}else switch(c){case ri:var d=t.tagName;(!Mi.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=l,c=xr;break;case ni:s.warning('attribute space is required"'+o+'"!!');case Ui:c=xr,e=l;break;case zi:c=ii,e=l;break;case Rn:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Lf(i,e,t){for(var r=i.tagName,n=null,s=i.length;s--;){var a=i[s],o=a.qName,u=a.value,d=o.indexOf(":");if(d>0)var l=a.prefix=o.slice(0,d),c=o.slice(d+1),h=l==="xmlns"&&c;else c=o,l=null,h=o==="xmlns"&&"";a.localName=c,h!==!1&&(n==null&&(n={},Pf(t,t={})),t[h]=n[h]=u,a.uri=Mi.XMLNS,e.startPrefixMapping(h,u))}for(var s=i.length;s--;){a=i[s];var l=a.prefix;l&&(l==="xml"&&(a.uri=Mi.XML),l!=="xmlns"&&(a.uri=t[l||""]))}var d=r.indexOf(":");d>0?(l=i.prefix=r.slice(0,d),c=i.localName=r.slice(d+1)):(l=null,c=i.localName=r);var g=i.uri=t[l||""];if(e.startElement(g,c,r,i),i.closed){if(e.endElement(g,c,r),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return i.currentNSMap=t,i.localNSMap=n,!0}function cv(i,e,t,r,n){if(/^(?:script|textarea)$/i.test(t)){var s=i.indexOf("</"+t+">",e),a=i.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function dv(i,e,t,r){var n=r[t];return n==null&&(n=i.lastIndexOf("</"+t+">"),n<e&&(n=i.lastIndexOf("</"+t)),r[t]=n),n<e}function Pf(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function pv(i,e,t,r){var n=i.charAt(e+2);switch(n){case"-":if(i.charAt(e+3)==="-"){var s=i.indexOf("-->",e+4);return s>e?(t.comment(i,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var s=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,s-e-9),t.endCDATA(),s+3}var a=gv(i,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],l=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var h=a[o-1];return t.startDTD(u,l,c),t.endDTD(),h.index+h[0].length}}return-1}function vv(i,e,t){var r=i.indexOf("?>",e);if(r){var n=i.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){var s=n[0].length;return t.processingInstruction(n[1],n[2]),r+2}else return-1}return-1}function Ff(){this.attributeNames={}}Ff.prototype={setTagName:function(i){if(!Rf.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!Rf.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function gv(i,e){var t,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(i);t=n.exec(i);)if(r.push(t),t[1])return r}qa.XMLReader=If;qa.ParseError=si});var jf=$(Vi=>{var mv=Oi(),za=Fa(),qf=Nf(),zf=Mf(),_v=za.DOMImplementation,Uf=mv.NAMESPACE,yv=zf.ParseError,bv=zf.XMLReader;function Wf(i){this.options=i||{locator:{}}}Wf.prototype.parseFromString=function(i,e){var t=this.options,r=new bv,n=t.domBuilder||new Wi,s=t.errorHandler,a=t.locator,o=t.xmlns||{},u=/\/x?html?$/.test(e),l=u?qf.HTML_ENTITIES:qf.XML_ENTITIES;return a&&n.setDocumentLocator(a),r.errorHandler=wv(s,n,a),r.domBuilder=t.domBuilder||n,u&&(o[""]=Uf.HTML),o.xml=o.xml||Uf.XML,i&&typeof i=="string"?r.parse(i,o,l):r.errorHandler.error("invalid doc source"),n.doc};function wv(i,e,t){if(!i){if(e instanceof Wi)return e;i=e}var r={},n=i instanceof Function;t=t||{};function s(a){var o=i[a];!o&&n&&(o=i.length==2?function(u){i(a,u)}:i),r[a]=o&&function(u){o("[xmldom "+a+"]	"+u+Ua(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Wi(){this.cdata=!1}function ai(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}Wi.prototype={startDocument:function(){this.doc=new _v().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,r){var n=this.doc,s=n.createElementNS(i,t||e),a=r.length;In(this,s),this.currentElement=s,this.locator&&ai(this.locator,s);for(var o=0;o<a;o++){var i=r.getURI(o),u=r.getValue(o),t=r.getQName(o),l=n.createAttributeNS(i,t);this.locator&&ai(r.getLocator(o),l),l.value=l.nodeValue=u,s.setAttributeNode(l)}},endElement:function(i,e,t){var r=this.currentElement,n=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&ai(this.locator,t),In(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=Vf.apply(this,arguments),i){if(this.cdata)var r=this.doc.createCDATASection(i);else var r=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(i)&&this.doc.appendChild(r),this.locator&&ai(this.locator,r)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=Vf.apply(this,arguments);var r=this.doc.createComment(i);this.locator&&ai(this.locator,r),In(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(i,e,t);this.locator&&ai(this.locator,n),In(this,n),this.doc.doctype=n}},warning:function(i){console.warn("[xmldom warning]	"+i,Ua(this.locator))},error:function(i){console.error("[xmldom error]	"+i,Ua(this.locator))},fatalError:function(i){throw new yv(i,this.locator)}};function Ua(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function Vf(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){Wi.prototype[i]=function(){return null}});function In(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}Vi.__DOMHandler=Wi;Vi.DOMParser=Wf;Vi.DOMImplementation=za.DOMImplementation;Vi.XMLSerializer=za.XMLSerializer});var Wa=$(Bn=>{var Hf=Fa();Bn.DOMImplementation=Hf.DOMImplementation;Bn.XMLSerializer=Hf.XMLSerializer;Bn.DOMParser=jf().DOMParser});var Be=$(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.RangeObject=void 0;pe.blob2base64=Xv;pe.borders=Bv;pe.bounds=Iv;pe.createBase64Url=Wv;pe.createBlob=Yf;pe.createBlobUrl=zv;pe.defaults=Nv;pe.defer=Yv;pe.documentHeight=Av;pe.extend=Ov;pe.filterChildren=Jv;pe.findChildren=Kv;pe.getParentByTagName=Qv;pe.indexOfElementNode=Mv;pe.indexOfNode=ja;pe.indexOfSorted=Va;pe.indexOfTextNode=Fv;pe.insert=Rv;pe.isElement=Cv;pe.isFloat=Tv;pe.isNumber=Xf;pe.isXml=qv;pe.locationOf=Ln;pe.nodeBounds=Lv;pe.parents=Za;pe.parse=jv;pe.prefixed=kv;pe.qs=Hv;pe.qsa=$f;pe.qsp=Zv;pe.querySelectorByType=$v;pe.requestAnimationFrame=void 0;pe.revokeBlobUrl=Uv;pe.sprint=Gv;pe.treeWalker=Kf;pe.type=Vv;pe.uuid=Gf;pe.walk=Ha;pe.windowBounds=Pv;var Ev=Wa(),xv=typeof window!="undefined"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1;pe.requestAnimationFrame=xv;var Sv=1,Dv=3,Zf=typeof URL!="undefined"?URL:typeof window!="undefined"?window.URL||window.webkitURL||window.mozURL:void 0;function Gf(){var i=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(i+Math.random()*16)%16|0;return i=Math.floor(i/16),(t=="x"?r:r&7|8).toString(16)});return e}function Av(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Cv(i){return!!(i&&i.nodeType==1)}function Xf(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Tv(i){let e=parseFloat(i);return Xf(i)===!1?!1:typeof i=="string"&&i.indexOf(".")>-1?!0:Math.floor(e)!==e}function kv(i){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=i.toLowerCase(),n=e.length;if(typeof document=="undefined"||typeof document.body.style[r]!="undefined")return i;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+r]!="undefined")return t[s]+r;return i}function Nv(i){for(var e=1,t=arguments.length;e<t;e++){var r=arguments[e];for(var n in r)i[n]===void 0&&(i[n]=r[n])}return i}function Ov(i){var e=[].slice.call(arguments,1);return e.forEach(function(t){!t||Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}),i}function Rv(i,e,t){var r=Ln(i,e,t);return e.splice(r,0,i),r}function Ln(i,e,t,r,n){var s=r||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(l,c){if(l>c)return 1;if(l<c)return-1;if(l==c)return 0}),a-s<=0?o:(u=t(e[o],i),a-s==1?u>=0?o:o+1:u===0?o:u===-1?Ln(i,e,t,o,a):Ln(i,e,t,s,o))}function Va(i,e,t,r,n){var s=r||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(l,c){if(l>c)return 1;if(l<c)return-1;if(l==c)return 0}),a-s<=0?-1:(u=t(e[o],i),a-s==1?u===0?o:-1:u===0?o:u===-1?Va(i,e,t,o,a):Va(i,e,t,s,o))}function Iv(i){var e=window.getComputedStyle(i),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Bv(i){var e=window.getComputedStyle(i),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Lv(i){let e,t=i.ownerDocument;if(i.nodeType==Node.TEXT_NODE){let r=t.createRange();r.selectNodeContents(i),e=r.getBoundingClientRect()}else e=i.getBoundingClientRect();return e}function Pv(){var i=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:i,bottom:e,width:i,height:e}}function ja(i,e){for(var t=i.parentNode,r=t.childNodes,n,s=-1,a=0;a<r.length&&(n=r[a],n.nodeType===e&&s++,n!=i);a++);return s}function Fv(i){return ja(i,Dv)}function Mv(i){return ja(i,Sv)}function qv(i){return["xml","opf","ncx"].indexOf(i)>-1}function Yf(i,e){return new Blob([i],{type:e})}function zv(i,e){var t,r=Yf(i,e);return t=Zf.createObjectURL(r),t}function Uv(i){return Zf.revokeObjectURL(i)}function Wv(i,e){var t,r;if(typeof i=="string")return t=btoa(i),r="data:"+e+";base64,"+t,r}function Vv(i){return Object.prototype.toString.call(i).slice(8,-1)}function jv(i,e,t){var r,n;return typeof DOMParser=="undefined"||t?n=Ev.DOMParser:n=DOMParser,i.charCodeAt(0)===65279&&(i=i.slice(1)),r=new n().parseFromString(i,e),r}function Hv(i,e){var t;if(!i)throw new Error("No Element Provided");if(typeof i.querySelector!="undefined")return i.querySelector(e);if(t=i.getElementsByTagName(e),t.length)return t[0]}function $f(i,e){return typeof i.querySelector!="undefined"?i.querySelectorAll(e):i.getElementsByTagName(e)}function Zv(i,e,t){var r,n;if(typeof i.querySelector!="undefined"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",i.querySelector(e)}else if(r=i.getElementsByTagName(e),n=Array.prototype.slice.call(r,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),n)return n[0]}function Gv(i,e){var t=i.ownerDocument||i;typeof t.createTreeWalker!="undefined"?Kf(i,e,NodeFilter.SHOW_TEXT):Ha(i,function(r){r&&r.nodeType===3&&e(r)},!0)}function Kf(i,e,t){var r=document.createTreeWalker(i,t,null,!1);let n;for(;n=r.nextNode();)e(n)}function Ha(i,e){if(e(i))return!0;if(i=i.firstChild,i)do{if(Ha(i,e))return!0;i=i.nextSibling}while(i)}function Xv(i){return new Promise(function(e,t){var r=new FileReader;r.readAsDataURL(i),r.onloadend=function(){e(r.result)}})}function Yv(){this.resolve=null,this.reject=null,this.id=Gf(),this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e}),Object.freeze(this)}function $v(i,e,t){var r;if(typeof i.querySelector!="undefined"&&(r=i.querySelector(`${e}[*|type="${t}"]`)),!r||r.length===0){r=$f(i,e);for(var n=0;n<r.length;n++)if(r[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||r[n].getAttribute("epub:type")===t)return r[n]}else return r}function Kv(i){for(var e=[],t=i.childNodes,r=0;r<t.length;r++){let n=t[r];n.nodeType===1&&e.push(n)}return e}function Za(i){for(var e=[i];i;i=i.parentNode)e.unshift(i);return e}function Jv(i,e,t){for(var r=[],n=i.childNodes,s=0;s<n.length;s++){let a=n[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;r.push(a)}}if(!t)return r}function Qv(i,e){let t;if(!(i===null||e===""))for(t=i.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}var Jf=class{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,r=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,r),this.setEnd(t,r+1)}selectNodeContents(e){let t=e.childNodes[e.childNodes-1],r=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,r)}_commonAncestorContainer(e,t){var r=Za(e||this.startContainer),n=Za(t||this.endContainer);if(r[0]==n[0]){for(var s=0;s<r.length;s++)if(r[s]!=n[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}};pe.RangeObject=Jf});var ji=$((by,eh)=>{"use strict";Ga||(Ga={cwd:function(){return"/"}});var Ga;function sr(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+i)}function Qf(i,e){for(var t="",r=-1,n=0,s,a=0;a<=i.length;++a){if(a<i.length)s=i.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||n===1))if(r!==a-1&&n===2){if(t.length<2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){for(var o=t.length-1,u=o;u>=0&&t.charCodeAt(u)!==47;--u);if(u!==o){u===-1?t="":t=t.slice(0,u),r=a,n=0;continue}}else if(t.length===2||t.length===1){t="",r=a,n=0;continue}}e&&(t.length>0?t+="/..":t="..")}else t.length>0?t+="/"+i.slice(r+1,a):t=i.slice(r+1,a);r=a,n=0}else s===46&&n!==-1?++n:n=-1}return t}function eg(i,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+i+r:r}var Pn={resolve:function(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var s;n>=0?s=arguments[n]:(r===void 0&&(r=Ga.cwd()),s=r),sr(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Qf(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(sr(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Qf(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return sr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];sr(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Pn.normalize(e)},relative:function(e,t){if(sr(e),sr(t),e===t||(e=Pn.resolve(e),t=Pn.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,s=n-r,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var o=t.length,u=o-a,l=s<u?s:u,c=-1,h=0;h<=l;++h){if(h===l){if(u>l){if(t.charCodeAt(a+h)===47)return t.slice(a+h+1);if(h===0)return t.slice(a+h)}else s>l&&(e.charCodeAt(r+h)===47?c=h:h===0&&(c=0));break}var d=e.charCodeAt(r+h),g=t.charCodeAt(a+h);if(d!==g)break;d===47&&(c=h)}var _="";for(h=r+c+1;h<=n;++h)(h===n||e.charCodeAt(h)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+t.slice(a+c):(a+=c,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(sr(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,s=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sr(e);var r=0,n=-1,s=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,u=-1;for(a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(l===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),o>=0&&(l===t.charCodeAt(o)?--o==-1&&(n=a):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=e.length),e.slice(r,n)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":e.slice(r,n)}},extname:function(e){sr(e);for(var t=-1,r=0,n=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),u===46?t===-1?t=o:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||n===-1||a===0||a===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return eg("/",e)},parse:function(e){sr(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,s;n?(t.root="/",s=1):s=0;for(var a=-1,o=0,u=-1,l=!0,c=e.length-1,h=0;c>=s;--c){if(r=e.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}u===-1&&(l=!1,u=c+1),r===46?a===-1?a=c:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||u===-1||h===0||h===1&&a===u-1&&a===o+1?u!==-1&&(o===0&&n?t.base=t.name=e.slice(1,u):t.base=t.name=e.slice(o,u)):(o===0&&n?(t.name=e.slice(1,a),t.base=e.slice(1,u)):(t.name=e.slice(o,a),t.base=e.slice(o,u)),t.ext=e.slice(a,u)),o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",posix:null};eh.exports=Pn});var Sr=$(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.default=void 0;var Fn=tg(ji());function tg(i){return i&&i.__esModule?i:{default:i}}var th=class{constructor(e){var t,r;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Fn.default.parse(e)}isAbsolute(e){return Fn.default.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Fn.default.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:Fn.default.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}},rg=th;Mn.default=rg});var Hi=$(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.default=void 0;var rh=nh(Sr()),ih=nh(ji());function nh(i){return i&&i.__esModule?i:{default:i}}var sh=class{constructor(e,t){var r=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!r&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(a){this.Url=void 0,this.base&&(s=new rh.default(this.base),n=s.resolve(n))}this.Path=new rh.default(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,r;return t?e:(r=ih.default.resolve(this.directory,e),this.origin+r)}relative(e){return ih.default.relative(e,this.directory)}toString(){return this.href}},ig=sh;qn.default=ig});var Et=$(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.default=void 0;var Dr=Be(),oi=1,It=3,ng=9,Ar=class{constructor(e,t,r){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ar))return new Ar(e,t,r);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,(0,Dr.extend)(this,this.parse(e));if(n==="range")return(0,Dr.extend)(this,this.fromRange(e,this.base,r));if(n==="node")return(0,Dr.extend)(this,this.fromNode(e,this.base,r));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&((0,Dr.type)(e)==="Range"||typeof e.startContainer!="undefined")?"range":e&&typeof e=="object"&&typeof e.nodeType!="undefined"?"node":e&&typeof e=="object"&&e instanceof Ar?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(t.base=this.parseComponent(r),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),n=r[0].split("/"),s;return r.length>1&&(s=r[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map(function(a){return this.parseStep(a)}.bind(this)),t}parseStep(e){var t,r,n,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),r=parseInt(e),!isNaN(r))return r%2==0?(t="element",n=r/2-1):(t="text",n=(r-1)/2),{type:t,index:n,id:a||null}}parseTerminal(e){var t,r,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),r=n[1]):t=parseInt(e),(0,Dr.isNumber)(t)||(t=null),{offset:t,assertion:r}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var r="";return t.type==="element"&&(r+=(t.index+1)*2),t.type==="text"&&(r+=1+2*t.index),t.id&&(r+="["+t.id+"]"),r}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var r,n,s,a,o,u,l,l,c,h,d,g;if(typeof e=="string"&&(e=new Ar(e)),typeof t=="string"&&(t=new Ar(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),a=t.start.terminal):(n=t.path.steps,a=t.path.terminal);for(var _=0;_<r.length;_++){if(!r[_])return-1;if(!n[_]||r[_].index>n[_].index)return 1;if(r[_].index<n[_].index)return-1}return r.length<n.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var t=e.nodeType===It?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var r=this.filter(e,t),n;if(!!r)return n=r.nodeType===It?"text":"element",{id:r.id,tagName:r.tagName,type:n,index:this.filteredPosition(r,t)}}pathTo(e,t,r){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=ng;)r?a=this.filteredStep(s,r):a=this.step(s),a&&n.steps.unshift(a),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,r){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,l=!1;if(r&&(l=s.ownerDocument.querySelector("."+r)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)l&&(o=this.patchOffset(s,o,r)),n.path=this.pathTo(s,o,r);else{n.range=!0,l&&(o=this.patchOffset(s,o,r)),n.start=this.pathTo(s,o,r),l&&(u=this.patchOffset(a,u,r)),n.end=this.pathTo(a,u,r),n.path={steps:[],terminal:null};var c=n.start.steps.length,h;for(h=0;h<c&&this.equalStep(n.start.steps[h],n.end.steps[h]);h++)h===c-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[h]),n.range=!1):n.path.steps.push(n.start.steps[h]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,r){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,r),n}filter(e,t){var r,n,s,a,o,u=!1;return e.nodeType===It?(u=!0,s=e.parentNode,r=e.parentNode.classList.contains(t)):(u=!1,r=e.classList.contains(t)),r&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===It?n=a:o&&o.nodeType===It&&(n=o),n||e):r&&!u?!1:e}patchOffset(e,t,r){if(e.nodeType!=It)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(r)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===oi)if(n.previousSibling.classList.contains(r))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,r){var n={},s=-1,a,o=e.length,u,l;for(a=0;a<o;a++)u=e[a].nodeType,u===oi&&e[a].classList.contains(r)&&(u=It),a>0&&u===It&&l===It?n[a]=s:t===u&&(s=s+1,n[a]=s),l=u;return n}position(e){var t,r;return e.nodeType===oi?(t=e.parentNode.children,t||(t=(0,Dr.findChildren)(e.parentNode)),r=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),r=t.indexOf(e)),r}filteredPosition(e,t){var r,n,s;return e.nodeType===oi?(r=e.parentNode.children,s=this.normalizedMap(r,oi,t)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,It,t)),n=Array.prototype.indexOf.call(r,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(r){var n=r.index+1;r.id?t.push("*[position()="+n+" and @id='"+r.id+"']"):r.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(r){var n=r.index+1;r.id?t.push("#"+r.id):r.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===It?!0:!!(t&&r.classList.contains(t))})}walkToNode(e,t,r){var n=t||document,s=n.documentElement,a,o,u=e.length,l;for(l=0;l<u&&(o=e[l],o.type==="element"?o.id?s=n.getElementById(o.id):(a=s.children||(0,Dr.findChildren)(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,r)[o.index]),!!s);l++);return s}findNode(e,t,r){var n=t||document,s,a;return!r&&typeof n.evaluate!="undefined"?(a=this.stepsToXpath(e),s=n.evaluate(a,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,n,r):s=this.walkToNode(e,n),s}fixMiss(e,t,r,n){var s=this.findNode(e.slice(0,-1),r,n),a=s.childNodes,o=this.normalizedMap(a,It,n),u,l,c=e[e.length-1].index;for(let h in o){if(!o.hasOwnProperty(h))return;if(o[h]===c)if(u=a[h],l=u.textContent.length,t>l)t=t-l;else{u.nodeType===oi?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var r=e||document,n,s,a,o,u,l=this,c,h,d=t?r.querySelector("."+t)!=null:!1,g;if(typeof r.createRange!="undefined"?n=r.createRange():n=new Dr.RangeObject,l.range?(s=l.start,c=l.path.steps.concat(s.steps),o=this.findNode(c,r,d?t:null),a=l.end,h=l.path.steps.concat(a.steps),u=this.findNode(h,r,d?t:null)):(s=l.path,c=l.path.steps,o=this.findNode(l.path.steps,r,d?t:null)),o)try{s.terminal.offset!=null?n.setStart(o,s.terminal.offset):n.setStart(o,0)}catch(_){g=this.fixMiss(c,s.terminal.offset,r,d?t:null),n.setStart(g.container,g.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?n.setEnd(u,a.terminal.offset):n.setEnd(u,0)}catch(_){g=this.fixMiss(h,l.end.terminal.offset,r,d?t:null),n.setEnd(g.container,g.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,r){var n=parseInt(t),s=(e+1)*2,a="/"+s+"/";return a+=(n+1)*2,r&&(a+="["+r+"]"),a}collapse(e){!this.range||(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}},sg=Ar;zn.default=sg});var Wn=$(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.default=void 0;var ah=class{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let r=0;r<this.hooks.length;r++)if(t=this.hooks[r],t===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,t=this.context,r=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}},ag=ah;Un.default=ag});var Zi=$(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.replaceBase=ug;Lr.replaceCanonical=lg;Lr.replaceLinks=hg;Lr.replaceMeta=fg;Lr.substitute=cg;var Br=Be(),og=oh(Hi()),Dy=oh(Sr());function oh(i){return i&&i.__esModule?i:{default:i}}function ug(i,e){var t,r,n=e.url,s=n.indexOf("://")>-1;!i||(r=(0,Br.qs)(i,"head"),t=(0,Br.qs)(r,"base"),t||(t=i.createElement("base"),r.insertBefore(t,r.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function lg(i,e){var t,r,n=e.canonical;!i||(t=(0,Br.qs)(i,"head"),r=(0,Br.qs)(t,"link[rel='canonical']"),r?r.setAttribute("href",n):(r=i.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",n),t.appendChild(r)))}function fg(i,e){var t,r,n=e.idref;!i||(t=(0,Br.qs)(i,"head"),r=(0,Br.qs)(t,"link[property='dc.identifier']"),r?r.setAttribute("content",n):(r=i.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",n),t.appendChild(r)))}function hg(i,e){var t=i.querySelectorAll("a[href]");if(!!t.length)for(var r=(0,Br.qs)(i.ownerDocument,"base"),n=r?r.getAttribute("href"):void 0,s=function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var l=u.indexOf("://")>-1;if(l)o.setAttribute("target","_blank");else{var c;try{c=new og.default(u,n)}catch(h){}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:u),!1}}}}.bind(this),a=0;a<t.length;a++)s(t[a])}function cg(i,e,t){return e.forEach(function(r,n){r&&t[n]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=i.replace(new RegExp(r,"g"),t[n]))}),i}});var Gi=$(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.default=void 0;var ui=Be(),dg=pg(Sr());function pg(i){return i&&i.__esModule?i:{default:i}}function vg(i,e,t,r){var n=typeof window!="undefined"?window.URL:!1,s=n?"blob":"arraybuffer",a=new ui.defer,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,l;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=h,o.onerror=c,o.open("GET",i,!0);for(l in r)o.setRequestHeader(l,r[l]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new dg.default(i).extension),e=="blob"&&(o.responseType=s),(0,ui.isXml)(e)&&o.overrideMimeType("text/xml"),e=="xhtml",e=="html"||e=="htm",e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(d){a.reject(d)}function h(){if(this.readyState===XMLHttpRequest.DONE){var d=!1;if((this.responseType===""||this.responseType==="document")&&(d=this.responseXML),this.status===200||this.status===0||d){var g;if(!this.response&&!d)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;d?g=this.responseXML:(0,ui.isXml)(e)?g=(0,ui.parse)(this.response,"text/xml"):e=="xhtml"?g=(0,ui.parse)(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?g=(0,ui.parse)(this.response,"text/html"):e=="json"?g=JSON.parse(this.response):e=="blob"?n?g=this.response:g=new Blob([this.response]):g=this.response,a.resolve(g)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}var gg=vg;Vn.default=gg});var hh=$(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.default=void 0;var Xa=Be(),uh=Ya(Et()),lh=Ya(Wn()),mg=Zi(),_g=Ya(Gi()),yg=Wa();function Ya(i){return i&&i.__esModule?i:{default:i}}var fh=class{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new lh.default(this),this.hooks.content=new lh.default(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||_g.default,r=new Xa.defer,n=r.promise;return this.contents?r.resolve(this.contents):t(this.url).then(function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){r.resolve(this.contents)}.bind(this)).catch(function(s){r.reject(s)}),n}base(){return(0,mg.replaceBase)(this.document,this)}render(e){var t=new Xa.defer,r=t.promise;return this.output,this.load(e).then(function(n){var s=typeof navigator!="undefined"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer=="undefined"||a?o=yg.DOMParser:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(n),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch(function(n){t.reject(n)}),r}find(e){var t=this,r=[],n=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),l,c,h=-1,d,g=150;c!=-1;)c=o.indexOf(n,h+1),c!=-1&&(u=t.document.createRange(),u.setStart(a,c),u.setEnd(a,c+n.length),l=t.cfiFromRange(u),a.textContent.length<g?d=a.textContent:(d=a.textContent.substring(c-g/2,c+g/2),d="..."+d+"..."),r.push({cfi:l,excerpt:d})),h=c};return(0,Xa.sprint)(t.document,function(a){s(a)}),r}search(e,t=5){if(typeof document.createTreeWalker=="undefined")return this.find(e);let r=[],n=150,s=this,a=e.toLowerCase(),o=function(h){let _=h.reduce((A,D)=>A+D.textContent,"").toLowerCase().indexOf(a);if(_!=-1){let A=0,D=_+a.length,p=0,v=0;if(_<h[A].length){let y;for(;p<h.length-1&&(v+=h[p].length,!(D<=v));)p+=1;let T=h[A],P=h[p],w=s.document.createRange();w.setStart(T,_);let C=h.slice(0,p).reduce((R,q)=>R+q.textContent.length,0);w.setEnd(P,C>D?D:D-C),y=s.cfiFromRange(w);let k=h.slice(0,p+1).reduce((R,q)=>R+q.textContent,"");k.length>n&&(k=k.substring(_-n/2,_+n/2),k="..."+k+"..."),r.push({cfi:y,excerpt:k})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1),l,c=[];for(;l=u.nextNode();)c.push(l),c.length==t&&(o(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&o(c),r}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var n=r.replace("rendition:",""),s=n.indexOf("-"),a,o;s!=-1&&(a=n.slice(0,s),o=n.slice(s+1),t[a]=o)}),t}cfiFromRange(e){return new uh.default(e,this.cfiBase).toString()}cfiFromElement(e){return new uh.default(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}},bg=fh;jn.default=bg});var vh=$(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.default=void 0;var ch=Ka(Et()),dh=Ka(Wn()),wg=Ka(hh()),$a=Zi();function Ka(i){return i&&i.__esModule?i:{default:i}}var ph=class{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new dh.default,this.hooks.content=new dh.default,this.hooks.content.register($a.replaceBase),this.hooks.content.register($a.replaceCanonical),this.hooks.content.register($a.replaceMeta),this.epubcfi=new ch.default,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var a=this.manifest[n.idref],o;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=r(n.href)),a&&(n.href=a.href,n.url=t(n.href,!0),n.canonical=r(n.href),a.properties.length&&n.properties.push.apply(n.properties,a.properties)),n.linear==="yes"?(n.prev=function(){let u=n.index;for(;u>0;){let l=this.get(u-1);if(l&&l.linear)return l;u-=1}}.bind(this),n.next=function(){let u=n.index;for(;u<this.spineItems.length-1;){let l=this.get(u+1);if(l&&l.linear)return l;u+=1}}.bind(this)):(n.prev=function(){},n.next=function(){}),o=new wg.default(n,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e=="undefined")for(;t<this.spineItems.length;){let r=this.spineItems[t];if(r&&r.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new ch.default(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,r){t.index=r}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}},Eg=ph;Hn.default=Eg});var Gn=$(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.default=li.Task=void 0;var Zn=Be(),gh=class{constructor(e){this._q=[],this.context=e,this.tick=Zn.requestAnimationFrame,this.running=!1,this.paused=!1}enqueue(){var e,t,r,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Zn.defer,t=e.promise,r={task:n,args:s,deferred:e,promise:t}):r={promise:n},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,t,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return r=t.apply(this.context,e.args),r&&typeof r.then=="function"?r.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new Zn.defer,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Zn.defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}},mh=class{constructor(e,t,r){return function(){var n=arguments||[];return new Promise((s,a)=>{var o=function(u,l){!u&&l?a(l):s(u)};n.push(o),e.apply(r||this,n)})}}};li.Task=mh;var xg=gh;li.default=xg});var Bt=$(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.EVENTS=Cr.EPUBJS_VERSION=Cr.DOM_EVENTS=void 0;var Sg="0.3";Cr.EPUBJS_VERSION=Sg;var Dg=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"];Cr.DOM_EVENTS=Dg;var Ag={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};Cr.EVENTS=Ag});var _h=$(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.default=void 0;var Pr=Be(),Cg=Ja(Gn()),Tr=Ja(Et()),Tg=Bt(),kg=Ja(Gt());function Ja(i){return i&&i.__esModule?i:{default:i}}var Qa=class{constructor(e,t,r){this.spine=e,this.request=t,this.pause=r||100,this.q=new Cg.default(this),this.epubcfi=new Tr.default,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(t){var r=new Pr.defer,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(n),this.pause),r.promise}.bind(this))}parse(e,t,r){var n=[],s,a=e.ownerDocument,o=(0,Pr.qs)(a,"body"),u=0,l,c=r||this.break,h=function(d){var g=d.length,_,A=0;if(d.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=d,s.startOffset=0),_=c-u,_>g&&(u+=g,A=g);A<g;)if(_=c-u,u===0&&(A+=1,s=this.createRange(),s.startContainer=d,s.startOffset=A),A+_>=g)u+=g-A,A=g;else{A+=_,s.endContainer=d,s.endOffset=A;let D=new Tr.default(s,t).toString();n.push(D),u=0}l=d};if((0,Pr.sprint)(o,h.bind(this)),s&&s.startContainer&&l){s.endContainer=l,s.endOffset=l.length;let d=new Tr.default(s,t).toString();n.push(d),u=0}return n}generateFromWords(e,t,r){var n=e?new Tr.default(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,r):this.q.enqueue(this.processWords.bind(this),s,t,n,r))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,t,r,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then(function(s){var a=new Pr.defer,o=this.parseWords(s,e,t,r),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=n?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,r,n){var s=t.cfiBase,a=[],o=e.ownerDocument,u=(0,Pr.qs)(o,"body"),l,c=r,h=n?n.spinePos!==t.index:!0,d;n&&t.index===n.spinePos&&(d=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var g=function(_){if(!h)if(_===d)h=!0;else return!1;if(_.textContent.length<10&&_.textContent.trim().length===0)return!1;var A=this.countWords(_.textContent),D,p=0;if(A===0)return!1;for(D=c-this._wordCounter,D>A&&(this._wordCounter+=A,p=A);p<A;)if(D=c-this._wordCounter,p+D>=A)this._wordCounter+=A-p,p=A;else{p+=D;let v=new Tr.default(_,s);a.push({cfi:v.toString(),wordCount:this._wordCounter}),this._wordCounter=0}l=_};return(0,Pr.sprint)(u,g.bind(this)),a}locationFromCfi(e){let t;return Tr.default.prototype.isCfiString(e)&&(e=new Tr.default(e)),this._locations.length===0?-1:(t=(0,Pr.locationOf)(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Tr.default(this._locations[this.total]);return r.collapse(),r.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(Tg.EVENTS.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}};(0,kg.default)(Qa.prototype);var Ng=Qa;Xn.default=Ng});var bh=$(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.default=void 0;var Og=Ig(ji()),Rg=Be();function Ig(i){return i&&i.__esModule?i:{default:i}}var yh=class{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=(0,Rg.qs)(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Og.default.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}},Bg=yh;Yn.default=Bg});var Eh=$($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.default=void 0;var Lt=Be(),wh=class{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,r,n;if(!e)throw new Error("Package File Not Found");if(t=(0,Lt.qs)(e,"metadata"),!t)throw new Error("No Metadata Found");if(r=(0,Lt.qs)(e,"manifest"),!r)throw new Error("No Manifest Found");if(n=(0,Lt.qs)(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=(0,Lt.indexOfElementNode)(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},r=(0,Lt.qsa)(e,"item"),n=Array.prototype.slice.call(r);return n.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",l=s.getAttribute("media-overlay")||"",c=s.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:l,properties:c.length?c.split(" "):[]}}),t}parseSpine(e,t){var r=[],n=(0,Lt.qsa)(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(a,o){var u=a.getAttribute("idref"),l=a.getAttribute("properties")||"",c=l.length?l.split(" "):[],h={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:c,index:o};r.push(h)}),r}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var r=e.getElementById(t);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=(0,Lt.qsp)(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var r=(0,Lt.qsp)(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return r||(n=t.getAttribute("toc"),n&&(r=e.querySelector(`#${n}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var t=(0,Lt.qs)(e,"package"),r=t.getAttribute("version"),n=(0,Lt.qsp)(e,"item",{properties:"cover-image"});if(n)return n.getAttribute("href");var s=(0,Lt.qsp)(e,"meta",{name:"cover"});if(s){var a=s.getAttribute("content"),o=e.getElementById(a);return o?o.getAttribute("href"):""}else return!1}getElementText(e,t){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!r||r.length===0?"":(n=r[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var r=(0,Lt.qsp)(e,"meta",{property:t});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((r,n)=>(r.index=n,r.linear=r.linear||"yes",r)),e.resources.forEach((r,n)=>{this.manifest[n]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,n)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}},Lg=wh;$n.default=Lg});var Sh=$(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=void 0;var xt=Be(),xh=class{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,r,n;t&&(r=(0,xt.qs)(e,"html"),n=(0,xt.qs)(e,"ncx")),t?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,r=0;r<e.length;r++)t=e[r],t.href&&(this.tocByHref[t.href]=r),t.id&&(this.tocById[t.id]=r),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,r){if(r.length===0)return;let n=r[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let a=0;a<r.length&&(s=this.getByIndex(e,t,r[a].subitems),!s);++a);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=(0,xt.querySelectorByType)(e,"nav","toc"),r=[];if(!t)return r;let n=(0,xt.filterChildren)(t,"ol",!0);return n&&(r=this.parseNavList(n)),r}parseNavList(e,t){let r=[];if(!e||!e.children)return r;for(let n=0;n<e.children.length;n++){let s=this.navItem(e.children[n],t);s&&r.push(s)}return r}navItem(e,t){let r=e.getAttribute("id")||void 0,n=(0,xt.filterChildren)(e,"a",!0)||(0,xt.filterChildren)(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";r||(r=s);let a=n.textContent||"",o=[],u=(0,xt.filterChildren)(e,"ol",!0);return u&&(o=this.parseNavList(u,r)),{id:r,href:s,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=(0,xt.querySelectorByType)(e,"nav","landmarks"),r=t?(0,xt.qsa)(t,"li"):[],n=r.length,s,a=[],o;if(!r||n===0)return a;for(s=0;s<n;++s)o=this.landmarkItem(r[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let t=(0,xt.filterChildren)(e,"a",!0);if(!t)return;let r=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:r}}parseNcx(e){var t=(0,xt.qsa)(e,"navPoint"),r=t.length,n,s={},a=[],o,u;if(!t||r===0)return a;for(n=0;n<r;++n)o=this.ncxItem(t[n]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,r=(0,xt.qs)(e,"content"),n=r.getAttribute("src"),s=(0,xt.qs)(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,l;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(l=u.getAttribute("id")),{id:t,href:n,label:a,subitems:o,parent:l}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}},Pg=xh;Kn.default=Pg});var Qn=$(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.default=void 0;var Xi={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},Fg=function(){var i,e,t,r,n={};for(i in Xi)if(Xi.hasOwnProperty(i)){for(e in Xi[i])if(Xi[i].hasOwnProperty(e))if(t=Xi[i][e],typeof t=="string")n[t]=i+"/"+e;else for(r=0;r<t.length;r++)n[t[r]]=i+"/"+e}return n}(),Mg="text/plain";function qg(i){return i&&Fg[i.split(".").pop().toLowerCase()]||Mg}var zg={lookup:qg};Jn.default=zg});var Th=$(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.default=void 0;var Dh=Zi(),Yi=Be(),Ug=es(Hi()),Wg=es(Qn()),Ah=es(Sr()),Vg=es(ji());function es(i){return i&&i.__esModule?i:{default:i}}var Ch=class{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new Ug.default(e),r=Wg.default.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>(0,Yi.blob2base64)(n)).then(n=>(0,Yi.createBase64Url)(n,r)):this.settings.request(e,"blob").then(n=>(0,Yi.createBlobUrl)(n,r))}replacements(){if(this.settings.replacements==="none")return new Promise(function(t){t(this.urls)}.bind(this));var e=this.urls.map(t=>{var r=this.settings.resolver(t);return this.createUrl(r).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(r=>typeof r=="string"),t))}replaceCss(e,t){var r=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach(function(n){var s=this.createCssFile(n,e,t).then(function(a){var o=this.urls.indexOf(n);o>-1&&(this.replacementUrls[o]=a)}.bind(this));r.push(s)}.bind(this)),Promise.all(r)}createCssFile(e){var t;if(Vg.default.isAbsolute(e))return new Promise(function(a){a()});var r=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(r):n=this.settings.request(r,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new Ah.default(r).relative(o);return u});return n?n.then(a=>(a=(0,Dh.substitute)(a,s,this.replacementUrls),this.settings.replacements==="base64"?t=(0,Yi.createBase64Url)(a,"text/css"):t=(0,Yi.createBlobUrl)(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map(function(r){var n=t(r),s=new Ah.default(e).relative(n);return s}.bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise(function(r,n){r(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}substitute(e,t){var r;return t?r=this.relativeTo(t):r=this.urls,(0,Dh.substitute)(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}},jg=Ch;ts.default=jg});var Nh=$(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.default=void 0;var Hg=Zg(Et()),Pt=Be();function Zg(i){return i&&i.__esModule?i:{default:i}}var kh=class{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Hg.default,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=(0,Pt.qs)(e,"html"),r=(0,Pt.qs)(e,"ncx");if(t)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var t=(0,Pt.querySelectorByType)(e,"nav","page-list"),r=t?(0,Pt.qsa)(t,"li"):[],n=r.length,s,a=[],o;if(!r||n===0)return a;for(s=0;s<n;++s)o=this.item(r[s]),a.push(o);return a}parseNcx(e){var t=[],r=0,n,s,a,o=0;if(s=(0,Pt.qs)(e,"pageList"),!s||(a=(0,Pt.qsa)(s,"pageTarget"),o=a.length,!a||a.length===0))return t;for(r=0;r<o;++r)n=this.ncxItem(a[r]),t.push(n);return t}ncxItem(e){var t=(0,Pt.qs)(e,"navLabel"),r=(0,Pt.qs)(t,"text"),n=r.textContent,s=(0,Pt.qs)(e,"content"),a=s.getAttribute("src"),o=parseInt(n,10);return{href:a,page:o}}item(e){var t=(0,Pt.qs)(e,"a"),r=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),a=r.indexOf("epubcfi"),o,u,l;return a!=-1?(o=r.split("#"),u=o[0],l=o.length>1?o[1]:!1,{cfi:l,href:r,packageUrl:u,page:s}):{href:r,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var r=(0,Pt.indexOfSorted)(e,this.locations,this.epubcfi.compare);return r!=-1?t=this.pages[r]:(r=(0,Pt.locationOf)(e,this.locations,this.epubcfi.compare),t=r-1>=0?this.pages[r-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(t=this.locations[r]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),r=this.percentageFromPage(t);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}},Gg=kh;rs.default=Gg});var to=$(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.default=void 0;var Xg=Be(),Yg=Bt(),$g=Kg(Gt());function Kg(i){return i&&i.__esModule?i:{default:i}}var eo=class{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e!="undefined"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,r){var n=1,s=r||0,a=e,o=t,u=Math.floor(a/12),l,c,h,d;this._spread&&a>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=u%2==0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(l=a/n-s,h=l+s):(l=a,h=a),this.name==="pre-paginated"&&n>1&&(a=l),c=l*n+s,d=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=h,this.delta=d,this.columnWidth=l,this.gap=s,this.divisor=n,this.update({width:a,height:o,spreadWidth:c,pageWidth:h,delta:d,columnWidth:l,gap:s,divisor:n})}format(e,t,r){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let r,n;return this.name==="pre-paginated"?(r=1,n=1):this._flow==="paginated"?(t=t||this.delta,r=Math.ceil(e/t),n=r*this.divisor):(t=t||this.height,r=Math.ceil(e/t),n=r),{spreads:r,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=(0,Xg.extend)(this.props,e);this.emit(Yg.EVENTS.LAYOUT.UPDATED,t,e)}}};(0,$g.default)(eo.prototype);var Jg=eo;is.default=Jg});var Rh=$(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.default=void 0;var Qg=em(Hi());function em(i){return i&&i.__esModule?i:{default:i}}var Oh=class{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(!!e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var r=new Qg.default(t);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(r=>{this.add(e,r)})}inject(e){var t=[],r=this._themes,n;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=r[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var r=this._themes[e];!r||!t||(r.url?t.addStylesheet(r.url):r.serialized?(t.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(t.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,t,r){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:r===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(r=>{r.css(e)})}overrides(e){var t=this._overrides;for(var r in t)t.hasOwnProperty(r)&&e.css(r,t[r].value,t[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}},tm=Oh;ns.default=tm});var ro=$(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.default=void 0;var ss=rm(Et()),Ih=Be();function rm(i){return i&&i.__esModule?i:{default:i}}var Bh=class{constructor(e,t,r,n=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,t);return r}page(e,t,r,n){var s=e&&e.document?e.document.body:!1,a;if(!!s){if(a=this.rangePairToCfiPair(t,{start:this.findStart(s,r,n),end:this.findEnd(s,r,n)}),this._dev===!0){let o=e.document,u=new ss.default(a.start).toRange(o),l=new ss.default(a.end).toRange(o),c=o.defaultView.getSelection(),h=o.createRange();c.removeAllRanges(),h.setStart(u.startContainer,u.startOffset),h.setEnd(l.endContainer,l.endOffset),c.addRange(h)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=r.acceptNode;n.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),a,o;(a=s.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],r=e.contents.scrollWidth(),n=Math.ceil(r/this.layout.spreadWidth),s=n*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,l,c=0;c<s.pages;c++)u=(a+o)*c,l=a*(c+1)+o*c,t.push({start:this.findStart(e.document.body,u,l),end:this.findEnd(e.document.body,u,l)});return t}findStart(e,t,r){for(var n=[e],s,a,o=e;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var l,c,h,d,g,_;if(g=(0,Ih.nodeBounds)(u),this.horizontal&&this.direction==="ltr"){if(l=this.horizontal?g.left:g.top,c=this.horizontal?g.right:g.bottom,l>=t&&l<=r)return u;if(c>t)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=g.left,c=g.right,c<=r&&c>=t)return u;if(l<r)return u;o=u,n.push(u)}else{if(h=g.top,d=g.bottom,h>=t&&h<=r)return u;if(d>t)return u;o=u,n.push(u)}}),a)return this.findTextStartRange(a,t,r);return this.findTextStartRange(o,t,r)}findEnd(e,t,r){for(var n=[e],s,a=e,o;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var l,c,h,d,g,_;if(g=(0,Ih.nodeBounds)(u),this.horizontal&&this.direction==="ltr"){if(l=Math.round(g.left),c=Math.round(g.right),l>r&&a)return a;if(c>r)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=Math.round(this.horizontal?g.left:g.top),c=Math.round(this.horizontal?g.right:g.bottom),c<t&&a)return a;if(l<t)return u;a=u,n.push(u)}else{if(h=Math.round(g.top),d=Math.round(g.bottom),h>r&&a)return a;if(d>r)return u;a=u,n.push(u)}}),o)return this.findTextEndRange(o,t,r);return this.findTextEndRange(a,t,r)}findTextStartRange(e,t,r){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,l,c=0;c<n.length;c++)if(s=n[c],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(l=a.right,l<=r)return s}else if(u=a.top,u>=t)return s;return n[0]}findTextEndRange(e,t,r){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,l,c,h,d=0;d<n.length;d++){if(a=n[d],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,l=o.right,u>r&&s)return s;if(l>r)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,l=o.right,l<t&&s)return s;if(u<t)return a}else{if(c=o.top,h=o.bottom,c>r&&s)return s;if(h>r)return a}s=a}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var r=[],n=e.textContent||"",s=n.trim(),a,o=e.ownerDocument,u=t||" ",l=s.indexOf(u);if(l===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,l),r.push(a),a=!1;l!=-1;)l=s.indexOf(u,l+1),l>0&&(a&&(a.setEnd(e,l),r.push(a)),a=o.createRange(),a.setStart(e,l+1));return a&&(a.setEnd(e,s.length),r.push(a)),r}rangePairToCfiPair(e,t){var r=t.start,n=t.end;r.collapse(!0),n.collapse(!1);let s=new ss.default(r,e).toString(),a=new ss.default(n,e).toString();return{start:s,end:a}}rangeListToCfiList(e,t){for(var r=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),r.push(n);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}},im=Bh;as.default=im});var $i=$(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.default=void 0;var nm=io(Gt()),Yt=Be(),fi=io(Et()),Lh=io(ro()),sm=Zi(),gr=Bt();function io(i){return i&&i.__esModule?i:{default:i}}var Ph=typeof navigator!="undefined",am=Ph&&/Chrome/.test(navigator.userAgent),Fh=Ph&&!am&&/AppleWebKit/.test(navigator.userAgent),om=1,no=class{constructor(e,t,r,n){this.epubcfi=new fi.default,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",gr.EPUBJS_VERSION),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return gr.DOM_EVENTS}width(e){var t=this.content;return e&&(0,Yt.isNumber)(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&(0,Yt.isNumber)(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&(0,Yt.isNumber)(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&(0,Yt.isNumber)(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,r=this.document.createRange(),n=this.content||this.document.body,s=(0,Yt.borders)(n);return r.selectNodeContents(n),e=r.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,r=this.document.createRange(),n=this.content||this.document.body;return r.selectNodeContents(n),e=r.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,r){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,r?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t,r,n,s,a,o,u=this.document.querySelector("meta[name='viewport']"),l={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},c=[],h={};if(u&&u.hasAttribute("content")){let d=u.getAttribute("content"),g=d.match(/width\s*=\s*([^,]*)/),_=d.match(/height\s*=\s*([^,]*)/),A=d.match(/initial-scale\s*=\s*([^,]*)/),D=d.match(/minimum-scale\s*=\s*([^,]*)/),p=d.match(/maximum-scale\s*=\s*([^,]*)/),v=d.match(/user-scalable\s*=\s*([^,]*)/);g&&g.length&&typeof g[1]!="undefined"&&(l.width=g[1]),_&&_.length&&typeof _[1]!="undefined"&&(l.height=_[1]),A&&A.length&&typeof A[1]!="undefined"&&(l.scale=A[1]),D&&D.length&&typeof D[1]!="undefined"&&(l.minimum=D[1]),p&&p.length&&typeof p[1]!="undefined"&&(l.maximum=p[1]),v&&v.length&&typeof v[1]!="undefined"&&(l.scalable=v[1])}return h=(0,Yt.defaults)(e||{},l),e&&(h.width&&c.push("width="+h.width),h.height&&c.push("height="+h.height),h.scale&&c.push("initial-scale="+h.scale),h.scalable==="no"?(c.push("minimum-scale="+h.scale),c.push("maximum-scale="+h.scale),c.push("user-scalable="+h.scalable)):(h.scalable&&c.push("user-scalable="+h.scalable),h.minimum&&c.push("minimum-scale="+h.minimum),h.maximum&&c.push("minimum-scale="+h.maximum)),u||(u=this.document.createElement("meta"),u.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(u)),u.setAttribute("content",c.join(", ")),this.window.scrollTo(0,0)),h}expand(){this.emit(gr.EVENTS.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver=="undefined"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(gr.EVENTS.CONTENTS.RESIZE,this._size))}resizeListeners(){var e,t;clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),r=0;r<e.length;r+=1){var n;try{n=e[r].cssRules}catch(o){return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var a=this.window.matchMedia(n[s].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,r=0;r<e.length;r++)t=e[r],typeof t.naturalWidth!="undefined"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var r,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new fi.default(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),n.left=r.left,n.top=r.top;else if(Fh){let a=s.startContainer,o=new Range;try{a.nodeType===om?r=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),r=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),r=o.getBoundingClientRect()):r=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(Fh){let o=new Range;o.selectNode(a),r=o.getBoundingClientRect()}else r=a.getBoundingClientRect()}return r&&(n.left=r.left,n.top=r.top),n}addStylesheet(e){return new Promise(function(t,r){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}.bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(t),r.innerHTML=e,!0}addStylesheetRules(e,t){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var a=1,o=e[n],u=e[n][0],l="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var h=o[a];l+=h[0]+":"+h[1]+(h[2]?" !important":"")+`;
`}r.insertRule(u+"{"+l+"}",r.cssRules.length)}else Object.keys(e).forEach(g=>{let _=e[g];if(Array.isArray(_))_.forEach(A=>{let p=Object.keys(A).map(v=>`${v}:${A[v]}`).join(";");r.insertRule(`${g}{${p}}`,r.cssRules.length)});else{let D=Object.keys(_).map(p=>`${p}:${_[p]}`).join(";");r.insertRule(`${g}{${D}}`,r.cssRules.length)}})}addScript(e){return new Promise(function(t,r){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}.bind(this))}addClass(e){var t;!this.document||(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;!this.document||(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){!this.document||(this._triggerEvent=this.triggerEvent.bind(this),gr.DOM_EVENTS.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){!this.document||(gr.DOM_EVENTS.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){!this.document||(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){!this.document||(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}.bind(this),250)}triggerSelectedEvent(e){var t,r;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(r=new fi.default(t,this.cfiBase).toString(),this.emit(gr.EVENTS.CONTENTS.SELECTED,r),this.emit(gr.EVENTS.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var r=new fi.default(e);return r.toRange(this.document,t)}cfiFromRange(e,t){return new fi.default(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new fi.default(e,this.cfiBase,t).toString()}map(e){var t=new Lh.default(e);return t.section()}size(e,t){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),r.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,t,r,n,s){let a=(0,Yt.prefixed)("column-axis"),o=(0,Yt.prefixed)("column-gap"),u=(0,Yt.prefixed)("column-width"),l=(0,Yt.prefixed)("column-fill"),h=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&h==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),h==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(o,n+"px"),this.css(u,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,r){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||r>=0)&&(s=" translate("+(t||0)+"px, "+(r||0)+"px )"),this.css("transform",n+s)}fit(e,t,r){var n=this.viewport(),s=parseInt(n.width),a=parseInt(n.height),o=e/s,u=t/a,l=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",s*l+"px "+a*l+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var c=e-s*l;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,r,n,s){var a=new Lh.default(t,s);return a.page(this,e,r,n)}linksHandler(){(0,sm.replaceLinks)(this.content,e=>{this.emit(gr.EVENTS.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=(0,Yt.prefixed)("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}};(0,nm.default)(no.prototype);var um=no;os.default=um});var Uh=$(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.default=void 0;var lm=qh(Gt()),fm=qh(Et()),Mh=Bt();function qh(i){return i&&i.__esModule?i:{default:i}}var zh=class{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,r,n,s,a){let o=encodeURI(t+e),l=new fm.default(t).spinePos,c=new so({type:e,cfiRange:t,data:r,sectionIndex:l,cb:n,className:s,styles:a});return this._annotations[o]=c,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(o):this._annotationsBySectionIndex[l]=[o],this.rendition.views().forEach(d=>{c.sectionIndex===d.index&&c.attach(d)}),c}remove(e,t){let r=encodeURI(e+t);if(r in this._annotations){let n=this._annotations[r];if(t&&n.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,r),n.sectionIndex===a.index&&n.detach(a)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,r,n,s){return this.add("highlight",e,t,r,n,s)}underline(e,t,r,n,s){return this.add("underline",e,t,r,n,s)}mark(e,t,r){return this.add("mark",e,t,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}},so=class{constructor({type:e,cfiRange:t,data:r,sectionIndex:n,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=r,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:r,type:n,mark:s,cb:a,className:o,styles:u}=this,l;return n==="highlight"?l=e.highlight(t,r,a,o,u):n==="underline"?l=e.underline(t,r,a,o,u):n==="mark"&&(l=e.mark(t,r,a)),this.mark=l,this.emit(Mh.EVENTS.ANNOTATION.ATTACH,l),l}detach(e){let{cfiRange:t,type:r}=this,n;return e&&(r==="highlight"?n=e.unhighlight(t):r==="underline"?n=e.ununderline(t):r==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(Mh.EVENTS.ANNOTATION.DETACH,n),n}text(){}};(0,lm.default)(so.prototype);var hm=zh;us.default=hm});var Vh=$(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.createElement=Wh;function Wh(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}ls.default={createElement:Wh}});var Zh=$(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.proxyMouse=jh;Ki.clone=Hh;Ki.default={proxyMouse:jh};function jh(i,e){function t(a){for(var o=e.length-1;o>=0;o--){var u=e[o],l=a.clientX,c=a.clientY;if(a.touches&&a.touches.length&&(l=a.touches[0].clientX,c=a.touches[0].clientY),!!cm(u,i,l,c)){u.dispatchEvent(Hh(a));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch(a){this.target=i}else this.target=i;for(var r=["mouseup","mousedown","click","touchstart"],n=0;n<r.length;n++){var s=r[n];this.target.addEventListener(s,function(a){return t(a)},!1)}}function Hh(i){var e=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,e)}catch(r){var t=document.createEvent("MouseEvents");return t.initMouseEvent(i.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t}}function cm(i,e,t,r){var n=e.getBoundingClientRect();function s(c,h,d){var g=c.top-n.top,_=c.left-n.left,A=g+c.height,D=_+c.width;return g<=d&&_<=h&&A>d&&D>h}var a=i.getBoundingClientRect();if(!s(a,t,r))return!1;for(var o=i.getClientRects(),u=0,l=o.length;u<l;u++)if(s(o[u],t,r))return!0;return!1}});var $h=$(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.Underline=ar.Highlight=ar.Mark=ar.Pane=void 0;var dm=function i(e,t,r){e===null&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(n===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:i(s,t,r)}else{if("value"in n)return n.value;var a=n.get;return a===void 0?void 0:a.call(r)}},fs=function(){function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}}(),pm=Vh(),Ji=Gh(pm),vm=Zh(),gm=Gh(vm);function Gh(i){return i&&i.__esModule?i:{default:i}}function Xh(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function Yh(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}function hs(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Zy=ar.Pane=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;hs(this,i),this.target=e,this.element=Ji.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),gm.default.proxyMouse(this.target,this.marks),this.container=t,this.container.appendChild(this.element),this.render()}return fs(i,[{key:"addMark",value:function(t){var r=Ji.default.createElement("g");return this.element.appendChild(r),t.bind(r,this.container),this.marks.push(t),t.render(),t}},{key:"removeMark",value:function(t){var r=this.marks.indexOf(t);if(r!==-1){var n=t.unbind();this.element.removeChild(n),this.marks.splice(r,1)}}},{key:"render",value:function(){bm(this.element,ym(this.target,this.container));var t=!0,r=!1,n=void 0;try{for(var s=this.marks[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var o=a.value;o.render()}}catch(u){r=!0,n=u}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}}}]),i}(),mm=ar.Mark=function(){function i(){hs(this,i),this.element=null}return fs(i,[{key:"bind",value:function(t,r){this.element=t,this.container=r}},{key:"unbind",value:function(){var t=this.element;return this.element=null,t}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(t){!this.element||this.element.dispatchEvent(t)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var t=[],r=this.element.firstChild;r;)t.push(r.getBoundingClientRect()),r=r.nextSibling;return t}},{key:"filteredRanges",value:function(){var t=Array.from(this.range.getClientRects());return t.filter(function(r){for(var n=0;n<t.length;n++){if(t[n]===r)return!0;var s=wm(t[n],r);if(s)return!1}return!0})}}]),i}(),_m=ar.Highlight=function(i){Yh(e,i);function e(t,r,n,s){hs(this,e);var a=Xh(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.range=t,a.className=r,a.data=n||{},a.attributes=s||{},a}return fs(e,[{key:"bind",value:function(r,n){dm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,r,n);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=n.length;o<u;o++){var l=n[o],c=Ji.default.createElement("rect");c.setAttribute("x",l.left-s.left+a.left),c.setAttribute("y",l.top-s.top+a.top),c.setAttribute("height",l.height),c.setAttribute("width",l.width),r.appendChild(c)}this.element.appendChild(r)}}]),e}(mm),Gy=ar.Underline=function(i){Yh(e,i);function e(t,r,n,s){return hs(this,e),Xh(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n,s))}return fs(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=n.length;o<u;o++){var l=n[o],c=Ji.default.createElement("rect");c.setAttribute("x",l.left-s.left+a.left),c.setAttribute("y",l.top-s.top+a.top),c.setAttribute("height",l.height),c.setAttribute("width",l.width),c.setAttribute("fill","none");var h=Ji.default.createElement("line");h.setAttribute("x1",l.left-s.left+a.left),h.setAttribute("x2",l.left-s.left+a.left+l.width),h.setAttribute("y1",l.top-s.top+a.top+l.height-1),h.setAttribute("y2",l.top-s.top+a.top+l.height-1),h.setAttribute("stroke-width",1),h.setAttribute("stroke","black"),h.setAttribute("stroke-linecap","square"),r.appendChild(c),r.appendChild(h)}this.element.appendChild(r)}}]),e}(_m);function ym(i,e){var t=e.getBoundingClientRect(),r=i.getBoundingClientRect();return{top:r.top-t.top,left:r.left-t.left,height:i.scrollHeight,width:i.scrollWidth}}function bm(i,e){i.style.setProperty("top",e.top+"px","important"),i.style.setProperty("left",e.left+"px","important"),i.style.setProperty("height",e.height+"px","important"),i.style.setProperty("width",e.width+"px","important")}function wm(i,e){return e.right<=i.right&&e.left>=i.left&&e.top>=i.top&&e.bottom<=i.bottom}});var uo=$(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.default=void 0;var Em=ao(Gt()),st=Be(),xm=ao(Et()),Sm=ao($i()),St=Bt(),cs=$h();function ao(i){return i&&i.__esModule?i:{default:i}}var oo=class{constructor(e,t){this.settings=(0,st.extend)({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+(0,st.uuid)(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new xm.default,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=(0,st.bounds)(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(r){return this.load(r)}.bind(this)).then(function(){let r=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=r.indexOf("vertical")===0?"horizontal":"vertical":n=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(St.EVENTS.VIEWS.AXIS,n),this.setWritingMode(r),this.emit(St.EVENTS.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}.bind(this),function(r){return this.emit(St.EVENTS.VIEWS.LOAD_ERROR,r),new Promise((n,s)=>{s(r)})}.bind(this)).then(function(){this.emit(St.EVENTS.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var r=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,n):this.settings.axis==="horizontal"?this.lock("height",r,n):this.lock("width",r,n),this.settings.width=r,this.settings.height=n}lock(e,t,r){var n=(0,st.borders)(this.element),s;this.iframe?s=(0,st.borders)(this.iframe):s={width:0,height:0},e=="width"&&(0,st.isNumber)(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&(0,st.isNumber)(r)&&(this.lockedHeight=r-n.height-s.height),e==="both"&&(0,st.isNumber)(t)&&(0,st.isNumber)(r)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=r-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,r=this.lockedHeight,n,s,a;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||r!=this._height)&&this.reframe(t,r),this._expanding=!1)}reframe(e,t){var r;(0,st.isNumber)(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),(0,st.isNumber)(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;r={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,r),this.emit(St.EVENTS.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=(0,st.bounds)(this.element)}load(e){var t=new st.defer,r=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=function(s){this.onLoad(s,t)}.bind(this),this.settings.method==="blobUrl")this.blobUrl=(0,st.createBlobUrl)(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Sm.default(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(St.EVENTS.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(St.EVENTS.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new st.defer;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(St.EVENTS.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),function(r){t.reject(r,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(St.EVENTS.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(St.EVENTS.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){var t=this.iframe.getBoundingClientRect(),r=this.contents.locationOf(e,this.settings.ignoreClass);return{left:r.left,top:r.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=(0,st.bounds)(this.element)),this.elementBounds}highlight(e,t={},r,n="epubjs-hl",s={}){if(!this.contents)return;let a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s),o=this.contents.range(e),u=()=>{this.emit(St.EVENTS.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new cs.Pane(this.iframe,this.element));let l=new cs.Highlight(o,n,t,a),c=this.pane.addMark(l);return this.highlights[e]={mark:c,element:c.element,listeners:[u,r]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),r&&(c.element.addEventListener("click",r),c.element.addEventListener("touchstart",r)),c}underline(e,t={},r,n="epubjs-ul",s={}){if(!this.contents)return;let a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s),o=this.contents.range(e),u=()=>{this.emit(St.EVENTS.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new cs.Pane(this.iframe,this.element));let l=new cs.Underline(o,n,t,a),c=this.pane.addMark(l);return this.underlines[e]={mark:c,element:c.element,listeners:[u,r]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),r&&(c.element.addEventListener("click",r),c.element.addEventListener("touchstart",r)),c}mark(e,t={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=l=>{this.emit(St.EVENTS.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(l=>{u.dataset[l]=t[l]}),r&&(u.addEventListener("click",r),u.addEventListener("touchstart",r)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[o,r]},a}placeMark(e,t){let r,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();r=o.top,n=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=u.top)}e.style.top=`${r}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&(0,st.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}};(0,Em.default)(oo.prototype);var Dm=oo;ds.default=Dm});var Jh=$(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.createDefiner=Kh;ps.default=Am;function Am(){var i="reverse",e=Kh();return document.body.appendChild(e),e.scrollLeft>0?i="default":typeof Element!="undefined"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(i="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(i="negative")),document.body.removeChild(e),i}function Kh(){var i=document.createElement("div");i.dir="rtl",i.style.position="fixed",i.style.width="1px",i.style.height="1px",i.style.top="0px",i.style.left="0px",i.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(t),e.appendChild(r),i.appendChild(e),i}});var vs=$((Ky,Qh)=>{function Cm(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}Qh.exports=Cm});var tc=$((Jy,ec)=>{var Tm=typeof global=="object"&&global&&global.Object===Object&&global;ec.exports=Tm});var lo=$((Qy,rc)=>{var km=tc(),Nm=typeof self=="object"&&self&&self.Object===Object&&self,Om=km||Nm||Function("return this")();rc.exports=Om});var nc=$((eb,ic)=>{var Rm=lo(),Im=function(){return Rm.Date.now()};ic.exports=Im});var ac=$((tb,sc)=>{var Bm=/\s/;function Lm(i){for(var e=i.length;e--&&Bm.test(i.charAt(e)););return e}sc.exports=Lm});var uc=$((rb,oc)=>{var Pm=ac(),Fm=/^\s+/;function Mm(i){return i&&i.slice(0,Pm(i)+1).replace(Fm,"")}oc.exports=Mm});var fo=$((ib,lc)=>{var qm=lo(),zm=qm.Symbol;lc.exports=zm});var dc=$((nb,cc)=>{var fc=fo(),hc=Object.prototype,Um=hc.hasOwnProperty,Wm=hc.toString,Qi=fc?fc.toStringTag:void 0;function Vm(i){var e=Um.call(i,Qi),t=i[Qi];try{i[Qi]=void 0;var r=!0}catch(s){}var n=Wm.call(i);return r&&(e?i[Qi]=t:delete i[Qi]),n}cc.exports=Vm});var vc=$((sb,pc)=>{var jm=Object.prototype,Hm=jm.toString;function Zm(i){return Hm.call(i)}pc.exports=Zm});var yc=$((ab,_c)=>{var gc=fo(),Gm=dc(),Xm=vc(),Ym="[object Null]",$m="[object Undefined]",mc=gc?gc.toStringTag:void 0;function Km(i){return i==null?i===void 0?$m:Ym:mc&&mc in Object(i)?Gm(i):Xm(i)}_c.exports=Km});var wc=$((ob,bc)=>{function Jm(i){return i!=null&&typeof i=="object"}bc.exports=Jm});var xc=$((ub,Ec)=>{var Qm=yc(),e0=wc(),t0="[object Symbol]";function r0(i){return typeof i=="symbol"||e0(i)&&Qm(i)==t0}Ec.exports=r0});var Cc=$((lb,Ac)=>{var i0=uc(),Sc=vs(),n0=xc(),Dc=0/0,s0=/^[-+]0x[0-9a-f]+$/i,a0=/^0b[01]+$/i,o0=/^0o[0-7]+$/i,u0=parseInt;function l0(i){if(typeof i=="number")return i;if(n0(i))return Dc;if(Sc(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Sc(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=i0(i);var t=a0.test(i);return t||o0.test(i)?u0(i.slice(2),t?2:8):s0.test(i)?Dc:+i}Ac.exports=l0});var co=$((fb,kc)=>{var f0=vs(),ho=nc(),Tc=Cc(),h0="Expected a function",c0=Math.max,d0=Math.min;function p0(i,e,t){var r,n,s,a,o,u,l=0,c=!1,h=!1,d=!0;if(typeof i!="function")throw new TypeError(h0);e=Tc(e)||0,f0(t)&&(c=!!t.leading,h="maxWait"in t,s=h?c0(Tc(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function g(w){var C=r,k=n;return r=n=void 0,l=w,a=i.apply(k,C),a}function _(w){return l=w,o=setTimeout(p,e),c?g(w):a}function A(w){var C=w-u,k=w-l,R=e-C;return h?d0(R,s-k):R}function D(w){var C=w-u,k=w-l;return u===void 0||C>=e||C<0||h&&k>=s}function p(){var w=ho();if(D(w))return v(w);o=setTimeout(p,A(w))}function v(w){return o=void 0,d&&r?g(w):(r=n=void 0,a)}function y(){o!==void 0&&clearTimeout(o),l=0,r=u=n=o=void 0}function T(){return o===void 0?a:v(ho())}function P(){var w=ho(),C=D(w);if(r=arguments,n=this,u=w,C){if(o===void 0)return _(u);if(h)return clearTimeout(o),o=setTimeout(p,e),g(u)}return o===void 0&&(o=setTimeout(p,e)),a}return P.cancel=y,P.flush=T,P}kc.exports=p0});var Oc=$((hb,Nc)=>{var v0=co(),g0=vs(),m0="Expected a function";function _0(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(m0);return g0(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),v0(i,e,{leading:r,maxWait:e,trailing:n})}Nc.exports=_0});var Ic=$(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.default=void 0;var Dt=Be(),y0=b0(Oc());function b0(i){return i&&i.__esModule?i:{default:i}}var Rc=class{constructor(e){this.settings=e||{},this.id="epubjs-container-"+(0,Dt.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,r=e.width,n=e.overflow||!1,s=e.axis||"vertical",a=e.direction;(0,Dt.extend)(this.settings,e),e.height&&(0,Dt.isNumber)(e.height)&&(t=e.height+"px"),e.width&&(0,Dt.isNumber)(e.width)&&(r=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),r&&(o.style.width=r),t&&(o.style.height=t),n&&(n==="scroll"&&s==="vertical"?(o.style["overflow-y"]=n,o.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=n):o.style.overflow=n),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if((0,Dt.isElement)(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),r;if(!!t)return this.settings.hidden?r=this.wrapper:r=this.container,t.appendChild(r),this.element=t,t}getContainer(){return this.container}onResize(e){(!(0,Dt.isNumber)(this.settings.width)||!(0,Dt.isNumber)(this.settings.height))&&(this.resizeFunc=(0,y0.default)(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var r;let n=e||this.settings.width,s=t||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):(0,Dt.isNumber)(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(r=r||this.element.getBoundingClientRect(),r.height&&(t=r.height,this.container.style.height=t+"px")):(0,Dt.isNumber)(t)?this.container.style.height=t+"px":this.container.style.height=t,(0,Dt.isNumber)(e)||(e=this.container.clientWidth),(0,Dt.isNumber)(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=(0,Dt.windowBounds)(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return n||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?(0,Dt.windowBounds)():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var r="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(n+=a+":"+s[a]+";")}),this.sheet.insertRule(r+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){var e;this.element&&(this.settings.hidden?e=this.wrapper:e=this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}},w0=Rc;gs.default=w0});var Lc=$(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var Bc=class{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(!!this.length){for(var r=0;r<t;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,r=this.length,n=0;n<r;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,r=this.length,n=0;n<r;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}},E0=Bc;ms.default=E0});var ys=$(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.default=void 0;var x0=ci(Gt()),hi=Be(),S0=ci(Jh()),Pc=ci(ro()),D0=ci(Gn()),A0=ci(Ic()),C0=ci(Lc()),At=Bt();function ci(i){return i&&i.__esModule?i:{default:i}}var po=class{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new D0.default(this),this.settings=(0,hi.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),(0,hi.extend)(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let r=e.tagName;typeof this.settings.fullsize=="undefined"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=(0,S0.default)(),this.stage=new A0.default({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new C0.default(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",function(t){this.destroy()}.bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(At.EVENTS.MANAGERS.ORIENTATION_CHANGE,t)}.bind(this),500)}onResized(e){this.resize()}resize(e,t,r){let n=this.stage.size(e,t);if(this.winBounds=(0,hi.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(At.EVENTS.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,t){return new this.View(e,(0,hi.extend)(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,r){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return r.call(this,n)}}display(e,t){var r=new hi.defer,n=r.promise;(t===e.href||(0,hi.isNumber)(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=s.locationOf(t),l=s.width();this.moveTo(u,l)}return r.resolve(),n}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then(function(o){if(t){let u=o.locationOf(t),l=o.width();this.moveTo(u,l)}}.bind(this),o=>{r.reject(o)}).then(function(){return this.handleNextPrePaginated(a,e,this.add)}.bind(this)).then(function(){this.views.show(),r.resolve()}.bind(this)),n}afterDisplayed(e){this.emit(At.EVENTS.MANAGERS.ADDED,e)}afterResized(e){this.emit(At.EVENTS.MANAGERS.RESIZE,e.section)}moveTo(e,t){var r=0,n=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-t),this.scrollTo(r,n,!0)}add(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(At.EVENTS.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(At.EVENTS.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}append(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(At.EVENTS.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(At.EVENTS.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}prepend(e,t){var r=this.createView(e,t);return r.on(At.EVENTS.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(At.EVENTS.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(At.EVENTS.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then(function(){return this.handleNextPrePaginated(n,e,this.append)}.bind(this),s=>s).then(function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,t;let r=this.settings.direction;if(!!this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then(function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}.bind(this),s=>s).then(function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical",a=this.settings.direction==="rtl",o=0,u=0;return this.settings.fullsize&&(o=s?window.scrollY:window.scrollX),e.map(c=>{let{index:h,href:d}=c.section,g=c.position(),_=c.width(),A=c.height(),D,p,v,y;s?(D=o+t.top-g.top+u,p=D+r-u,y=this.layout.count(A,r).pages,v=r):(D=o+t.left-g.left+u,p=D+n-u,y=this.layout.count(_,n).pages,v=n);let T=Math.ceil(D/v),P=[],w=Math.ceil(p/v);if(this.settings.direction==="rtl"&&!s){let R=T;T=y-w,w=y-R}P=[];for(var C=T;C<=w;C++){let R=C+1;P.push(R)}let k=this.mapping.page(c.contents,c.section.cfiBase,D,p);return{index:h,href:d,pages:P,totalPages:y,mapping:k}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=0,n=0;return this.settings.fullsize&&(r=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,l,c=a.position(),h=a.width(),d,g,_;this.settings.direction==="rtl"?(l=t.right-r,_=Math.min(Math.abs(l-c.left),this.layout.width)-n,g=c.width-(c.right-l)-n,d=g-_):(l=t.left+r,_=Math.min(c.right-l,this.layout.width)-n,d=l-c.left+n,g=d+_),n+=_;let A=this.mapping.page(a.contents,a.section.cfiBase,d,g),D=this.layout.count(h).pages,p=Math.floor(d/this.layout.pageWidth),v=[],y=Math.floor(g/this.layout.pageWidth);if(p<0&&(p=0,y=y+1),this.settings.direction==="rtl"){let P=p;p=D-y,y=D-P}for(var T=p+1;T<=y;T++){let P=T;v.push(P)}return{index:o,href:u,pages:v,totalPages:D,mapping:A}})}isVisible(e,t,r,n){var s=e.position(),a=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-t&&s.left<a.right+r?!0:this.settings.axis==="vertical"&&s.bottom>a.top-t&&s.top<a.bottom+r}visible(){for(var e=this.bounds(),t=this.views.displayed(),r=t.length,n=[],s,a,o=0;o<r;o++)a=t[o],s=this.isVisible(a,0,0,e),s===!0&&n.push(a);return n}scrollBy(e,t,r){let n=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(At.EVENTS.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(At.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){!this.stage||(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Pc.default(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Pc.default(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){let r=t&&t.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}};(0,x0.default)(po.prototype);var T0=po;_s.default=T0});var qc=$(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var Fc=Be(),Mc=Bt(),k0=N0(Gt());function N0(i){return i&&i.__esModule?i:{default:i}}var O0=Math.PI/2,R0={easeOutSine:function(i){return Math.sin(i*O0)},easeInOutSine:function(i){return-.5*(Math.cos(Math.PI*i)-1)},easeInOutQuint:function(i){return(i/=.5)<1?.5*Math.pow(i,5):.5*(Math.pow(i-2,5)+2)},easeInCubic:function(i){return Math.pow(i,3)}},vo=class{constructor(e,t){this.settings=(0,Fc.extend)({duration:80,minVelocity:.2,minDistance:10,easing:R0.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Mc.EVENTS.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Mc.EVENTS.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{t.on(r,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:r}=e.touches[0],n=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,r=Math.abs(t),n=this.endTime-this.startTime,s=t/n,a=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!=0}snap(e=0){let t=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/r)*r;return e&&(n+=e*r),this.smoothScrollTo(n)}smoothScrollTo(e){let t=new Fc.defer,r=this.scrollLeft,n=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){let u=this.now(),l=Math.min(1,(u-n)/s),c=a(l);if(this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}l<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(r+(e-r)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){!this.scroller||(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}};(0,k0.default)(vo.prototype);var I0=vo;bs.default=I0});var mo=$(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.default=void 0;var Fr=Be(),zc=go(ys()),Uc=go(qc()),Ft=Bt(),B0=go(co());function go(i){return i&&i.__esModule?i:{default:i}}var Wc=class extends zc.default{constructor(e){super(e);this.name="continuous",this.settings=(0,Fr.extend)(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),(0,Fr.extend)(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return zc.default.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}fill(e){var t=e||new Fr.defer;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,r=0,n=0,s=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,n=t+this.settings.offsetDelta):(r=e.top,s=e.top+this.settings.offsetDelta),(t>0||r>0)&&this.scrollBy(t,r,!0)}afterResized(e){this.emit(Ft.EVENTS.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(Ft.EVENTS.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(Ft.EVENTS.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(Ft.EVENTS.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(Ft.EVENTS.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(Ft.EVENTS.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(Ft.EVENTS.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(Ft.EVENTS.VIEWS.RESIZED,r=>{this.counter(r),t.expanded=!0}),t.on(Ft.EVENTS.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(Ft.EVENTS.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),r=this.views.all(),n=r.length,s=[],a=typeof e!="undefined"?e:this.settings.offset||0,o,u,l=new Fr.defer,c=[],h=0;h<n;h++)if(u=r[h],o=this.isVisible(u,a,a,t),o===!0){if(u.displayed)u.show();else{let d=u.display(this.request).then(function(g){g.show()},g=>{u.hide()});c.push(d)}s.push(u)}else this.q.enqueue(u.destroy.bind(u)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return c.length?Promise.all(c).catch(d=>{l.reject(d)}):(l.resolve(),l.promise)}check(e,t){var r=new Fr.defer,n=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),t&&!s&&(a=t);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,l=s?Math.floor(o.width):o.height,c=s?this.container.scrollWidth:this.container.scrollHeight,h=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",d=this.settings.rtlScrollType,g=this.settings.direction==="rtl";this.settings.fullsize?(s&&g&&d==="negative"||!s&&g&&d==="default")&&(u=u*-1):(g&&d==="default"&&h==="horizontal"&&(u=c-l-u),g&&d==="negative"&&h==="horizontal"&&(u=u*-1));let _=()=>{let y=this.views.first(),T=y&&y.section.prev();T&&n.push(this.prepend(T))},A=()=>{let y=this.views.last(),T=y&&y.section.next();T&&n.push(this.append(T))},D=u+l+a,p=u-a;D>=c&&A(),p<0&&_();let v=n.map(y=>y.display(this.request));return n.length?Promise.all(v).then(()=>this.check()).then(()=>this.update(a),y=>y):(this.q.enqueue(function(){this.update()}.bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new Fr.defer,t=this.views.displayed(),r=t[0],n=t[t.length-1],s=this.views.indexOf(r),a=this.views.indexOf(n),o=this.views.slice(0,s),u=this.views.slice(a+1),l=0;l<o.length-1;l++)this.erase(o[l],o);for(var c=1;c<u.length;c++)this.erase(u[c]);return e.resolve(),e.promise}erase(e,t){var r,n;this.settings.fullsize?(r=window.scrollY,n=window.scrollX):(r=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",function(t){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Uc.default(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=Fr.requestAnimationFrame;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=(0,B0.default)(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,t=window.scrollX*r):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(Ft.EVENTS.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Ft.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;!this.views.length||(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Uc.default(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}},L0=Wc;ws.default=L0});var xs=$(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.default=void 0;var P0=$t(Gt()),en=Be(),Mr=$t(Wn()),Vc=$t(Et()),F0=$t(Gn()),M0=$t(to()),q0=$t(Rh()),mb=$t($i()),z0=$t(Uh()),Le=Bt(),U0=$t(uo()),W0=$t(ys()),V0=$t(mo());function $t(i){return i&&i.__esModule?i:{default:i}}var _o=class{constructor(e,t){this.settings=(0,en.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),(0,en.extend)(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Mr.default(this),this.hooks.serialize=new Mr.default(this),this.hooks.content=new Mr.default(this),this.hooks.unloaded=new Mr.default(this),this.hooks.layout=new Mr.default(this),this.hooks.render=new Mr.default(this),this.hooks.show=new Mr.default(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new q0.default(this),this.annotations=new z0.default(this),this.epubcfi=new Vc.default,this.q=new F0.default(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new en.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=W0.default:typeof e=="string"&&e==="continuous"?t=V0.default:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=U0.default:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Le.EVENTS.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Le.EVENTS.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Le.EVENTS.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Le.EVENTS.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Le.EVENTS.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Le.EVENTS.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Le.EVENTS.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(!!this.book){var t=this.epubcfi.isCfiString(e),r=new en.defer,n=r.promise,s,a;return this.displaying=r,this.book.locations.length()&&(0,en.isFloat)(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),s=this.book.spine.get(e),s?(this.manager.display(s,e).then(()=>{r.resolve(s),this.displaying=void 0,this.emit(Le.EVENTS.RENDITION.DISPLAYED,s),this.reportLocation()},o=>{this.emit(Le.EVENTS.RENDITION.DISPLAY_ERROR,o)}),n):(r.reject(new Error("No Section Found")),n)}}afterDisplayed(e){e.on(Le.EVENTS.VIEWS.MARK_CLICKED,(t,r)=>this.triggerMarkEvent(t,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Le.EVENTS.RENDITION.RENDERED,e.section,e)}):this.emit(Le.EVENTS.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Le.EVENTS.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(Le.EVENTS.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(Le.EVENTS.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,r){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,r=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,l=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:r,spread:n,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:l},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new M0.default(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Le.EVENTS.LAYOUT.UPDATED,(t,r)=>{this.emit(Le.EVENTS.RENDITION.LAYOUT,t,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then(function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(Le.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Le.EVENTS.RENDITION.RELOCATED,this.location))}.bind(this));else if(r){let n=this.located(r);if(!n||!n.start||!n.end)return;this.location=n,this.emit(Le.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Le.EVENTS.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then(function(t){return this.located(t)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],r=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(n.end.location=a,n.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(r.mapping.end);return o!=-1&&(n.start.page=o),u!=-1&&(n.end.page=u),r.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Le.DOM_EVENTS.forEach(t=>{e.on(t,r=>this.triggerViewEvent(r,e))}),e.on(Le.EVENTS.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(Le.EVENTS.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,r){this.emit(Le.EVENTS.RENDITION.MARK_CLICKED,e,t,r)}getRange(e,t){var r=new Vc.default(e),n=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(r,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Le.EVENTS.CONTENTS.LINK_CLICKED,t=>{let r=this.book.path.relative(t);this.display(r)})}injectStylesheet(e,t){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,t){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,t){let r=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),r&&n.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(n)}};(0,P0.default)(_o.prototype);var j0=_o;Es.default=j0});var Hc=$((jc,yo)=>{(function(i){if(typeof jc=="object"&&typeof yo!="undefined")yo.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.JSZip=i()}})(function(){var i,e,t;return function r(n,s,a){function o(c,h){if(!s[c]){if(!n[c]){var d=typeof require=="function"&&require;if(!h&&d)return d(c,!0);if(u)return u(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var _=s[c]={exports:{}};n[c][0].call(_.exports,function(A){var D=n[c][1][A];return o(D||A)},_,_.exports,r,n,s,a)}return s[c].exports}for(var u=typeof require=="function"&&require,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(r,n,s){"use strict";var a=r("./utils"),o=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c=[],h,d,g,_,A,D,p,v=0,y=l.length,T=y,P=a.getTypeOf(l)!=="string";v<l.length;)T=y-v,P?(h=l[v++],d=v<y?l[v++]:0,g=v<y?l[v++]:0):(h=l.charCodeAt(v++),d=v<y?l.charCodeAt(v++):0,g=v<y?l.charCodeAt(v++):0),_=h>>2,A=(h&3)<<4|d>>4,D=T>1?(d&15)<<2|g>>6:64,p=T>2?g&63:64,c.push(u.charAt(_)+u.charAt(A)+u.charAt(D)+u.charAt(p));return c.join("")},s.decode=function(l){var c,h,d,g,_,A,D,p=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");l=l.replace(/[^A-Za-z0-9+/=]/g,"");var T=l.length*3/4;if(l.charAt(l.length-1)===u.charAt(64)&&T--,l.charAt(l.length-2)===u.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");var P;for(o.uint8array?P=new Uint8Array(T|0):P=new Array(T|0);p<l.length;)g=u.indexOf(l.charAt(p++)),_=u.indexOf(l.charAt(p++)),A=u.indexOf(l.charAt(p++)),D=u.indexOf(l.charAt(p++)),c=g<<2|_>>4,h=(_&15)<<4|A>>2,d=(A&3)<<6|D,P[v++]=c,A!==64&&(P[v++]=h),D!==64&&(P[v++]=d);return P}},{"./support":30,"./utils":32}],2:[function(r,n,s){"use strict";var a=r("./external"),o=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(h,d,g,_,A){this.compressedSize=h,this.uncompressedSize=d,this.crc32=g,this.compression=_,this.compressedContent=A}c.prototype={getContentWorker:function(){var h=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return h.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,d,g){return h.pipe(new u).pipe(new l("uncompressedSize")).pipe(d.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){"use strict";var a=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){"use strict";var a=r("./utils");function o(){for(var h,d=[],g=0;g<256;g++){h=g;for(var _=0;_<8;_++)h=h&1?3988292384^h>>>1:h>>>1;d[g]=h}return d}var u=o();function l(h,d,g,_){var A=u,D=_+g;h=h^-1;for(var p=_;p<D;p++)h=h>>>8^A[(h^d[p])&255];return h^-1}function c(h,d,g,_){var A=u,D=_+g;h=h^-1;for(var p=_;p<D;p++)h=h>>>8^A[(h^d.charCodeAt(p))&255];return h^-1}n.exports=function(d,g){if(typeof d=="undefined"||!d.length)return 0;var _=a.getTypeOf(d)!=="string";return _?l(g|0,d,d.length,0):c(g|0,d,d.length,0)}},{"./utils":32}],5:[function(r,n,s){"use strict";s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){"use strict";var a=null;typeof Promise!="undefined"?a=Promise:a=r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,s){"use strict";var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",o=r("pako"),u=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";s.magic="\b\0";function h(d,g){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=g,this.meta={}}u.inherits(h,l),h.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(c,d.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(g){d.push({data:g,meta:d.meta})}},s.compressWorker=function(d){return new h("Deflate",d)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){"use strict";var a=r("../utils"),o=r("../stream/GenericWorker"),u=r("../utf8"),l=r("../crc32"),c=r("../signature"),h=function(v,y){var T="",P;for(P=0;P<y;P++)T+=String.fromCharCode(v&255),v=v>>>8;return T},d=function(v,y){var T=v;return v||(T=y?16893:33204),(T&65535)<<16},g=function(v){return(v||0)&63},_=function(v,y,T,P,w,C){var k=v.file,R=v.compression,q=C!==u.utf8encode,M=a.transformTo("string",C(k.name)),G=a.transformTo("string",u.utf8encode(k.name)),H=k.comment,ie=a.transformTo("string",C(H)),de=a.transformTo("string",u.utf8encode(H)),re=G.length!==k.name.length,ce=de.length!==H.length,fe,ae,be="",Re="",De="",le=k.dir,Te=k.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};(!y||T)&&(Ee.crc32=v.crc32,Ee.compressedSize=v.compressedSize,Ee.uncompressedSize=v.uncompressedSize);var et=0;y&&(et|=8),!q&&(re||ce)&&(et|=2048);var Ge=0,qe=0;le&&(Ge|=16),w==="UNIX"?(qe=798,Ge|=d(k.unixPermissions,le)):(qe=20,Ge|=g(k.dosPermissions,le)),fe=Te.getUTCHours(),fe=fe<<6,fe=fe|Te.getUTCMinutes(),fe=fe<<5,fe=fe|Te.getUTCSeconds()/2,ae=Te.getUTCFullYear()-1980,ae=ae<<4,ae=ae|Te.getUTCMonth()+1,ae=ae<<5,ae=ae|Te.getUTCDate(),re&&(Re=h(1,1)+h(l(M),4)+G,be+="up"+h(Re.length,2)+Re),ce&&(De=h(1,1)+h(l(ie),4)+de,be+="uc"+h(De.length,2)+De);var _e="";_e+=`
\0`,_e+=h(et,2),_e+=R.magic,_e+=h(fe,2),_e+=h(ae,2),_e+=h(Ee.crc32,4),_e+=h(Ee.compressedSize,4),_e+=h(Ee.uncompressedSize,4),_e+=h(M.length,2),_e+=h(be.length,2);var Ke=c.LOCAL_FILE_HEADER+_e+M+be,Ue=c.CENTRAL_FILE_HEADER+h(qe,2)+_e+h(ie.length,2)+"\0\0\0\0"+h(Ge,4)+h(P,4)+M+be+ie;return{fileRecord:Ke,dirRecord:Ue}},A=function(v,y,T,P,w){var C="",k=a.transformTo("string",w(P));return C=c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(v,2)+h(v,2)+h(y,4)+h(T,4)+h(k.length,2)+k,C},D=function(v){var y="";return y=c.DATA_DESCRIPTOR+h(v.crc32,4)+h(v.compressedSize,4)+h(v.uncompressedSize,4),y};function p(v,y,T,P){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=T,this.encodeFileName=P,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,o),p.prototype.push=function(v){var y=v.meta.percent||0,T=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,o.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:T?(y+100*(T-P-1))/T:100}}))},p.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var y=this.streamFiles&&!v.file.dir;if(y){var T=_(v,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:T.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(v){this.accumulate=!1;var y=this.streamFiles&&!v.file.dir,T=_(v,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(T.dirRecord),y)this.push({data:D(v),meta:{percent:100}});else for(this.push({data:T.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var v=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var T=this.bytesWritten-v,P=A(this.dirRecords.length,T,v,this.zipComment,this.encodeFileName);this.push({data:P,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(v){this._sources.push(v);var y=this;return v.on("data",function(T){y.processChunk(T)}),v.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),v.on("error",function(T){y.error(T)}),this},p.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(v){var y=this._sources;if(!o.prototype.error.call(this,v))return!1;for(var T=0;T<y.length;T++)try{y[T].error(v)}catch(P){}return!0},p.prototype.lock=function(){o.prototype.lock.call(this);for(var v=this._sources,y=0;y<v.length;y++)v[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){"use strict";var a=r("../compressions"),o=r("./ZipFileWorker"),u=function(l,c){var h=l||c,d=a[h];if(!d)throw new Error(h+" is not a valid compression method !");return d};s.generateWorker=function(l,c,h){var d=new o(c.streamFiles,h,c.platform,c.encodeFileName),g=0;try{l.forEach(function(_,A){g++;var D=u(A.options.compression,c.compression),p=A.options.compressionOptions||c.compressionOptions||{},v=A.dir,y=A.date;A._compressWorker(D,p).withStreamInfo("file",{name:_,dir:v,date:y,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(d)}),d.entriesCount=g}catch(_){d.error(_)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var u in this)typeof this[u]!="function"&&(o[u]=this[u]);return o}}a.prototype=r("./object"),a.prototype.loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,u){return new a().loadAsync(o,u)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){"use strict";var a=r("./utils"),o=r("./external"),u=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function d(g){return new o.Promise(function(_,A){var D=g.decompressed.getContentWorker().pipe(new c);D.on("error",function(p){A(p)}).on("end",function(){D.streamInfo.crc32!==g.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}n.exports=function(g,_){var A=this;return _=a.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,_.optimizedBinaryString,_.base64).then(function(D){var p=new l(_);return p.load(D),p}).then(function(p){var v=[o.Promise.resolve(p)],y=p.files;if(_.checkCRC32)for(var T=0;T<y.length;T++)v.push(d(y[T]));return o.Promise.all(v)}).then(function(p){for(var v=p.shift(),y=v.files,T=0;T<y.length;T++){var P=y[T],w=P.fileNameStr,C=a.resolve(P.fileNameStr);A.file(C,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:_.createFolders}),P.dir||(A.file(C).unsafeOriginalName=w)}return v.zipComment.length&&(A.comment=v.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){"use strict";var a=r("../utils"),o=r("../stream/GenericWorker");function u(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(u,o),u.prototype._bindStream=function(l){var c=this;this._stream=l,l.pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},u.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},u.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){"use strict";var a=r("readable-stream").Readable,o=r("../utils");o.inherits(u,a);function u(l,c,h){a.call(this,c),this._helper=l;var d=this;l.on("data",function(g,_){d.push(g)||d._helper.pause(),h&&h(_)}).on("error",function(g){d.emit("error",g)}).on("end",function(){d.push(null)})}u.prototype._read=function(){this._helper.resume()},n.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){"use strict";n.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,s){"use strict";var a=r("./utf8"),o=r("./utils"),u=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),c=r("./defaults"),h=r("./compressedObject"),d=r("./zipObject"),g=r("./generate"),_=r("./nodejsUtils"),A=r("./nodejs/NodejsStreamInputAdapter"),D=function(w,C,k){var R=o.getTypeOf(C),q,M=o.extend(k||{},c);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&M.unixPermissions&16384&&(M.dir=!0),M.dosPermissions&&M.dosPermissions&16&&(M.dir=!0),M.dir&&(w=v(w)),M.createFolders&&(q=p(w))&&y.call(this,q,!0);var G=R==="string"&&M.binary===!1&&M.base64===!1;(!k||typeof k.binary=="undefined")&&(M.binary=!G);var H=C instanceof h&&C.uncompressedSize===0;(H||M.dir||!C||C.length===0)&&(M.base64=!1,M.binary=!0,C="",M.compression="STORE",R="string");var ie=null;C instanceof h||C instanceof u?ie=C:_.isNode&&_.isStream(C)?ie=new A(w,C):ie=o.prepareContent(w,C,M.binary,M.optimizedBinaryString,M.base64);var de=new d(w,ie,M);this.files[w]=de},p=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return C>0?w.substring(0,C):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},y=function(w,C){return C=typeof C!="undefined"?C:c.createFolders,w=v(w),this.files[w]||D.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function T(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,k,R;for(C in this.files)R=this.files[C],k=C.slice(this.root.length,C.length),k&&C.slice(0,this.root.length)===this.root&&w(k,R)},filter:function(w){var C=[];return this.forEach(function(k,R){w(k,R)&&C.push(R)}),C},file:function(w,C,k){if(arguments.length===1)if(T(w)){var R=w;return this.filter(function(M,G){return!G.dir&&R.test(M)})}else{var q=this.files[this.root+w];return q&&!q.dir?q:null}else w=this.root+w,D.call(this,w,C,k);return this},folder:function(w){if(!w)return this;if(T(w))return this.filter(function(q,M){return M.dir&&w.test(q)});var C=this.root+w,k=y.call(this,C),R=this.clone();return R.root=k.name,R},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var k=this.filter(function(q,M){return M.name.slice(0,w.length)===w}),R=0;R<k.length;R++)delete this.files[k[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,k={};try{if(k=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),k.type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");o.checkSupport(k.type),(k.platform==="darwin"||k.platform==="freebsd"||k.platform==="linux"||k.platform==="sunos")&&(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var R=k.comment||this.comment||"";C=g.generateWorker(this,k,R)}catch(q){C=new u("error"),C.error(q)}return new l(C,k.type||"string",k.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return w=w||{},w.type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};n.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){"use strict";n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){"use strict";var a=r("./DataReader"),o=r("../utils");function u(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=l[c]&255}o.inherits(u,a),u.prototype.byteAt=function(l){return this.data[this.zero+l]},u.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),h=l.charCodeAt(1),d=l.charCodeAt(2),g=l.charCodeAt(3),_=this.length-4;_>=0;--_)if(this.data[_]===c&&this.data[_+1]===h&&this.data[_+2]===d&&this.data[_+3]===g)return _-this.zero;return-1},u.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),h=l.charCodeAt(1),d=l.charCodeAt(2),g=l.charCodeAt(3),_=this.readData(4);return c===_[0]&&h===_[1]&&d===_[2]&&g===_[3]},u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){"use strict";var a=r("../utils");function o(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var l=0,c;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=u,l},readString:function(u){return a.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC((u>>25&127)+1980,(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(u&31)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,s){"use strict";var a=r("./Uint8ArrayReader"),o=r("../utils");function u(l){a.call(this,l)}o.inherits(u,a),u.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){"use strict";var a=r("./DataReader"),o=r("../utils");function u(l){a.call(this,l)}o.inherits(u,a),u.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},u.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},u.prototype.readAndCheckSignature=function(l){var c=this.readData(4);return l===c},u.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){"use strict";var a=r("./ArrayReader"),o=r("../utils");function u(l){a.call(this,l)}o.inherits(u,a),u.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){"use strict";var a=r("../utils"),o=r("../support"),u=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(d){var g=a.getTypeOf(d);return a.checkSupport(g),g==="string"&&!o.uint8array?new l(d):g==="nodebuffer"?new c(d):o.uint8array?new h(a.transformTo("uint8array",d)):new u(a.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){"use strict";s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){"use strict";var a=r("./GenericWorker"),o=r("../utils");function u(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(u,a),u.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){"use strict";var a=r("./GenericWorker"),o=r("../crc32"),u=r("../utils");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u.inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){"use strict";var a=r("../utils"),o=r("./GenericWorker");function u(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(u,o),u.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){"use strict";var a=r("../utils"),o=r("./GenericWorker"),u=16*1024;function l(c){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){h.dataIsReady=!0,h.data=d,h.max=d&&d.length||0,h.type=a.getTypeOf(d),h.isPaused||h._tickAndRepeat()},function(d){h.error(d)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0):!1},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=u,h=null,d=Math.min(this.max,this.index+c);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,d);break;case"uint8array":h=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":h=this.data.slice(this.index,d);break}return this.index=d,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){"use strict";function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,u){return this._listeners[o].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,u){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,u)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var u=this;return o.on("data",function(l){u.processChunk(l)}),o.on("end",function(){u.end()}),o.on("error",function(l){u.error(l)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,u){return this.extraStreamInfo[o]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)||(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,s){"use strict";var a=r("../utils"),o=r("./ConvertWorker"),u=r("./GenericWorker"),l=r("../base64"),c=r("../support"),h=r("../external"),d=null;if(c.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function g(p,v,y){switch(p){case"blob":return a.newBlob(a.transformTo("arraybuffer",v),y);case"base64":return l.encode(v);default:return a.transformTo(p,v)}}function _(p,v){var y,T=0,P=null,w=0;for(y=0;y<v.length;y++)w+=v[y].length;switch(p){case"string":return v.join("");case"array":return Array.prototype.concat.apply([],v);case"uint8array":for(P=new Uint8Array(w),y=0;y<v.length;y++)P.set(v[y],T),T+=v[y].length;return P;case"nodebuffer":return Buffer.concat(v);default:throw new Error("concat : unsupported type '"+p+"'")}}function A(p,v){return new h.Promise(function(y,T){var P=[],w=p._internalType,C=p._outputType,k=p._mimeType;p.on("data",function(R,q){P.push(R),v&&v(q)}).on("error",function(R){P=[],T(R)}).on("end",function(){try{var R=g(C,_(w,P),k);y(R)}catch(q){T(q)}P=[]}).resume()})}function D(p,v,y){var T=v;switch(v){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string";break}try{this._internalType=T,this._outputType=v,this._mimeType=y,a.checkSupport(T),this._worker=p.pipe(new o(T)),p.lock()}catch(P){this._worker=new u("error"),this._worker.error(P)}}D.prototype={accumulate:function(p){return A(this,p)},on:function(p,v){var y=this;return p==="data"?this._worker.on(p,function(T){v.call(y,T.data,T.meta)}):this._worker.on(p,function(){a.delay(v,arguments,y)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){"use strict";if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",s.nodebuffer=typeof Buffer!="undefined",s.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch(l){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,u=new o;u.append(a),s.blob=u.getBlob("application/zip").size===0}catch(c){s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch(l){s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){"use strict";for(var a=r("./utils"),o=r("./support"),u=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;c[254]=c[254]=1;var d=function(p){var v,y,T,P,w,C=p.length,k=0;for(P=0;P<C;P++)y=p.charCodeAt(P),(y&64512)==55296&&P+1<C&&(T=p.charCodeAt(P+1),(T&64512)==56320&&(y=65536+(y-55296<<10)+(T-56320),P++)),k+=y<128?1:y<2048?2:y<65536?3:4;for(o.uint8array?v=new Uint8Array(k):v=new Array(k),w=0,P=0;w<k;P++)y=p.charCodeAt(P),(y&64512)==55296&&P+1<C&&(T=p.charCodeAt(P+1),(T&64512)==56320&&(y=65536+(y-55296<<10)+(T-56320),P++)),y<128?v[w++]=y:y<2048?(v[w++]=192|y>>>6,v[w++]=128|y&63):y<65536?(v[w++]=224|y>>>12,v[w++]=128|y>>>6&63,v[w++]=128|y&63):(v[w++]=240|y>>>18,v[w++]=128|y>>>12&63,v[w++]=128|y>>>6&63,v[w++]=128|y&63);return v},g=function(p,v){var y;for(v=v||p.length,v>p.length&&(v=p.length),y=v-1;y>=0&&(p[y]&192)==128;)y--;return y<0||y===0?v:y+c[p[y]]>v?y:v},_=function(p){var v,y,T,P,w=p.length,C=new Array(w*2);for(y=0,v=0;v<w;){if(T=p[v++],T<128){C[y++]=T;continue}if(P=c[T],P>4){C[y++]=65533,v+=P-1;continue}for(T&=P===2?31:P===3?15:7;P>1&&v<w;)T=T<<6|p[v++]&63,P--;if(P>1){C[y++]=65533;continue}T<65536?C[y++]=T:(T-=65536,C[y++]=55296|T>>10&1023,C[y++]=56320|T&1023)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),a.applyFromCharCode(C)};s.utf8encode=function(v){return o.nodebuffer?u.newBufferFrom(v,"utf-8"):d(v)},s.utf8decode=function(v){return o.nodebuffer?a.transformTo("nodebuffer",v).toString("utf-8"):(v=a.transformTo(o.uint8array?"uint8array":"array",v),_(v))};function A(){l.call(this,"utf-8 decode"),this.leftOver=null}a.inherits(A,l),A.prototype.processChunk=function(p){var v=a.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=v;v=new Uint8Array(y.length+this.leftOver.length),v.set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var T=g(v),P=v;T!==v.length&&(o.uint8array?(P=v.subarray(0,T),this.leftOver=v.subarray(T,v.length)):(P=v.slice(0,T),this.leftOver=v.slice(T,v.length))),this.push({data:s.utf8decode(P),meta:p.meta})},A.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=A;function D(){l.call(this,"utf-8 encode")}a.inherits(D,l),D.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){"use strict";var a=r("./support"),o=r("./base64"),u=r("./nodejsUtils"),l=r("./external");r("setimmediate");function c(p){var v=null;return a.uint8array?v=new Uint8Array(p.length):v=new Array(p.length),d(p,v)}s.newBlob=function(p,v){s.checkSupport("blob");try{return new Blob([p],{type:v})}catch(P){try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,T=new y;return T.append(p),T.getBlob(v)}catch(w){throw new Error("Bug : can't construct the Blob.")}}};function h(p){return p}function d(p,v){for(var y=0;y<p.length;++y)v[y]=p.charCodeAt(y)&255;return v}var g={stringifyByChunk:function(p,v,y){var T=[],P=0,w=p.length;if(w<=y)return String.fromCharCode.apply(null,p);for(;P<w;)v==="array"||v==="nodebuffer"?T.push(String.fromCharCode.apply(null,p.slice(P,Math.min(P+y,w)))):T.push(String.fromCharCode.apply(null,p.subarray(P,Math.min(P+y,w)))),P+=y;return T.join("")},stringifyByChar:function(p){for(var v="",y=0;y<p.length;y++)v+=String.fromCharCode(p[y]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(p){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch(p){return!1}}()}};function _(p){var v=65536,y=s.getTypeOf(p),T=!0;if(y==="uint8array"?T=g.applyCanBeUsed.uint8array:y==="nodebuffer"&&(T=g.applyCanBeUsed.nodebuffer),T)for(;v>1;)try{return g.stringifyByChunk(p,y,v)}catch(P){v=Math.floor(v/2)}return g.stringifyByChar(p)}s.applyFromCharCode=_;function A(p,v){for(var y=0;y<p.length;y++)v[y]=p[y];return v}var D={};D.string={string:h,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return D.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,u.allocBuffer(p.length))}},D.array={string:_,array:h,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return u.newBufferFrom(p)}},D.arraybuffer={string:function(p){return _(new Uint8Array(p))},array:function(p){return A(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:h,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return u.newBufferFrom(new Uint8Array(p))}},D.uint8array={string:_,array:function(p){return A(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:h,nodebuffer:function(p){return u.newBufferFrom(p)}},D.nodebuffer={string:_,array:function(p){return A(p,new Array(p.length))},arraybuffer:function(p){return D.nodebuffer.uint8array(p).buffer},uint8array:function(p){return A(p,new Uint8Array(p.length))},nodebuffer:h},s.transformTo=function(p,v){if(v||(v=""),!p)return v;s.checkSupport(p);var y=s.getTypeOf(v),T=D[y][p](v);return T},s.resolve=function(p){for(var v=p.split("/"),y=[],T=0;T<v.length;T++){var P=v[T];P==="."||P===""&&T!==0&&T!==v.length-1||(P===".."?y.pop():y.push(P))}return y.join("/")},s.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(a.nodebuffer&&u.isBuffer(p))return"nodebuffer";if(a.uint8array&&p instanceof Uint8Array)return"uint8array";if(a.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(p){var v=a[p.toLowerCase()];if(!v)throw new Error(p+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(p){var v="",y,T;for(T=0;T<(p||"").length;T++)y=p.charCodeAt(T),v+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return v},s.delay=function(p,v,y){setImmediate(function(){p.apply(y||null,v||[])})},s.inherits=function(p,v){var y=function(){};y.prototype=v.prototype,p.prototype=new y},s.extend=function(){var p={},v,y;for(v=0;v<arguments.length;v++)for(y in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],y)&&typeof p[y]=="undefined"&&(p[y]=arguments[v][y]);return p},s.prepareContent=function(p,v,y,T,P){var w=l.Promise.resolve(v).then(function(C){var k=a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1);return k&&typeof FileReader!="undefined"?new l.Promise(function(R,q){var M=new FileReader;M.onload=function(G){R(G.target.result)},M.onerror=function(G){q(G.target.error)},M.readAsArrayBuffer(C)}):C});return w.then(function(C){var k=s.getTypeOf(C);return k?(k==="arraybuffer"?C=s.transformTo("uint8array",C):k==="string"&&(P?C=o.decode(C):y&&T!==!0&&(C=c(C))),C):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){"use strict";var a=r("./reader/readerFor"),o=r("./utils"),u=r("./signature"),l=r("./zipEntry"),c=r("./support");function h(d){this.files=[],this.loadOptions=d}h.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(d)+")")}},isSignature:function(d,g){var _=this.reader.index;this.reader.setIndex(d);var A=this.reader.readString(4),D=A===g;return this.reader.setIndex(_),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),g=c.uint8array?"uint8array":"array",_=o.transformTo(g,d);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,g=0,_,A,D;g<d;)_=this.reader.readInt(2),A=this.reader.readInt(4),D=this.reader.readData(A),this.zip64ExtensibleData[_]={id:_,length:A,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,g;for(d=0;d<this.files.length;d++)g=this.files[d],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)d=new l({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(d<0){var g=!this.isSignature(0,u.LOCAL_FILE_HEADER);throw g?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var _=d;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var D=_-A;if(D>0)this.isSignature(_,u.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){"use strict";var a=r("./reader/readerFor"),o=r("./utils"),u=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),h=r("./compressions"),d=r("./support"),g=0,_=3,A=function(p){for(var v in h)if(!!Object.prototype.hasOwnProperty.call(h,v)&&h[v].magic===p)return h[v];return null};function D(p,v){this.options=p,this.loadOptions=v}D.prototype={isEncrypted:function(){return(this.bitFlag&1)==1},useUTF8:function(){return(this.bitFlag&2048)==2048},readLocalPart:function(p){var v,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(v=A(this.compressionMethod),v===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===g&&(this.dosPermissions=this.externalFileAttributes&63),p===_&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(!!this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v=p.index+this.extraFieldsLength,y,T,P;for(this.extraFields||(this.extraFields={});p.index+4<v;)y=p.readInt(2),T=p.readInt(2),P=p.readData(T),this.extraFields[y]={id:y,length:T,value:P};p.setIndex(v)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var P=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=a(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=a(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},n.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){"use strict";var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),u=r("./utf8"),l=r("./compressedObject"),c=r("./stream/GenericWorker"),h=function(A,D,p){this.name=A,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=D,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};h.prototype={internalStream:function(A){var D=null,p="string";try{if(!A)throw new Error("No output type specified.");p=A.toLowerCase();var v=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),D=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(D=D.pipe(new u.Utf8EncodeWorker)),!y&&v&&(D=D.pipe(new u.Utf8DecodeWorker))}catch(T){D=new c("error"),D.error(T)}return new a(D,p,"")},async:function(A,D){return this.internalStream(A).accumulate(D)},nodeStream:function(A,D){return this.internalStream(A||"nodebuffer").toNodejsStream(D)},_compressWorker:function(A,D){if(this._data instanceof l&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(p,A,D)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<d.length;_++)h.prototype[d[_]]=g;n.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(a){"use strict";var o=a.MutationObserver||a.WebKitMutationObserver,u;if(o){var l=0,c=new o(A),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),u=function(){h.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel!="undefined"){var d=new a.MessageChannel;d.port1.onmessage=A,u=function(){d.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?u=function(){var p=a.document.createElement("script");p.onreadystatechange=function(){A(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:u=function(){setTimeout(A,0)};var g,_=[];function A(){g=!0;for(var p,v,y=_.length;y;){for(v=_,_=[],p=-1;++p<y;)v[p]();y=_.length}g=!1}n.exports=D;function D(p){_.push(p)===1&&!g&&u()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,n,s){"use strict";var a=r("immediate");function o(){}var u={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];n.exports=d;function d(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==o&&D(this,w)}d.prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(k,R);function k(q){function M(){return q}return C.resolve(w()).then(M)}function R(q){function M(){throw q}return C.resolve(w()).then(M)}},d.prototype.catch=function(w){return this.then(null,w)},d.prototype.then=function(w,C){if(typeof w!="function"&&this.state===c||typeof C!="function"&&this.state===l)return this;var k=new this.constructor(o);if(this.state!==h){var R=this.state===c?w:C;_(k,R,this.outcome)}else this.queue.push(new g(k,w,C));return k};function g(w,C,k){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(w){u.resolve(this.promise,w)},g.prototype.otherCallFulfilled=function(w){_(this.promise,this.onFulfilled,w)},g.prototype.callRejected=function(w){u.reject(this.promise,w)},g.prototype.otherCallRejected=function(w){_(this.promise,this.onRejected,w)};function _(w,C,k){a(function(){var R;try{R=C(k)}catch(q){return u.reject(w,q)}R===w?u.reject(w,new TypeError("Cannot resolve promise with itself")):u.resolve(w,R)})}u.resolve=function(w,C){var k=p(A,C);if(k.status==="error")return u.reject(w,k.value);var R=k.value;if(R)D(w,R);else{w.state=c,w.outcome=C;for(var q=-1,M=w.queue.length;++q<M;)w.queue[q].callFulfilled(C)}return w},u.reject=function(w,C){w.state=l,w.outcome=C;for(var k=-1,R=w.queue.length;++k<R;)w.queue[k].callRejected(C);return w};function A(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function D(w,C){var k=!1;function R(H){k||(k=!0,u.reject(w,H))}function q(H){k||(k=!0,u.resolve(w,H))}function M(){C(q,R)}var G=p(M);G.status==="error"&&R(G.value)}function p(w,C){var k={};try{k.value=w(C),k.status="success"}catch(R){k.status="error",k.value=R}return k}d.resolve=v;function v(w){return w instanceof this?w:u.resolve(new this(o),w)}d.reject=y;function y(w){var C=new this(o);return u.reject(C,w)}d.all=T;function T(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=new Array(k),M=0,G=-1,H=new this(o);++G<k;)ie(w[G],G);return H;function ie(de,re){C.resolve(de).then(ce,function(fe){R||(R=!0,u.reject(H,fe))});function ce(fe){q[re]=fe,++M===k&&!R&&(R=!0,u.resolve(H,q))}}}d.race=P;function P(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=-1,M=new this(o);++q<k;)G(w[q]);return M;function G(H){C.resolve(H).then(function(ie){R||(R=!0,u.resolve(M,ie))},function(ie){R||(R=!0,u.reject(M,ie))})}}},{immediate:36}],38:[function(r,n,s){"use strict";var a=r("./lib/utils/common").assign,o=r("./lib/deflate"),u=r("./lib/inflate"),l=r("./lib/zlib/constants"),c={};a(c,o,u,l),n.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){"use strict";var a=r("./zlib/deflate"),o=r("./utils/common"),u=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),h=Object.prototype.toString,d=0,g=4,_=0,A=1,D=2,p=-1,v=0,y=8;function T(k){if(!(this instanceof T))return new T(k);this.options=o.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},k||{});var R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var q=a.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(q!==_)throw new Error(l[q]);if(R.header&&a.deflateSetHeader(this.strm,R.header),R.dictionary){var M;if(typeof R.dictionary=="string"?M=u.string2buf(R.dictionary):h.call(R.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(R.dictionary):M=R.dictionary,q=a.deflateSetDictionary(this.strm,M),q!==_)throw new Error(l[q]);this._dict_set=!0}}T.prototype.push=function(k,R){var q=this.strm,M=this.options.chunkSize,G,H;if(this.ended)return!1;H=R===~~R?R:R===!0?g:d,typeof k=="string"?q.input=u.string2buf(k):h.call(k)==="[object ArrayBuffer]"?q.input=new Uint8Array(k):q.input=k,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new o.Buf8(M),q.next_out=0,q.avail_out=M),G=a.deflate(q,H),G!==A&&G!==_)return this.onEnd(G),this.ended=!0,!1;(q.avail_out===0||q.avail_in===0&&(H===g||H===D))&&(this.options.to==="string"?this.onData(u.buf2binstring(o.shrinkBuf(q.output,q.next_out))):this.onData(o.shrinkBuf(q.output,q.next_out)))}while((q.avail_in>0||q.avail_out===0)&&G!==A);return H===g?(G=a.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===_):(H===D&&(this.onEnd(_),q.avail_out=0),!0)},T.prototype.onData=function(k){this.chunks.push(k)},T.prototype.onEnd=function(k){k===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function P(k,R){var q=new T(R);if(q.push(k,!0),q.err)throw q.msg||l[q.err];return q.result}function w(k,R){return R=R||{},R.raw=!0,P(k,R)}function C(k,R){return R=R||{},R.gzip=!0,P(k,R)}s.Deflate=T,s.deflate=P,s.deflateRaw=w,s.gzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){"use strict";var a=r("./zlib/inflate"),o=r("./utils/common"),u=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),h=r("./zlib/zstream"),d=r("./zlib/gzheader"),g=Object.prototype.toString;function _(p){if(!(this instanceof _))return new _(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(p&&p.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}_.prototype.push=function(p,v){var y=this.strm,T=this.options.chunkSize,P=this.options.dictionary,w,C,k,R,q,M,G=!1;if(this.ended)return!1;C=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?y.input=u.binstring2buf(p):g.call(p)==="[object ArrayBuffer]"?y.input=new Uint8Array(p):y.input=p,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new o.Buf8(T),y.next_out=0,y.avail_out=T),w=a.inflate(y,l.Z_NO_FLUSH),w===l.Z_NEED_DICT&&P&&(typeof P=="string"?M=u.string2buf(P):g.call(P)==="[object ArrayBuffer]"?M=new Uint8Array(P):M=P,w=a.inflateSetDictionary(this.strm,M)),w===l.Z_BUF_ERROR&&G===!0&&(w=l.Z_OK,G=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),this.ended=!0,!1;y.next_out&&(y.avail_out===0||w===l.Z_STREAM_END||y.avail_in===0&&(C===l.Z_FINISH||C===l.Z_SYNC_FLUSH))&&(this.options.to==="string"?(k=u.utf8border(y.output,y.next_out),R=y.next_out-k,q=u.buf2string(y.output,k),y.next_out=R,y.avail_out=T-R,R&&o.arraySet(y.output,y.output,k,R,0),this.onData(q)):this.onData(o.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(G=!0)}while((y.avail_in>0||y.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(C=l.Z_FINISH),C===l.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):(C===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),y.avail_out=0),!0)},_.prototype.onData=function(p){this.chunks.push(p)},_.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function A(p,v){var y=new _(v);if(y.push(p,!0),y.err)throw y.msg||c[y.err];return y.result}function D(p,v){return v=v||{},v.raw=!0,A(p,v)}s.Inflate=_,s.inflate=A,s.inflateRaw=D,s.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){"use strict";var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(!!h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var d in h)h.hasOwnProperty(d)&&(l[d]=h[d])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,h,d,g){if(c.subarray&&l.subarray){l.set(c.subarray(h,h+d),g);return}for(var _=0;_<d;_++)l[g+_]=c[h+_]},flattenChunks:function(l){var c,h,d,g,_,A;for(d=0,c=0,h=l.length;c<h;c++)d+=l[c].length;for(A=new Uint8Array(d),g=0,c=0,h=l.length;c<h;c++)_=l[c],A.set(_,g),g+=_.length;return A}},u={arraySet:function(l,c,h,d,g){for(var _=0;_<d;_++)l[g+_]=c[h+_]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(a)},{}],42:[function(r,n,s){"use strict";var a=r("./common"),o=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch(d){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){u=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,s.string2buf=function(d){var g,_,A,D,p,v=d.length,y=0;for(D=0;D<v;D++)_=d.charCodeAt(D),(_&64512)==55296&&D+1<v&&(A=d.charCodeAt(D+1),(A&64512)==56320&&(_=65536+(_-55296<<10)+(A-56320),D++)),y+=_<128?1:_<2048?2:_<65536?3:4;for(g=new a.Buf8(y),p=0,D=0;p<y;D++)_=d.charCodeAt(D),(_&64512)==55296&&D+1<v&&(A=d.charCodeAt(D+1),(A&64512)==56320&&(_=65536+(_-55296<<10)+(A-56320),D++)),_<128?g[p++]=_:_<2048?(g[p++]=192|_>>>6,g[p++]=128|_&63):_<65536?(g[p++]=224|_>>>12,g[p++]=128|_>>>6&63,g[p++]=128|_&63):(g[p++]=240|_>>>18,g[p++]=128|_>>>12&63,g[p++]=128|_>>>6&63,g[p++]=128|_&63);return g};function h(d,g){if(g<65537&&(d.subarray&&u||!d.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(d,g));for(var _="",A=0;A<g;A++)_+=String.fromCharCode(d[A]);return _}s.buf2binstring=function(d){return h(d,d.length)},s.binstring2buf=function(d){for(var g=new a.Buf8(d.length),_=0,A=g.length;_<A;_++)g[_]=d.charCodeAt(_);return g},s.buf2string=function(d,g){var _,A,D,p,v=g||d.length,y=new Array(v*2);for(A=0,_=0;_<v;){if(D=d[_++],D<128){y[A++]=D;continue}if(p=l[D],p>4){y[A++]=65533,_+=p-1;continue}for(D&=p===2?31:p===3?15:7;p>1&&_<v;)D=D<<6|d[_++]&63,p--;if(p>1){y[A++]=65533;continue}D<65536?y[A++]=D:(D-=65536,y[A++]=55296|D>>10&1023,y[A++]=56320|D&1023)}return h(y,A)},s.utf8border=function(d,g){var _;for(g=g||d.length,g>d.length&&(g=d.length),_=g-1;_>=0&&(d[_]&192)==128;)_--;return _<0||_===0?g:_+l[d[_]]>g?_:g}},{"./common":41}],43:[function(r,n,s){"use strict";function a(o,u,l,c){for(var h=o&65535|0,d=o>>>16&65535|0,g=0;l!==0;){g=l>2e3?2e3:l,l-=g;do h=h+u[c++]|0,d=d+h|0;while(--g);h%=65521,d%=65521}return h|d<<16|0}n.exports=a},{}],44:[function(r,n,s){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){"use strict";function a(){for(var l,c=[],h=0;h<256;h++){l=h;for(var d=0;d<8;d++)l=l&1?3988292384^l>>>1:l>>>1;c[h]=l}return c}var o=a();function u(l,c,h,d){var g=o,_=d+h;l^=-1;for(var A=d;A<_;A++)l=l>>>8^g[(l^c[A])&255];return l^-1}n.exports=u},{}],46:[function(r,n,s){"use strict";var a=r("../utils/common"),o=r("./trees"),u=r("./adler32"),l=r("./crc32"),c=r("./messages"),h=0,d=1,g=3,_=4,A=5,D=0,p=1,v=-2,y=-3,T=-5,P=-1,w=1,C=2,k=3,R=4,q=0,M=2,G=8,H=9,ie=15,de=8,re=29,ce=256,fe=ce+1+re,ae=30,be=19,Re=2*fe+1,De=15,le=3,Te=258,Ee=Te+le+1,et=32,Ge=42,qe=69,_e=73,Ke=91,Ue=103,Ae=113,Fe=666,xe=1,tt=2,Ve=3,dt=4,Se=3;function Xe(f,U){return f.msg=c[U],U}function qt(f){return(f<<1)-(f>4?9:0)}function at(f){for(var U=f.length;--U>=0;)f[U]=0}function nt(f){var U=f.state,W=U.pending;W>f.avail_out&&(W=f.avail_out),W!==0&&(a.arraySet(f.output,U.pending_buf,U.pending_out,W,f.next_out),f.next_out+=W,U.pending_out+=W,f.total_out+=W,f.avail_out-=W,U.pending-=W,U.pending===0&&(U.pending_out=0))}function Ie(f,U){o._tr_flush_block(f,f.block_start>=0?f.block_start:-1,f.strstart-f.block_start,U),f.block_start=f.strstart,nt(f.strm)}function ge(f,U){f.pending_buf[f.pending++]=U}function ft(f,U){f.pending_buf[f.pending++]=U>>>8&255,f.pending_buf[f.pending++]=U&255}function ur(f,U,W,b){var O=f.avail_in;return O>b&&(O=b),O===0?0:(f.avail_in-=O,a.arraySet(U,f.input,f.next_in,O,W),f.state.wrap===1?f.adler=u(f.adler,U,O,W):f.state.wrap===2&&(f.adler=l(f.adler,U,O,W)),f.next_in+=O,f.total_in+=O,O)}function zt(f,U){var W=f.max_chain_length,b=f.strstart,O,z,oe=f.prev_length,te=f.nice_match,se=f.strstart>f.w_size-Ee?f.strstart-(f.w_size-Ee):0,ye=f.window,Vt=f.w_mask,Me=f.prev,we=f.strstart+Te,je=ye[b+oe-1],rt=ye[b+oe];f.prev_length>=f.good_match&&(W>>=2),te>f.lookahead&&(te=f.lookahead);do if(O=U,!(ye[O+oe]!==rt||ye[O+oe-1]!==je||ye[O]!==ye[b]||ye[++O]!==ye[b+1])){b+=2,O++;do;while(ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&ye[++b]===ye[++O]&&b<we);if(z=Te-(we-b),b=we-Te,z>oe){if(f.match_start=U,oe=z,z>=te)break;je=ye[b+oe-1],rt=ye[b+oe]}}while((U=Me[U&Vt])>se&&--W!=0);return oe<=f.lookahead?oe:f.lookahead}function ht(f){var U=f.w_size,W,b,O,z,oe;do{if(z=f.window_size-f.lookahead-f.strstart,f.strstart>=U+(U-Ee)){a.arraySet(f.window,f.window,U,U,0),f.match_start-=U,f.strstart-=U,f.block_start-=U,b=f.hash_size,W=b;do O=f.head[--W],f.head[W]=O>=U?O-U:0;while(--b);b=U,W=b;do O=f.prev[--W],f.prev[W]=O>=U?O-U:0;while(--b);z+=U}if(f.strm.avail_in===0)break;if(b=ur(f.strm,f.window,f.strstart+f.lookahead,z),f.lookahead+=b,f.lookahead+f.insert>=le)for(oe=f.strstart-f.insert,f.ins_h=f.window[oe],f.ins_h=(f.ins_h<<f.hash_shift^f.window[oe+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[oe+le-1])&f.hash_mask,f.prev[oe&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=oe,oe++,f.insert--,!(f.lookahead+f.insert<le)););}while(f.lookahead<Ee&&f.strm.avail_in!==0)}function lr(f,U){var W=65535;for(W>f.pending_buf_size-5&&(W=f.pending_buf_size-5);;){if(f.lookahead<=1){if(ht(f),f.lookahead===0&&U===h)return xe;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var b=f.block_start+W;if((f.strstart===0||f.strstart>=b)&&(f.lookahead=f.strstart-b,f.strstart=b,Ie(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-Ee&&(Ie(f,!1),f.strm.avail_out===0))return xe}return f.insert=0,U===_?(Ie(f,!0),f.strm.avail_out===0?Ve:dt):(f.strstart>f.block_start&&(Ie(f,!1),f.strm.avail_out===0),xe)}function Ut(f,U){for(var W,b;;){if(f.lookahead<Ee){if(ht(f),f.lookahead<Ee&&U===h)return xe;if(f.lookahead===0)break}if(W=0,f.lookahead>=le&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+le-1])&f.hash_mask,W=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),W!==0&&f.strstart-W<=f.w_size-Ee&&(f.match_length=zt(f,W)),f.match_length>=le)if(b=o._tr_tally(f,f.strstart-f.match_start,f.match_length-le),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=le){f.match_length--;do f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+le-1])&f.hash_mask,W=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart;while(--f.match_length!=0);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else b=o._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(b&&(Ie(f,!1),f.strm.avail_out===0))return xe}return f.insert=f.strstart<le-1?f.strstart:le-1,U===_?(Ie(f,!0),f.strm.avail_out===0?Ve:dt):f.last_lit&&(Ie(f,!1),f.strm.avail_out===0)?xe:tt}function pt(f,U){for(var W,b,O;;){if(f.lookahead<Ee){if(ht(f),f.lookahead<Ee&&U===h)return xe;if(f.lookahead===0)break}if(W=0,f.lookahead>=le&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+le-1])&f.hash_mask,W=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=le-1,W!==0&&f.prev_length<f.max_lazy_match&&f.strstart-W<=f.w_size-Ee&&(f.match_length=zt(f,W),f.match_length<=5&&(f.strategy===w||f.match_length===le&&f.strstart-f.match_start>4096)&&(f.match_length=le-1)),f.prev_length>=le&&f.match_length<=f.prev_length){O=f.strstart+f.lookahead-le,b=o._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-le),f.lookahead-=f.prev_length-1,f.prev_length-=2;do++f.strstart<=O&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+le-1])&f.hash_mask,W=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart);while(--f.prev_length!=0);if(f.match_available=0,f.match_length=le-1,f.strstart++,b&&(Ie(f,!1),f.strm.avail_out===0))return xe}else if(f.match_available){if(b=o._tr_tally(f,0,f.window[f.strstart-1]),b&&Ie(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return xe}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(b=o._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<le-1?f.strstart:le-1,U===_?(Ie(f,!0),f.strm.avail_out===0?Ve:dt):f.last_lit&&(Ie(f,!1),f.strm.avail_out===0)?xe:tt}function fr(f,U){for(var W,b,O,z,oe=f.window;;){if(f.lookahead<=Te){if(ht(f),f.lookahead<=Te&&U===h)return xe;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=le&&f.strstart>0&&(O=f.strstart-1,b=oe[O],b===oe[++O]&&b===oe[++O]&&b===oe[++O])){z=f.strstart+Te;do;while(b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&b===oe[++O]&&O<z);f.match_length=Te-(z-O),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=le?(W=o._tr_tally(f,1,f.match_length-le),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(W=o._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),W&&(Ie(f,!1),f.strm.avail_out===0))return xe}return f.insert=0,U===_?(Ie(f,!0),f.strm.avail_out===0?Ve:dt):f.last_lit&&(Ie(f,!1),f.strm.avail_out===0)?xe:tt}function Wt(f,U){for(var W;;){if(f.lookahead===0&&(ht(f),f.lookahead===0)){if(U===h)return xe;break}if(f.match_length=0,W=o._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,W&&(Ie(f,!1),f.strm.avail_out===0))return xe}return f.insert=0,U===_?(Ie(f,!0),f.strm.avail_out===0?Ve:dt):f.last_lit&&(Ie(f,!1),f.strm.avail_out===0)?xe:tt}function Je(f,U,W,b,O){this.good_length=f,this.max_lazy=U,this.nice_length=W,this.max_chain=b,this.func=O}var vt;vt=[new Je(0,0,0,0,lr),new Je(4,4,8,4,Ut),new Je(4,5,16,8,Ut),new Je(4,6,32,32,Ut),new Je(4,4,16,16,pt),new Je(8,16,32,32,pt),new Je(8,16,128,128,pt),new Je(8,32,128,256,pt),new Je(32,128,258,1024,pt),new Je(32,258,258,4096,pt)];function yr(f){f.window_size=2*f.w_size,at(f.head),f.max_lazy_match=vt[f.level].max_lazy,f.good_match=vt[f.level].good_length,f.nice_match=vt[f.level].nice_length,f.max_chain_length=vt[f.level].max_chain,f.strstart=0,f.block_start=0,f.lookahead=0,f.insert=0,f.match_length=f.prev_length=le-1,f.match_available=0,f.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=G,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(Re*2),this.dyn_dtree=new a.Buf16((2*ae+1)*2),this.bl_tree=new a.Buf16((2*be+1)*2),at(this.dyn_ltree),at(this.dyn_dtree),at(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(De+1),this.heap=new a.Buf16(2*fe+1),at(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*fe+1),at(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(f){var U;return!f||!f.state?Xe(f,v):(f.total_in=f.total_out=0,f.data_type=M,U=f.state,U.pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?Ge:Ae,f.adler=U.wrap===2?0:1,U.last_flush=h,o._tr_init(U),D)}function K(f){var U=Z(f);return U===D&&yr(f.state),U}function ne(f,U){return!f||!f.state||f.state.wrap!==2?v:(f.state.gzhead=U,D)}function I(f,U,W,b,O,z){if(!f)return v;var oe=1;if(U===P&&(U=6),b<0?(oe=0,b=-b):b>15&&(oe=2,b-=16),O<1||O>H||W!==G||b<8||b>15||U<0||U>9||z<0||z>R)return Xe(f,v);b===8&&(b=9);var te=new x;return f.state=te,te.strm=f,te.wrap=oe,te.gzhead=null,te.w_bits=b,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=O+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+le-1)/le),te.window=new a.Buf8(te.w_size*2),te.head=new a.Buf16(te.hash_size),te.prev=new a.Buf16(te.w_size),te.lit_bufsize=1<<O+6,te.pending_buf_size=te.lit_bufsize*4,te.pending_buf=new a.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=(1+2)*te.lit_bufsize,te.level=U,te.strategy=z,te.method=W,K(f)}function V(f,U){return I(f,U,G,ie,de,q)}function m(f,U){var W,b,O,z;if(!f||!f.state||U>A||U<0)return f?Xe(f,v):v;if(b=f.state,!f.output||!f.input&&f.avail_in!==0||b.status===Fe&&U!==_)return Xe(f,f.avail_out===0?T:v);if(b.strm=f,W=b.last_flush,b.last_flush=U,b.status===Ge)if(b.wrap===2)f.adler=0,ge(b,31),ge(b,139),ge(b,8),b.gzhead?(ge(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ge(b,b.gzhead.time&255),ge(b,b.gzhead.time>>8&255),ge(b,b.gzhead.time>>16&255),ge(b,b.gzhead.time>>24&255),ge(b,b.level===9?2:b.strategy>=C||b.level<2?4:0),ge(b,b.gzhead.os&255),b.gzhead.extra&&b.gzhead.extra.length&&(ge(b,b.gzhead.extra.length&255),ge(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(f.adler=l(f.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=qe):(ge(b,0),ge(b,0),ge(b,0),ge(b,0),ge(b,0),ge(b,b.level===9?2:b.strategy>=C||b.level<2?4:0),ge(b,Se),b.status=Ae);else{var oe=G+(b.w_bits-8<<4)<<8,te=-1;b.strategy>=C||b.level<2?te=0:b.level<6?te=1:b.level===6?te=2:te=3,oe|=te<<6,b.strstart!==0&&(oe|=et),oe+=31-oe%31,b.status=Ae,ft(b,oe),b.strstart!==0&&(ft(b,f.adler>>>16),ft(b,f.adler&65535)),f.adler=1}if(b.status===qe)if(b.gzhead.extra){for(O=b.pending;b.gzindex<(b.gzhead.extra.length&65535)&&!(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),nt(f),O=b.pending,b.pending===b.pending_buf_size));)ge(b,b.gzhead.extra[b.gzindex]&255),b.gzindex++;b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=_e)}else b.status=_e;if(b.status===_e)if(b.gzhead.name){O=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),nt(f),O=b.pending,b.pending===b.pending_buf_size)){z=1;break}b.gzindex<b.gzhead.name.length?z=b.gzhead.name.charCodeAt(b.gzindex++)&255:z=0,ge(b,z)}while(z!==0);b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),z===0&&(b.gzindex=0,b.status=Ke)}else b.status=Ke;if(b.status===Ke)if(b.gzhead.comment){O=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),nt(f),O=b.pending,b.pending===b.pending_buf_size)){z=1;break}b.gzindex<b.gzhead.comment.length?z=b.gzhead.comment.charCodeAt(b.gzindex++)&255:z=0,ge(b,z)}while(z!==0);b.gzhead.hcrc&&b.pending>O&&(f.adler=l(f.adler,b.pending_buf,b.pending-O,O)),z===0&&(b.status=Ue)}else b.status=Ue;if(b.status===Ue&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&nt(f),b.pending+2<=b.pending_buf_size&&(ge(b,f.adler&255),ge(b,f.adler>>8&255),f.adler=0,b.status=Ae)):b.status=Ae),b.pending!==0){if(nt(f),f.avail_out===0)return b.last_flush=-1,D}else if(f.avail_in===0&&qt(U)<=qt(W)&&U!==_)return Xe(f,T);if(b.status===Fe&&f.avail_in!==0)return Xe(f,T);if(f.avail_in!==0||b.lookahead!==0||U!==h&&b.status!==Fe){var se=b.strategy===C?Wt(b,U):b.strategy===k?fr(b,U):vt[b.level].func(b,U);if((se===Ve||se===dt)&&(b.status=Fe),se===xe||se===Ve)return f.avail_out===0&&(b.last_flush=-1),D;if(se===tt&&(U===d?o._tr_align(b):U!==A&&(o._tr_stored_block(b,0,0,!1),U===g&&(at(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),nt(f),f.avail_out===0))return b.last_flush=-1,D}return U!==_?D:b.wrap<=0?p:(b.wrap===2?(ge(b,f.adler&255),ge(b,f.adler>>8&255),ge(b,f.adler>>16&255),ge(b,f.adler>>24&255),ge(b,f.total_in&255),ge(b,f.total_in>>8&255),ge(b,f.total_in>>16&255),ge(b,f.total_in>>24&255)):(ft(b,f.adler>>>16),ft(b,f.adler&65535)),nt(f),b.wrap>0&&(b.wrap=-b.wrap),b.pending!==0?D:p)}function X(f){var U;return!f||!f.state?v:(U=f.state.status,U!==Ge&&U!==qe&&U!==_e&&U!==Ke&&U!==Ue&&U!==Ae&&U!==Fe?Xe(f,v):(f.state=null,U===Ae?Xe(f,y):D))}function he(f,U){var W=U.length,b,O,z,oe,te,se,ye,Vt;if(!f||!f.state||(b=f.state,oe=b.wrap,oe===2||oe===1&&b.status!==Ge||b.lookahead))return v;for(oe===1&&(f.adler=u(f.adler,U,W,0)),b.wrap=0,W>=b.w_size&&(oe===0&&(at(b.head),b.strstart=0,b.block_start=0,b.insert=0),Vt=new a.Buf8(b.w_size),a.arraySet(Vt,U,W-b.w_size,b.w_size,0),U=Vt,W=b.w_size),te=f.avail_in,se=f.next_in,ye=f.input,f.avail_in=W,f.next_in=0,f.input=U,ht(b);b.lookahead>=le;){O=b.strstart,z=b.lookahead-(le-1);do b.ins_h=(b.ins_h<<b.hash_shift^b.window[O+le-1])&b.hash_mask,b.prev[O&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=O,O++;while(--z);b.strstart=O,b.lookahead=le-1,ht(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=le-1,b.match_available=0,f.next_in=se,f.input=ye,f.avail_in=te,b.wrap=oe,D}s.deflateInit=V,s.deflateInit2=I,s.deflateReset=K,s.deflateResetKeep=Z,s.deflateSetHeader=ne,s.deflate=m,s.deflateEnd=X,s.deflateSetDictionary=he,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){"use strict";function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n.exports=a},{}],48:[function(r,n,s){"use strict";var a=30,o=12;n.exports=function(l,c){var h,d,g,_,A,D,p,v,y,T,P,w,C,k,R,q,M,G,H,ie,de,re,ce,fe,ae;h=l.state,d=l.next_in,fe=l.input,g=d+(l.avail_in-5),_=l.next_out,ae=l.output,A=_-(c-l.avail_out),D=_+(l.avail_out-257),p=h.dmax,v=h.wsize,y=h.whave,T=h.wnext,P=h.window,w=h.hold,C=h.bits,k=h.lencode,R=h.distcode,q=(1<<h.lenbits)-1,M=(1<<h.distbits)-1;e:do{C<15&&(w+=fe[d++]<<C,C+=8,w+=fe[d++]<<C,C+=8),G=k[w&q];t:for(;;){if(H=G>>>24,w>>>=H,C-=H,H=G>>>16&255,H===0)ae[_++]=G&65535;else if(H&16){ie=G&65535,H&=15,H&&(C<H&&(w+=fe[d++]<<C,C+=8),ie+=w&(1<<H)-1,w>>>=H,C-=H),C<15&&(w+=fe[d++]<<C,C+=8,w+=fe[d++]<<C,C+=8),G=R[w&M];r:for(;;){if(H=G>>>24,w>>>=H,C-=H,H=G>>>16&255,H&16){if(de=G&65535,H&=15,C<H&&(w+=fe[d++]<<C,C+=8,C<H&&(w+=fe[d++]<<C,C+=8)),de+=w&(1<<H)-1,de>p){l.msg="invalid distance too far back",h.mode=a;break e}if(w>>>=H,C-=H,H=_-A,de>H){if(H=de-H,H>y&&h.sane){l.msg="invalid distance too far back",h.mode=a;break e}if(re=0,ce=P,T===0){if(re+=v-H,H<ie){ie-=H;do ae[_++]=P[re++];while(--H);re=_-de,ce=ae}}else if(T<H){if(re+=v+T-H,H-=T,H<ie){ie-=H;do ae[_++]=P[re++];while(--H);if(re=0,T<ie){H=T,ie-=H;do ae[_++]=P[re++];while(--H);re=_-de,ce=ae}}}else if(re+=T-H,H<ie){ie-=H;do ae[_++]=P[re++];while(--H);re=_-de,ce=ae}for(;ie>2;)ae[_++]=ce[re++],ae[_++]=ce[re++],ae[_++]=ce[re++],ie-=3;ie&&(ae[_++]=ce[re++],ie>1&&(ae[_++]=ce[re++]))}else{re=_-de;do ae[_++]=ae[re++],ae[_++]=ae[re++],ae[_++]=ae[re++],ie-=3;while(ie>2);ie&&(ae[_++]=ae[re++],ie>1&&(ae[_++]=ae[re++]))}}else if((H&64)==0){G=R[(G&65535)+(w&(1<<H)-1)];continue r}else{l.msg="invalid distance code",h.mode=a;break e}break}}else if((H&64)==0){G=k[(G&65535)+(w&(1<<H)-1)];continue t}else if(H&32){h.mode=o;break e}else{l.msg="invalid literal/length code",h.mode=a;break e}break}}while(d<g&&_<D);ie=C>>3,d-=ie,C-=ie<<3,w&=(1<<C)-1,l.next_in=d,l.next_out=_,l.avail_in=d<g?5+(g-d):5-(d-g),l.avail_out=_<D?257+(D-_):257-(_-D),h.hold=w,h.bits=C}},{}],49:[function(r,n,s){"use strict";var a=r("../utils/common"),o=r("./adler32"),u=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),h=0,d=1,g=2,_=4,A=5,D=6,p=0,v=1,y=2,T=-2,P=-3,w=-4,C=-5,k=8,R=1,q=2,M=3,G=4,H=5,ie=6,de=7,re=8,ce=9,fe=10,ae=11,be=12,Re=13,De=14,le=15,Te=16,Ee=17,et=18,Ge=19,qe=20,_e=21,Ke=22,Ue=23,Ae=24,Fe=25,xe=26,tt=27,Ve=28,dt=29,Se=30,Xe=31,qt=32,at=852,nt=592,Ie=15,ge=Ie;function ft(I){return(I>>>24&255)+(I>>>8&65280)+((I&65280)<<8)+((I&255)<<24)}function ur(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function zt(I){var V;return!I||!I.state?T:(V=I.state,I.total_in=I.total_out=V.total=0,I.msg="",V.wrap&&(I.adler=V.wrap&1),V.mode=R,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new a.Buf32(at),V.distcode=V.distdyn=new a.Buf32(nt),V.sane=1,V.back=-1,p)}function ht(I){var V;return!I||!I.state?T:(V=I.state,V.wsize=0,V.whave=0,V.wnext=0,zt(I))}function lr(I,V){var m,X;return!I||!I.state||(X=I.state,V<0?(m=0,V=-V):(m=(V>>4)+1,V<48&&(V&=15)),V&&(V<8||V>15))?T:(X.window!==null&&X.wbits!==V&&(X.window=null),X.wrap=m,X.wbits=V,ht(I))}function Ut(I,V){var m,X;return I?(X=new ur,I.state=X,X.window=null,m=lr(I,V),m!==p&&(I.state=null),m):T}function pt(I){return Ut(I,ge)}var fr=!0,Wt,Je;function vt(I){if(fr){var V;for(Wt=new a.Buf32(512),Je=new a.Buf32(32),V=0;V<144;)I.lens[V++]=8;for(;V<256;)I.lens[V++]=9;for(;V<280;)I.lens[V++]=7;for(;V<288;)I.lens[V++]=8;for(c(d,I.lens,0,288,Wt,0,I.work,{bits:9}),V=0;V<32;)I.lens[V++]=5;c(g,I.lens,0,32,Je,0,I.work,{bits:5}),fr=!1}I.lencode=Wt,I.lenbits=9,I.distcode=Je,I.distbits=5}function yr(I,V,m,X){var he,f=I.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new a.Buf8(f.wsize)),X>=f.wsize?(a.arraySet(f.window,V,m-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(he=f.wsize-f.wnext,he>X&&(he=X),a.arraySet(f.window,V,m-X,he,f.wnext),X-=he,X?(a.arraySet(f.window,V,m-X,X,0),f.wnext=X,f.whave=f.wsize):(f.wnext+=he,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=he))),0}function x(I,V){var m,X,he,f,U,W,b,O,z,oe,te,se,ye,Vt,Me=0,we,je,rt,ot,Hr,Zr,We,gt,Qe=new a.Buf8(4),jt,Ct,nn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return T;m=I.state,m.mode===be&&(m.mode=Re),U=I.next_out,he=I.output,b=I.avail_out,f=I.next_in,X=I.input,W=I.avail_in,O=m.hold,z=m.bits,oe=W,te=b,gt=p;e:for(;;)switch(m.mode){case R:if(m.wrap===0){m.mode=Re;break}for(;z<16;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(m.wrap&2&&O===35615){m.check=0,Qe[0]=O&255,Qe[1]=O>>>8&255,m.check=u(m.check,Qe,2,0),O=0,z=0,m.mode=q;break}if(m.flags=0,m.head&&(m.head.done=!1),!(m.wrap&1)||(((O&255)<<8)+(O>>8))%31){I.msg="incorrect header check",m.mode=Se;break}if((O&15)!==k){I.msg="unknown compression method",m.mode=Se;break}if(O>>>=4,z-=4,We=(O&15)+8,m.wbits===0)m.wbits=We;else if(We>m.wbits){I.msg="invalid window size",m.mode=Se;break}m.dmax=1<<We,I.adler=m.check=1,m.mode=O&512?fe:be,O=0,z=0;break;case q:for(;z<16;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(m.flags=O,(m.flags&255)!==k){I.msg="unknown compression method",m.mode=Se;break}if(m.flags&57344){I.msg="unknown header flags set",m.mode=Se;break}m.head&&(m.head.text=O>>8&1),m.flags&512&&(Qe[0]=O&255,Qe[1]=O>>>8&255,m.check=u(m.check,Qe,2,0)),O=0,z=0,m.mode=M;case M:for(;z<32;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.head&&(m.head.time=O),m.flags&512&&(Qe[0]=O&255,Qe[1]=O>>>8&255,Qe[2]=O>>>16&255,Qe[3]=O>>>24&255,m.check=u(m.check,Qe,4,0)),O=0,z=0,m.mode=G;case G:for(;z<16;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.head&&(m.head.xflags=O&255,m.head.os=O>>8),m.flags&512&&(Qe[0]=O&255,Qe[1]=O>>>8&255,m.check=u(m.check,Qe,2,0)),O=0,z=0,m.mode=H;case H:if(m.flags&1024){for(;z<16;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.length=O,m.head&&(m.head.extra_len=O),m.flags&512&&(Qe[0]=O&255,Qe[1]=O>>>8&255,m.check=u(m.check,Qe,2,0)),O=0,z=0}else m.head&&(m.head.extra=null);m.mode=ie;case ie:if(m.flags&1024&&(se=m.length,se>W&&(se=W),se&&(m.head&&(We=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),a.arraySet(m.head.extra,X,f,se,We)),m.flags&512&&(m.check=u(m.check,X,se,f)),W-=se,f+=se,m.length-=se),m.length))break e;m.length=0,m.mode=de;case de:if(m.flags&2048){if(W===0)break e;se=0;do We=X[f+se++],m.head&&We&&m.length<65536&&(m.head.name+=String.fromCharCode(We));while(We&&se<W);if(m.flags&512&&(m.check=u(m.check,X,se,f)),W-=se,f+=se,We)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=re;case re:if(m.flags&4096){if(W===0)break e;se=0;do We=X[f+se++],m.head&&We&&m.length<65536&&(m.head.comment+=String.fromCharCode(We));while(We&&se<W);if(m.flags&512&&(m.check=u(m.check,X,se,f)),W-=se,f+=se,We)break e}else m.head&&(m.head.comment=null);m.mode=ce;case ce:if(m.flags&512){for(;z<16;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(O!==(m.check&65535)){I.msg="header crc mismatch",m.mode=Se;break}O=0,z=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),I.adler=m.check=0,m.mode=be;break;case fe:for(;z<32;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}I.adler=m.check=ft(O),O=0,z=0,m.mode=ae;case ae:if(m.havedict===0)return I.next_out=U,I.avail_out=b,I.next_in=f,I.avail_in=W,m.hold=O,m.bits=z,y;I.adler=m.check=1,m.mode=be;case be:if(V===A||V===D)break e;case Re:if(m.last){O>>>=z&7,z-=z&7,m.mode=tt;break}for(;z<3;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}switch(m.last=O&1,O>>>=1,z-=1,O&3){case 0:m.mode=De;break;case 1:if(vt(m),m.mode=qe,V===D){O>>>=2,z-=2;break e}break;case 2:m.mode=Ee;break;case 3:I.msg="invalid block type",m.mode=Se}O>>>=2,z-=2;break;case De:for(O>>>=z&7,z-=z&7;z<32;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if((O&65535)!=(O>>>16^65535)){I.msg="invalid stored block lengths",m.mode=Se;break}if(m.length=O&65535,O=0,z=0,m.mode=le,V===D)break e;case le:m.mode=Te;case Te:if(se=m.length,se){if(se>W&&(se=W),se>b&&(se=b),se===0)break e;a.arraySet(he,X,f,se,U),W-=se,f+=se,b-=se,U+=se,m.length-=se;break}m.mode=be;break;case Ee:for(;z<14;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(m.nlen=(O&31)+257,O>>>=5,z-=5,m.ndist=(O&31)+1,O>>>=5,z-=5,m.ncode=(O&15)+4,O>>>=4,z-=4,m.nlen>286||m.ndist>30){I.msg="too many length or distance symbols",m.mode=Se;break}m.have=0,m.mode=et;case et:for(;m.have<m.ncode;){for(;z<3;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.lens[nn[m.have++]]=O&7,O>>>=3,z-=3}for(;m.have<19;)m.lens[nn[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,jt={bits:m.lenbits},gt=c(h,m.lens,0,19,m.lencode,0,m.work,jt),m.lenbits=jt.bits,gt){I.msg="invalid code lengths set",m.mode=Se;break}m.have=0,m.mode=Ge;case Ge:for(;m.have<m.nlen+m.ndist;){for(;Me=m.lencode[O&(1<<m.lenbits)-1],we=Me>>>24,je=Me>>>16&255,rt=Me&65535,!(we<=z);){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(rt<16)O>>>=we,z-=we,m.lens[m.have++]=rt;else{if(rt===16){for(Ct=we+2;z<Ct;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(O>>>=we,z-=we,m.have===0){I.msg="invalid bit length repeat",m.mode=Se;break}We=m.lens[m.have-1],se=3+(O&3),O>>>=2,z-=2}else if(rt===17){for(Ct=we+3;z<Ct;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}O>>>=we,z-=we,We=0,se=3+(O&7),O>>>=3,z-=3}else{for(Ct=we+7;z<Ct;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}O>>>=we,z-=we,We=0,se=11+(O&127),O>>>=7,z-=7}if(m.have+se>m.nlen+m.ndist){I.msg="invalid bit length repeat",m.mode=Se;break}for(;se--;)m.lens[m.have++]=We}}if(m.mode===Se)break;if(m.lens[256]===0){I.msg="invalid code -- missing end-of-block",m.mode=Se;break}if(m.lenbits=9,jt={bits:m.lenbits},gt=c(d,m.lens,0,m.nlen,m.lencode,0,m.work,jt),m.lenbits=jt.bits,gt){I.msg="invalid literal/lengths set",m.mode=Se;break}if(m.distbits=6,m.distcode=m.distdyn,jt={bits:m.distbits},gt=c(g,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,jt),m.distbits=jt.bits,gt){I.msg="invalid distances set",m.mode=Se;break}if(m.mode=qe,V===D)break e;case qe:m.mode=_e;case _e:if(W>=6&&b>=258){I.next_out=U,I.avail_out=b,I.next_in=f,I.avail_in=W,m.hold=O,m.bits=z,l(I,te),U=I.next_out,he=I.output,b=I.avail_out,f=I.next_in,X=I.input,W=I.avail_in,O=m.hold,z=m.bits,m.mode===be&&(m.back=-1);break}for(m.back=0;Me=m.lencode[O&(1<<m.lenbits)-1],we=Me>>>24,je=Me>>>16&255,rt=Me&65535,!(we<=z);){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(je&&(je&240)==0){for(ot=we,Hr=je,Zr=rt;Me=m.lencode[Zr+((O&(1<<ot+Hr)-1)>>ot)],we=Me>>>24,je=Me>>>16&255,rt=Me&65535,!(ot+we<=z);){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}O>>>=ot,z-=ot,m.back+=ot}if(O>>>=we,z-=we,m.back+=we,m.length=rt,je===0){m.mode=xe;break}if(je&32){m.back=-1,m.mode=be;break}if(je&64){I.msg="invalid literal/length code",m.mode=Se;break}m.extra=je&15,m.mode=Ke;case Ke:if(m.extra){for(Ct=m.extra;z<Ct;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.length+=O&(1<<m.extra)-1,O>>>=m.extra,z-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=Ue;case Ue:for(;Me=m.distcode[O&(1<<m.distbits)-1],we=Me>>>24,je=Me>>>16&255,rt=Me&65535,!(we<=z);){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if((je&240)==0){for(ot=we,Hr=je,Zr=rt;Me=m.distcode[Zr+((O&(1<<ot+Hr)-1)>>ot)],we=Me>>>24,je=Me>>>16&255,rt=Me&65535,!(ot+we<=z);){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}O>>>=ot,z-=ot,m.back+=ot}if(O>>>=we,z-=we,m.back+=we,je&64){I.msg="invalid distance code",m.mode=Se;break}m.offset=rt,m.extra=je&15,m.mode=Ae;case Ae:if(m.extra){for(Ct=m.extra;z<Ct;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}m.offset+=O&(1<<m.extra)-1,O>>>=m.extra,z-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){I.msg="invalid distance too far back",m.mode=Se;break}m.mode=Fe;case Fe:if(b===0)break e;if(se=te-b,m.offset>se){if(se=m.offset-se,se>m.whave&&m.sane){I.msg="invalid distance too far back",m.mode=Se;break}se>m.wnext?(se-=m.wnext,ye=m.wsize-se):ye=m.wnext-se,se>m.length&&(se=m.length),Vt=m.window}else Vt=he,ye=U-m.offset,se=m.length;se>b&&(se=b),b-=se,m.length-=se;do he[U++]=Vt[ye++];while(--se);m.length===0&&(m.mode=_e);break;case xe:if(b===0)break e;he[U++]=m.length,b--,m.mode=_e;break;case tt:if(m.wrap){for(;z<32;){if(W===0)break e;W--,O|=X[f++]<<z,z+=8}if(te-=b,I.total_out+=te,m.total+=te,te&&(I.adler=m.check=m.flags?u(m.check,he,te,U-te):o(m.check,he,te,U-te)),te=b,(m.flags?O:ft(O))!==m.check){I.msg="incorrect data check",m.mode=Se;break}O=0,z=0}m.mode=Ve;case Ve:if(m.wrap&&m.flags){for(;z<32;){if(W===0)break e;W--,O+=X[f++]<<z,z+=8}if(O!==(m.total&4294967295)){I.msg="incorrect length check",m.mode=Se;break}O=0,z=0}m.mode=dt;case dt:gt=v;break e;case Se:gt=P;break e;case Xe:return w;case qt:default:return T}return I.next_out=U,I.avail_out=b,I.next_in=f,I.avail_in=W,m.hold=O,m.bits=z,(m.wsize||te!==I.avail_out&&m.mode<Se&&(m.mode<tt||V!==_))&&yr(I,I.output,I.next_out,te-I.avail_out)?(m.mode=Xe,w):(oe-=I.avail_in,te-=I.avail_out,I.total_in+=oe,I.total_out+=te,m.total+=te,m.wrap&&te&&(I.adler=m.check=m.flags?u(m.check,he,te,I.next_out-te):o(m.check,he,te,I.next_out-te)),I.data_type=m.bits+(m.last?64:0)+(m.mode===be?128:0)+(m.mode===qe||m.mode===le?256:0),(oe===0&&te===0||V===_)&&gt===p&&(gt=C),gt)}function Z(I){if(!I||!I.state)return T;var V=I.state;return V.window&&(V.window=null),I.state=null,p}function K(I,V){var m;return!I||!I.state||(m=I.state,(m.wrap&2)==0)?T:(m.head=V,V.done=!1,p)}function ne(I,V){var m=V.length,X,he,f;return!I||!I.state||(X=I.state,X.wrap!==0&&X.mode!==ae)?T:X.mode===ae&&(he=1,he=o(he,V,m,0),he!==X.check)?P:(f=yr(I,V,m,m),f?(X.mode=Xe,w):(X.havedict=1,p))}s.inflateReset=ht,s.inflateReset2=lr,s.inflateResetKeep=zt,s.inflateInit=pt,s.inflateInit2=Ut,s.inflate=x,s.inflateEnd=Z,s.inflateGetHeader=K,s.inflateSetDictionary=ne,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){"use strict";var a=r("../utils/common"),o=15,u=852,l=592,c=0,h=1,d=2,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],D=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(v,y,T,P,w,C,k,R){var q=R.bits,M=0,G=0,H=0,ie=0,de=0,re=0,ce=0,fe=0,ae=0,be=0,Re,De,le,Te,Ee,et=null,Ge=0,qe,_e=new a.Buf16(o+1),Ke=new a.Buf16(o+1),Ue=null,Ae=0,Fe,xe,tt;for(M=0;M<=o;M++)_e[M]=0;for(G=0;G<P;G++)_e[y[T+G]]++;for(de=q,ie=o;ie>=1&&_e[ie]===0;ie--);if(de>ie&&(de=ie),ie===0)return w[C++]=1<<24|64<<16|0,w[C++]=1<<24|64<<16|0,R.bits=1,0;for(H=1;H<ie&&_e[H]===0;H++);for(de<H&&(de=H),fe=1,M=1;M<=o;M++)if(fe<<=1,fe-=_e[M],fe<0)return-1;if(fe>0&&(v===c||ie!==1))return-1;for(Ke[1]=0,M=1;M<o;M++)Ke[M+1]=Ke[M]+_e[M];for(G=0;G<P;G++)y[T+G]!==0&&(k[Ke[y[T+G]]++]=G);if(v===c?(et=Ue=k,qe=19):v===h?(et=g,Ge-=257,Ue=_,Ae-=257,qe=256):(et=A,Ue=D,qe=-1),be=0,G=0,M=H,Ee=C,re=de,ce=0,le=-1,ae=1<<de,Te=ae-1,v===h&&ae>u||v===d&&ae>l)return 1;for(;;){Fe=M-ce,k[G]<qe?(xe=0,tt=k[G]):k[G]>qe?(xe=Ue[Ae+k[G]],tt=et[Ge+k[G]]):(xe=32+64,tt=0),Re=1<<M-ce,De=1<<re,H=De;do De-=Re,w[Ee+(be>>ce)+De]=Fe<<24|xe<<16|tt|0;while(De!==0);for(Re=1<<M-1;be&Re;)Re>>=1;if(Re!==0?(be&=Re-1,be+=Re):be=0,G++,--_e[M]==0){if(M===ie)break;M=y[T+k[G]]}if(M>de&&(be&Te)!==le){for(ce===0&&(ce=de),Ee+=H,re=M-ce,fe=1<<re;re+ce<ie&&(fe-=_e[re+ce],!(fe<=0));)re++,fe<<=1;if(ae+=1<<re,v===h&&ae>u||v===d&&ae>l)return 1;le=be&Te,w[le]=de<<24|re<<16|Ee-C|0}}return be!==0&&(w[Ee+be]=M-ce<<24|64<<16|0),R.bits=de,0}},{"../utils/common":41}],51:[function(r,n,s){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){"use strict";var a=r("../utils/common"),o=4,u=0,l=1,c=2;function h(x){for(var Z=x.length;--Z>=0;)x[Z]=0}var d=0,g=1,_=2,A=3,D=258,p=29,v=256,y=v+1+p,T=30,P=19,w=2*y+1,C=15,k=16,R=7,q=256,M=16,G=17,H=18,ie=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],de=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=512,ae=new Array((y+2)*2);h(ae);var be=new Array(T*2);h(be);var Re=new Array(fe);h(Re);var De=new Array(D-A+1);h(De);var le=new Array(p);h(le);var Te=new Array(T);h(Te);function Ee(x,Z,K,ne,I){this.static_tree=x,this.extra_bits=Z,this.extra_base=K,this.elems=ne,this.max_length=I,this.has_stree=x&&x.length}var et,Ge,qe;function _e(x,Z){this.dyn_tree=x,this.max_code=0,this.stat_desc=Z}function Ke(x){return x<256?Re[x]:Re[256+(x>>>7)]}function Ue(x,Z){x.pending_buf[x.pending++]=Z&255,x.pending_buf[x.pending++]=Z>>>8&255}function Ae(x,Z,K){x.bi_valid>k-K?(x.bi_buf|=Z<<x.bi_valid&65535,Ue(x,x.bi_buf),x.bi_buf=Z>>k-x.bi_valid,x.bi_valid+=K-k):(x.bi_buf|=Z<<x.bi_valid&65535,x.bi_valid+=K)}function Fe(x,Z,K){Ae(x,K[Z*2],K[Z*2+1])}function xe(x,Z){var K=0;do K|=x&1,x>>>=1,K<<=1;while(--Z>0);return K>>>1}function tt(x){x.bi_valid===16?(Ue(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):x.bi_valid>=8&&(x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8)}function Ve(x,Z){var K=Z.dyn_tree,ne=Z.max_code,I=Z.stat_desc.static_tree,V=Z.stat_desc.has_stree,m=Z.stat_desc.extra_bits,X=Z.stat_desc.extra_base,he=Z.stat_desc.max_length,f,U,W,b,O,z,oe=0;for(b=0;b<=C;b++)x.bl_count[b]=0;for(K[x.heap[x.heap_max]*2+1]=0,f=x.heap_max+1;f<w;f++)U=x.heap[f],b=K[K[U*2+1]*2+1]+1,b>he&&(b=he,oe++),K[U*2+1]=b,!(U>ne)&&(x.bl_count[b]++,O=0,U>=X&&(O=m[U-X]),z=K[U*2],x.opt_len+=z*(b+O),V&&(x.static_len+=z*(I[U*2+1]+O)));if(oe!==0){do{for(b=he-1;x.bl_count[b]===0;)b--;x.bl_count[b]--,x.bl_count[b+1]+=2,x.bl_count[he]--,oe-=2}while(oe>0);for(b=he;b!==0;b--)for(U=x.bl_count[b];U!==0;)W=x.heap[--f],!(W>ne)&&(K[W*2+1]!==b&&(x.opt_len+=(b-K[W*2+1])*K[W*2],K[W*2+1]=b),U--)}}function dt(x,Z,K){var ne=new Array(C+1),I=0,V,m;for(V=1;V<=C;V++)ne[V]=I=I+K[V-1]<<1;for(m=0;m<=Z;m++){var X=x[m*2+1];X!==0&&(x[m*2]=xe(ne[X]++,X))}}function Se(){var x,Z,K,ne,I,V=new Array(C+1);for(K=0,ne=0;ne<p-1;ne++)for(le[ne]=K,x=0;x<1<<ie[ne];x++)De[K++]=ne;for(De[K-1]=ne,I=0,ne=0;ne<16;ne++)for(Te[ne]=I,x=0;x<1<<de[ne];x++)Re[I++]=ne;for(I>>=7;ne<T;ne++)for(Te[ne]=I<<7,x=0;x<1<<de[ne]-7;x++)Re[256+I++]=ne;for(Z=0;Z<=C;Z++)V[Z]=0;for(x=0;x<=143;)ae[x*2+1]=8,x++,V[8]++;for(;x<=255;)ae[x*2+1]=9,x++,V[9]++;for(;x<=279;)ae[x*2+1]=7,x++,V[7]++;for(;x<=287;)ae[x*2+1]=8,x++,V[8]++;for(dt(ae,y+1,V),x=0;x<T;x++)be[x*2+1]=5,be[x*2]=xe(x,5);et=new Ee(ae,ie,v+1,y,C),Ge=new Ee(be,de,0,T,C),qe=new Ee(new Array(0),re,0,P,R)}function Xe(x){var Z;for(Z=0;Z<y;Z++)x.dyn_ltree[Z*2]=0;for(Z=0;Z<T;Z++)x.dyn_dtree[Z*2]=0;for(Z=0;Z<P;Z++)x.bl_tree[Z*2]=0;x.dyn_ltree[q*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function qt(x){x.bi_valid>8?Ue(x,x.bi_buf):x.bi_valid>0&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function at(x,Z,K,ne){qt(x),ne&&(Ue(x,K),Ue(x,~K)),a.arraySet(x.pending_buf,x.window,Z,K,x.pending),x.pending+=K}function nt(x,Z,K,ne){var I=Z*2,V=K*2;return x[I]<x[V]||x[I]===x[V]&&ne[Z]<=ne[K]}function Ie(x,Z,K){for(var ne=x.heap[K],I=K<<1;I<=x.heap_len&&(I<x.heap_len&&nt(Z,x.heap[I+1],x.heap[I],x.depth)&&I++,!nt(Z,ne,x.heap[I],x.depth));)x.heap[K]=x.heap[I],K=I,I<<=1;x.heap[K]=ne}function ge(x,Z,K){var ne,I,V=0,m,X;if(x.last_lit!==0)do ne=x.pending_buf[x.d_buf+V*2]<<8|x.pending_buf[x.d_buf+V*2+1],I=x.pending_buf[x.l_buf+V],V++,ne===0?Fe(x,I,Z):(m=De[I],Fe(x,m+v+1,Z),X=ie[m],X!==0&&(I-=le[m],Ae(x,I,X)),ne--,m=Ke(ne),Fe(x,m,K),X=de[m],X!==0&&(ne-=Te[m],Ae(x,ne,X)));while(V<x.last_lit);Fe(x,q,Z)}function ft(x,Z){var K=Z.dyn_tree,ne=Z.stat_desc.static_tree,I=Z.stat_desc.has_stree,V=Z.stat_desc.elems,m,X,he=-1,f;for(x.heap_len=0,x.heap_max=w,m=0;m<V;m++)K[m*2]!==0?(x.heap[++x.heap_len]=he=m,x.depth[m]=0):K[m*2+1]=0;for(;x.heap_len<2;)f=x.heap[++x.heap_len]=he<2?++he:0,K[f*2]=1,x.depth[f]=0,x.opt_len--,I&&(x.static_len-=ne[f*2+1]);for(Z.max_code=he,m=x.heap_len>>1;m>=1;m--)Ie(x,K,m);f=V;do m=x.heap[1],x.heap[1]=x.heap[x.heap_len--],Ie(x,K,1),X=x.heap[1],x.heap[--x.heap_max]=m,x.heap[--x.heap_max]=X,K[f*2]=K[m*2]+K[X*2],x.depth[f]=(x.depth[m]>=x.depth[X]?x.depth[m]:x.depth[X])+1,K[m*2+1]=K[X*2+1]=f,x.heap[1]=f++,Ie(x,K,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],Ve(x,Z),dt(K,he,x.bl_count)}function ur(x,Z,K){var ne,I=-1,V,m=Z[0*2+1],X=0,he=7,f=4;for(m===0&&(he=138,f=3),Z[(K+1)*2+1]=65535,ne=0;ne<=K;ne++)V=m,m=Z[(ne+1)*2+1],!(++X<he&&V===m)&&(X<f?x.bl_tree[V*2]+=X:V!==0?(V!==I&&x.bl_tree[V*2]++,x.bl_tree[M*2]++):X<=10?x.bl_tree[G*2]++:x.bl_tree[H*2]++,X=0,I=V,m===0?(he=138,f=3):V===m?(he=6,f=3):(he=7,f=4))}function zt(x,Z,K){var ne,I=-1,V,m=Z[0*2+1],X=0,he=7,f=4;for(m===0&&(he=138,f=3),ne=0;ne<=K;ne++)if(V=m,m=Z[(ne+1)*2+1],!(++X<he&&V===m)){if(X<f)do Fe(x,V,x.bl_tree);while(--X!=0);else V!==0?(V!==I&&(Fe(x,V,x.bl_tree),X--),Fe(x,M,x.bl_tree),Ae(x,X-3,2)):X<=10?(Fe(x,G,x.bl_tree),Ae(x,X-3,3)):(Fe(x,H,x.bl_tree),Ae(x,X-11,7));X=0,I=V,m===0?(he=138,f=3):V===m?(he=6,f=3):(he=7,f=4)}}function ht(x){var Z;for(ur(x,x.dyn_ltree,x.l_desc.max_code),ur(x,x.dyn_dtree,x.d_desc.max_code),ft(x,x.bl_desc),Z=P-1;Z>=3&&x.bl_tree[ce[Z]*2+1]===0;Z--);return x.opt_len+=3*(Z+1)+5+5+4,Z}function lr(x,Z,K,ne){var I;for(Ae(x,Z-257,5),Ae(x,K-1,5),Ae(x,ne-4,4),I=0;I<ne;I++)Ae(x,x.bl_tree[ce[I]*2+1],3);zt(x,x.dyn_ltree,Z-1),zt(x,x.dyn_dtree,K-1)}function Ut(x){var Z=4093624447,K;for(K=0;K<=31;K++,Z>>>=1)if(Z&1&&x.dyn_ltree[K*2]!==0)return u;if(x.dyn_ltree[9*2]!==0||x.dyn_ltree[10*2]!==0||x.dyn_ltree[13*2]!==0)return l;for(K=32;K<v;K++)if(x.dyn_ltree[K*2]!==0)return l;return u}var pt=!1;function fr(x){pt||(Se(),pt=!0),x.l_desc=new _e(x.dyn_ltree,et),x.d_desc=new _e(x.dyn_dtree,Ge),x.bl_desc=new _e(x.bl_tree,qe),x.bi_buf=0,x.bi_valid=0,Xe(x)}function Wt(x,Z,K,ne){Ae(x,(d<<1)+(ne?1:0),3),at(x,Z,K,!0)}function Je(x){Ae(x,g<<1,3),Fe(x,q,ae),tt(x)}function vt(x,Z,K,ne){var I,V,m=0;x.level>0?(x.strm.data_type===c&&(x.strm.data_type=Ut(x)),ft(x,x.l_desc),ft(x,x.d_desc),m=ht(x),I=x.opt_len+3+7>>>3,V=x.static_len+3+7>>>3,V<=I&&(I=V)):I=V=K+5,K+4<=I&&Z!==-1?Wt(x,Z,K,ne):x.strategy===o||V===I?(Ae(x,(g<<1)+(ne?1:0),3),ge(x,ae,be)):(Ae(x,(_<<1)+(ne?1:0),3),lr(x,x.l_desc.max_code+1,x.d_desc.max_code+1,m+1),ge(x,x.dyn_ltree,x.dyn_dtree)),Xe(x),ne&&qt(x)}function yr(x,Z,K){return x.pending_buf[x.d_buf+x.last_lit*2]=Z>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=Z&255,x.pending_buf[x.l_buf+x.last_lit]=K&255,x.last_lit++,Z===0?x.dyn_ltree[K*2]++:(x.matches++,Z--,x.dyn_ltree[(De[K]+v+1)*2]++,x.dyn_dtree[Ke(Z)*2]++),x.last_lit===x.lit_bufsize-1}s._tr_init=fr,s._tr_stored_block=Wt,s._tr_flush_block=vt,s._tr_tally=yr,s._tr_align=Je},{"../utils/common":41}],53:[function(r,n,s){"use strict";function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n.exports=a},{}],54:[function(r,n,s){(function(a){(function(o,u){"use strict";if(o.setImmediate)return;var l=1,c={},h=!1,d=o.document,g;function _(R){typeof R!="function"&&(R=new Function(""+R));for(var q=new Array(arguments.length-1),M=0;M<q.length;M++)q[M]=arguments[M+1];var G={callback:R,args:q};return c[l]=G,g(l),l++}function A(R){delete c[R]}function D(R){var q=R.callback,M=R.args;switch(M.length){case 0:q();break;case 1:q(M[0]);break;case 2:q(M[0],M[1]);break;case 3:q(M[0],M[1],M[2]);break;default:q.apply(u,M);break}}function p(R){if(h)setTimeout(p,0,R);else{var q=c[R];if(q){h=!0;try{D(q)}finally{A(R),h=!1}}}}function v(){g=function(R){process.nextTick(function(){p(R)})}}function y(){if(o.postMessage&&!o.importScripts){var R=!0,q=o.onmessage;return o.onmessage=function(){R=!1},o.postMessage("","*"),o.onmessage=q,R}}function T(){var R="setImmediate$"+Math.random()+"$",q=function(M){M.source===o&&typeof M.data=="string"&&M.data.indexOf(R)===0&&p(+M.data.slice(R.length))};o.addEventListener?o.addEventListener("message",q,!1):o.attachEvent("onmessage",q),g=function(M){o.postMessage(R+M,"*")}}function P(){var R=new MessageChannel;R.port1.onmessage=function(q){var M=q.data;p(M)},g=function(q){R.port2.postMessage(q)}}function w(){var R=d.documentElement;g=function(q){var M=d.createElement("script");M.onreadystatechange=function(){p(q),M.onreadystatechange=null,R.removeChild(M),M=null},R.appendChild(M)}}function C(){g=function(R){setTimeout(p,0,R)}}var k=Object.getPrototypeOf&&Object.getPrototypeOf(o);k=k&&k.setTimeout?k:o,{}.toString.call(o.process)==="[object process]"?v():y()?T():o.MessageChannel?P():d&&"onreadystatechange"in d.createElement("script")?w():C(),k.setImmediate=_,k.clearImmediate=A})(typeof self=="undefined"?typeof a=="undefined"?this:a:self)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})});var Xc=$(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.default=void 0;var di=Be(),H0=Ss(Gi()),Zc=Ss(Qn()),Z0=Ss(Sr()),G0=Ss(Hc());function Ss(i){return i&&i.__esModule?i:{default:i}}var Gc=class{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new G0.default}catch(e){throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return(0,H0.default)(e,"binary").then(function(r){return this.zip.loadAsync(r,{base64:t})}.bind(this))}request(e,t){var r=new di.defer,n,s=new Z0.default(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then(function(a){let o=this.handleResponse(a,t);r.resolve(o)}.bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):(0,di.isXml)(t)?r=(0,di.parse)(e,"text/xml"):t=="xhtml"?r=(0,di.parse)(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=(0,di.parse)(e,"text/html"):r=e,r}getBlob(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return t=t||Zc.default.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return t=t||Zc.default.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var r=new di.defer,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){s=n.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),a||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}},X0=Gc;Ds.default=X0});var $c=$((Yc,bo)=>{(function(i){if(typeof Yc=="object"&&typeof bo!="undefined")bo.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.localforage=i()}})(function(){var i,e,t;return function r(n,s,a){function o(c,h){if(!s[c]){if(!n[c]){var d=typeof require=="function"&&require;if(!h&&d)return d(c,!0);if(u)return u(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var _=s[c]={exports:{}};n[c][0].call(_.exports,function(A){var D=n[c][1][A];return o(D||A)},_,_.exports,r,n,s,a)}return s[c].exports}for(var u=typeof require=="function"&&require,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(r,n,s){(function(a){"use strict";var o=a.MutationObserver||a.WebKitMutationObserver,u;if(o){var l=0,c=new o(A),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),u=function(){h.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel!="undefined"){var d=new a.MessageChannel;d.port1.onmessage=A,u=function(){d.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?u=function(){var p=a.document.createElement("script");p.onreadystatechange=function(){A(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:u=function(){setTimeout(A,0)};var g,_=[];function A(){g=!0;for(var p,v,y=_.length;y;){for(v=_,_=[],p=-1;++p<y;)v[p]();y=_.length}g=!1}n.exports=D;function D(p){_.push(p)===1&&!g&&u()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,s){"use strict";var a=r(1);function o(){}var u={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];n.exports=d;function d(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==o&&D(this,w)}d.prototype.catch=function(w){return this.then(null,w)},d.prototype.then=function(w,C){if(typeof w!="function"&&this.state===c||typeof C!="function"&&this.state===l)return this;var k=new this.constructor(o);if(this.state!==h){var R=this.state===c?w:C;_(k,R,this.outcome)}else this.queue.push(new g(k,w,C));return k};function g(w,C,k){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(w){u.resolve(this.promise,w)},g.prototype.otherCallFulfilled=function(w){_(this.promise,this.onFulfilled,w)},g.prototype.callRejected=function(w){u.reject(this.promise,w)},g.prototype.otherCallRejected=function(w){_(this.promise,this.onRejected,w)};function _(w,C,k){a(function(){var R;try{R=C(k)}catch(q){return u.reject(w,q)}R===w?u.reject(w,new TypeError("Cannot resolve promise with itself")):u.resolve(w,R)})}u.resolve=function(w,C){var k=p(A,C);if(k.status==="error")return u.reject(w,k.value);var R=k.value;if(R)D(w,R);else{w.state=c,w.outcome=C;for(var q=-1,M=w.queue.length;++q<M;)w.queue[q].callFulfilled(C)}return w},u.reject=function(w,C){w.state=l,w.outcome=C;for(var k=-1,R=w.queue.length;++k<R;)w.queue[k].callRejected(C);return w};function A(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function D(w,C){var k=!1;function R(H){k||(k=!0,u.reject(w,H))}function q(H){k||(k=!0,u.resolve(w,H))}function M(){C(q,R)}var G=p(M);G.status==="error"&&R(G.value)}function p(w,C){var k={};try{k.value=w(C),k.status="success"}catch(R){k.status="error",k.value=R}return k}d.resolve=v;function v(w){return w instanceof this?w:u.resolve(new this(o),w)}d.reject=y;function y(w){var C=new this(o);return u.reject(C,w)}d.all=T;function T(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=new Array(k),M=0,G=-1,H=new this(o);++G<k;)ie(w[G],G);return H;function ie(de,re){C.resolve(de).then(ce,function(fe){R||(R=!0,u.reject(H,fe))});function ce(fe){q[re]=fe,++M===k&&!R&&(R=!0,u.resolve(H,q))}}}d.race=P;function P(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=-1,M=new this(o);++q<k;)G(w[q]);return M;function G(H){C.resolve(H).then(function(ie){R||(R=!0,u.resolve(M,ie))},function(ie){R||(R=!0,u.reject(M,ie))})}}},{"1":1}],3:[function(r,n,s){(function(a){"use strict";typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,s){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function o(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(E){return}}var l=u();function c(){try{if(!l||!l.open)return!1;var E=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),N=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!E||N)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(S){return!1}}function h(E,N){E=E||[],N=N||{};try{return new Blob(E,N)}catch(B){if(B.name!=="TypeError")throw B;for(var S=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,L=new S,F=0;F<E.length;F+=1)L.append(E[F]);return L.getBlob(N.type)}}typeof Promise=="undefined"&&r(3);var d=Promise;function g(E,N){N&&E.then(function(S){N(null,S)},function(S){N(S)})}function _(E,N,S){typeof N=="function"&&E.then(N),typeof S=="function"&&E.catch(S)}function A(E){return typeof E!="string"&&(console.warn(E+" used as a key, but it is not a string."),E=String(E)),E}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",v=void 0,y={},T=Object.prototype.toString,P="readonly",w="readwrite";function C(E){for(var N=E.length,S=new ArrayBuffer(N),L=new Uint8Array(S),F=0;F<N;F++)L[F]=E.charCodeAt(F);return S}function k(E){return new d(function(N){var S=E.transaction(p,w),L=h([""]);S.objectStore(p).put(L,"key"),S.onabort=function(F){F.preventDefault(),F.stopPropagation(),N(!1)},S.oncomplete=function(){var F=navigator.userAgent.match(/Chrome\/(\d+)/),B=navigator.userAgent.match(/Edge\//);N(B||!F||parseInt(F[1],10)>=43)}}).catch(function(){return!1})}function R(E){return typeof v=="boolean"?d.resolve(v):k(E).then(function(N){return v=N,v})}function q(E){var N=y[E.name],S={};S.promise=new d(function(L,F){S.resolve=L,S.reject=F}),N.deferredOperations.push(S),N.dbReady?N.dbReady=N.dbReady.then(function(){return S.promise}):N.dbReady=S.promise}function M(E){var N=y[E.name],S=N.deferredOperations.pop();if(S)return S.resolve(),S.promise}function G(E,N){var S=y[E.name],L=S.deferredOperations.pop();if(L)return L.reject(N),L.promise}function H(E,N){return new d(function(S,L){if(y[E.name]=y[E.name]||le(),E.db)if(N)q(E),E.db.close();else return S(E.db);var F=[E.name];N&&F.push(E.version);var B=l.open.apply(l,F);N&&(B.onupgradeneeded=function(j){var Y=B.result;try{Y.createObjectStore(E.storeName),j.oldVersion<=1&&Y.createObjectStore(p)}catch(J){if(J.name==="ConstraintError")console.warn('The database "'+E.name+'" has been upgraded from version '+j.oldVersion+" to version "+j.newVersion+', but the storage "'+E.storeName+'" already exists.');else throw J}}),B.onerror=function(j){j.preventDefault(),L(B.error)},B.onsuccess=function(){var j=B.result;j.onversionchange=function(Y){Y.target.close()},S(j),M(E)}})}function ie(E){return H(E,!1)}function de(E){return H(E,!0)}function re(E,N){if(!E.db)return!0;var S=!E.db.objectStoreNames.contains(E.storeName),L=E.version<E.db.version,F=E.version>E.db.version;if(L&&(E.version!==N&&console.warn('The database "'+E.name+`" can't be downgraded from version `+E.db.version+" to version "+E.version+"."),E.version=E.db.version),F||S){if(S){var B=E.db.version+1;B>E.version&&(E.version=B)}return!0}return!1}function ce(E){return new d(function(N,S){var L=new FileReader;L.onerror=S,L.onloadend=function(F){var B=btoa(F.target.result||"");N({__local_forage_encoded_blob:!0,data:B,type:E.type})},L.readAsBinaryString(E)})}function fe(E){var N=C(atob(E.data));return h([N],{type:E.type})}function ae(E){return E&&E.__local_forage_encoded_blob}function be(E){var N=this,S=N._initReady().then(function(){var L=y[N._dbInfo.name];if(L&&L.dbReady)return L.dbReady});return _(S,E,E),S}function Re(E){q(E);for(var N=y[E.name],S=N.forages,L=0;L<S.length;L++){var F=S[L];F._dbInfo.db&&(F._dbInfo.db.close(),F._dbInfo.db=null)}return E.db=null,ie(E).then(function(B){return E.db=B,re(E)?de(E):B}).then(function(B){E.db=N.db=B;for(var j=0;j<S.length;j++)S[j]._dbInfo.db=B}).catch(function(B){throw G(E,B),B})}function De(E,N,S,L){L===void 0&&(L=1);try{var F=E.db.transaction(E.storeName,N);S(null,F)}catch(B){if(L>0&&(!E.db||B.name==="InvalidStateError"||B.name==="NotFoundError"))return d.resolve().then(function(){if(!E.db||B.name==="NotFoundError"&&!E.db.objectStoreNames.contains(E.storeName)&&E.version<=E.db.version)return E.db&&(E.version=E.db.version+1),de(E)}).then(function(){return Re(E).then(function(){De(E,N,S,L-1)})}).catch(S);S(B)}}function le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Te(E){var N=this,S={db:null};if(E)for(var L in E)S[L]=E[L];var F=y[S.name];F||(F=le(),y[S.name]=F),F.forages.push(N),N._initReady||(N._initReady=N.ready,N.ready=be);var B=[];function j(){return d.resolve()}for(var Y=0;Y<F.forages.length;Y++){var J=F.forages[Y];J!==N&&B.push(J._initReady().catch(j))}var Q=F.forages.slice(0);return d.all(B).then(function(){return S.db=F.db,ie(S)}).then(function(ee){return S.db=ee,re(S,N._defaultConfig.version)?de(S):ee}).then(function(ee){S.db=F.db=ee,N._dbInfo=S;for(var ue=0;ue<Q.length;ue++){var me=Q[ue];me!==N&&(me._dbInfo.db=S.db,me._dbInfo.version=S.version)}})}function Ee(E,N){var S=this;E=A(E);var L=new d(function(F,B){S.ready().then(function(){De(S._dbInfo,P,function(j,Y){if(j)return B(j);try{var J=Y.objectStore(S._dbInfo.storeName),Q=J.get(E);Q.onsuccess=function(){var ee=Q.result;ee===void 0&&(ee=null),ae(ee)&&(ee=fe(ee)),F(ee)},Q.onerror=function(){B(Q.error)}}catch(ee){B(ee)}})}).catch(B)});return g(L,N),L}function et(E,N){var S=this,L=new d(function(F,B){S.ready().then(function(){De(S._dbInfo,P,function(j,Y){if(j)return B(j);try{var J=Y.objectStore(S._dbInfo.storeName),Q=J.openCursor(),ee=1;Q.onsuccess=function(){var ue=Q.result;if(ue){var me=ue.value;ae(me)&&(me=fe(me));var Ce=E(me,ue.key,ee++);Ce!==void 0?F(Ce):ue.continue()}else F()},Q.onerror=function(){B(Q.error)}}catch(ue){B(ue)}})}).catch(B)});return g(L,N),L}function Ge(E,N,S){var L=this;E=A(E);var F=new d(function(B,j){var Y;L.ready().then(function(){return Y=L._dbInfo,T.call(N)==="[object Blob]"?R(Y.db).then(function(J){return J?N:ce(N)}):N}).then(function(J){De(L._dbInfo,w,function(Q,ee){if(Q)return j(Q);try{var ue=ee.objectStore(L._dbInfo.storeName);J===null&&(J=void 0);var me=ue.put(J,E);ee.oncomplete=function(){J===void 0&&(J=null),B(J)},ee.onabort=ee.onerror=function(){var Ce=me.error?me.error:me.transaction.error;j(Ce)}}catch(Ce){j(Ce)}})}).catch(j)});return g(F,S),F}function qe(E,N){var S=this;E=A(E);var L=new d(function(F,B){S.ready().then(function(){De(S._dbInfo,w,function(j,Y){if(j)return B(j);try{var J=Y.objectStore(S._dbInfo.storeName),Q=J.delete(E);Y.oncomplete=function(){F()},Y.onerror=function(){B(Q.error)},Y.onabort=function(){var ee=Q.error?Q.error:Q.transaction.error;B(ee)}}catch(ee){B(ee)}})}).catch(B)});return g(L,N),L}function _e(E){var N=this,S=new d(function(L,F){N.ready().then(function(){De(N._dbInfo,w,function(B,j){if(B)return F(B);try{var Y=j.objectStore(N._dbInfo.storeName),J=Y.clear();j.oncomplete=function(){L()},j.onabort=j.onerror=function(){var Q=J.error?J.error:J.transaction.error;F(Q)}}catch(Q){F(Q)}})}).catch(F)});return g(S,E),S}function Ke(E){var N=this,S=new d(function(L,F){N.ready().then(function(){De(N._dbInfo,P,function(B,j){if(B)return F(B);try{var Y=j.objectStore(N._dbInfo.storeName),J=Y.count();J.onsuccess=function(){L(J.result)},J.onerror=function(){F(J.error)}}catch(Q){F(Q)}})}).catch(F)});return g(S,E),S}function Ue(E,N){var S=this,L=new d(function(F,B){if(E<0){F(null);return}S.ready().then(function(){De(S._dbInfo,P,function(j,Y){if(j)return B(j);try{var J=Y.objectStore(S._dbInfo.storeName),Q=!1,ee=J.openKeyCursor();ee.onsuccess=function(){var ue=ee.result;if(!ue){F(null);return}E===0||Q?F(ue.key):(Q=!0,ue.advance(E))},ee.onerror=function(){B(ee.error)}}catch(ue){B(ue)}})}).catch(B)});return g(L,N),L}function Ae(E){var N=this,S=new d(function(L,F){N.ready().then(function(){De(N._dbInfo,P,function(B,j){if(B)return F(B);try{var Y=j.objectStore(N._dbInfo.storeName),J=Y.openKeyCursor(),Q=[];J.onsuccess=function(){var ee=J.result;if(!ee){L(Q);return}Q.push(ee.key),ee.continue()},J.onerror=function(){F(J.error)}}catch(ee){F(ee)}})}).catch(F)});return g(S,E),S}function Fe(E,N){N=D.apply(this,arguments);var S=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||S.name,E.storeName=E.storeName||S.storeName);var L=this,F;if(!E.name)F=d.reject("Invalid arguments");else{var B=E.name===S.name&&L._dbInfo.db,j=B?d.resolve(L._dbInfo.db):ie(E).then(function(Y){var J=y[E.name],Q=J.forages;J.db=Y;for(var ee=0;ee<Q.length;ee++)Q[ee]._dbInfo.db=Y;return Y});E.storeName?F=j.then(function(Y){if(!!Y.objectStoreNames.contains(E.storeName)){var J=Y.version+1;q(E);var Q=y[E.name],ee=Q.forages;Y.close();for(var ue=0;ue<ee.length;ue++){var me=ee[ue];me._dbInfo.db=null,me._dbInfo.version=J}var Ce=new d(function(ke,Ye){var He=l.open(E.name,J);He.onerror=function(Tt){var bi=He.result;bi.close(),Ye(Tt)},He.onupgradeneeded=function(){var Tt=He.result;Tt.deleteObjectStore(E.storeName)},He.onsuccess=function(){var Tt=He.result;Tt.close(),ke(Tt)}});return Ce.then(function(ke){Q.db=ke;for(var Ye=0;Ye<ee.length;Ye++){var He=ee[Ye];He._dbInfo.db=ke,M(He._dbInfo)}}).catch(function(ke){throw(G(E,ke)||d.resolve()).catch(function(){}),ke})}}):F=j.then(function(Y){q(E);var J=y[E.name],Q=J.forages;Y.close();for(var ee=0;ee<Q.length;ee++){var ue=Q[ee];ue._dbInfo.db=null}var me=new d(function(Ce,ke){var Ye=l.deleteDatabase(E.name);Ye.onerror=function(){var He=Ye.result;He&&He.close(),ke(Ye.error)},Ye.onblocked=function(){console.warn('dropInstance blocked for database "'+E.name+'" until all open connections are closed')},Ye.onsuccess=function(){var He=Ye.result;He&&He.close(),Ce(He)}});return me.then(function(Ce){J.db=Ce;for(var ke=0;ke<Q.length;ke++){var Ye=Q[ke];M(Ye._dbInfo)}}).catch(function(Ce){throw(G(E,Ce)||d.resolve()).catch(function(){}),Ce})})}return g(F,N),F}var xe={_driver:"asyncStorage",_initStorage:Te,_support:c(),iterate:et,getItem:Ee,setItem:Ge,removeItem:qe,clear:_e,length:Ke,key:Ue,keys:Ae,dropInstance:Fe};function tt(){return typeof openDatabase=="function"}var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt="~~local_forage_type~",Se=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",qt=Xe.length,at="arbf",nt="blob",Ie="si08",ge="ui08",ft="uic8",ur="si16",zt="si32",ht="ur16",lr="ui32",Ut="fl32",pt="fl64",fr=qt+at.length,Wt=Object.prototype.toString;function Je(E){var N=E.length*.75,S=E.length,L,F=0,B,j,Y,J;E[E.length-1]==="="&&(N--,E[E.length-2]==="="&&N--);var Q=new ArrayBuffer(N),ee=new Uint8Array(Q);for(L=0;L<S;L+=4)B=Ve.indexOf(E[L]),j=Ve.indexOf(E[L+1]),Y=Ve.indexOf(E[L+2]),J=Ve.indexOf(E[L+3]),ee[F++]=B<<2|j>>4,ee[F++]=(j&15)<<4|Y>>2,ee[F++]=(Y&3)<<6|J&63;return Q}function vt(E){var N=new Uint8Array(E),S="",L;for(L=0;L<N.length;L+=3)S+=Ve[N[L]>>2],S+=Ve[(N[L]&3)<<4|N[L+1]>>4],S+=Ve[(N[L+1]&15)<<2|N[L+2]>>6],S+=Ve[N[L+2]&63];return N.length%3==2?S=S.substring(0,S.length-1)+"=":N.length%3==1&&(S=S.substring(0,S.length-2)+"=="),S}function yr(E,N){var S="";if(E&&(S=Wt.call(E)),E&&(S==="[object ArrayBuffer]"||E.buffer&&Wt.call(E.buffer)==="[object ArrayBuffer]")){var L,F=Xe;E instanceof ArrayBuffer?(L=E,F+=at):(L=E.buffer,S==="[object Int8Array]"?F+=Ie:S==="[object Uint8Array]"?F+=ge:S==="[object Uint8ClampedArray]"?F+=ft:S==="[object Int16Array]"?F+=ur:S==="[object Uint16Array]"?F+=ht:S==="[object Int32Array]"?F+=zt:S==="[object Uint32Array]"?F+=lr:S==="[object Float32Array]"?F+=Ut:S==="[object Float64Array]"?F+=pt:N(new Error("Failed to get type for BinaryArray"))),N(F+vt(L))}else if(S==="[object Blob]"){var B=new FileReader;B.onload=function(){var j=dt+E.type+"~"+vt(this.result);N(Xe+nt+j)},B.readAsArrayBuffer(E)}else try{N(JSON.stringify(E))}catch(j){console.error("Couldn't convert value into a JSON string: ",E),N(null,j)}}function x(E){if(E.substring(0,qt)!==Xe)return JSON.parse(E);var N=E.substring(fr),S=E.substring(qt,fr),L;if(S===nt&&Se.test(N)){var F=N.match(Se);L=F[1],N=N.substring(F[0].length)}var B=Je(N);switch(S){case at:return B;case nt:return h([B],{type:L});case Ie:return new Int8Array(B);case ge:return new Uint8Array(B);case ft:return new Uint8ClampedArray(B);case ur:return new Int16Array(B);case ht:return new Uint16Array(B);case zt:return new Int32Array(B);case lr:return new Uint32Array(B);case Ut:return new Float32Array(B);case pt:return new Float64Array(B);default:throw new Error("Unkown type: "+S)}}var Z={serialize:yr,deserialize:x,stringToBuffer:Je,bufferToString:vt};function K(E,N,S,L){E.executeSql("CREATE TABLE IF NOT EXISTS "+N.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],S,L)}function ne(E){var N=this,S={db:null};if(E)for(var L in E)S[L]=typeof E[L]!="string"?E[L].toString():E[L];var F=new d(function(B,j){try{S.db=openDatabase(S.name,String(S.version),S.description,S.size)}catch(Y){return j(Y)}S.db.transaction(function(Y){K(Y,S,function(){N._dbInfo=S,B()},function(J,Q){j(Q)})},j)});return S.serializer=Z,F}function I(E,N,S,L,F,B){E.executeSql(S,L,F,function(j,Y){Y.code===Y.SYNTAX_ERR?j.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[N.storeName],function(J,Q){Q.rows.length?B(J,Y):K(J,N,function(){J.executeSql(S,L,F,B)},B)},B):B(j,Y)},B)}function V(E,N){var S=this;E=A(E);var L=new d(function(F,B){S.ready().then(function(){var j=S._dbInfo;j.db.transaction(function(Y){I(Y,j,"SELECT * FROM "+j.storeName+" WHERE key = ? LIMIT 1",[E],function(J,Q){var ee=Q.rows.length?Q.rows.item(0).value:null;ee&&(ee=j.serializer.deserialize(ee)),F(ee)},function(J,Q){B(Q)})})}).catch(B)});return g(L,N),L}function m(E,N){var S=this,L=new d(function(F,B){S.ready().then(function(){var j=S._dbInfo;j.db.transaction(function(Y){I(Y,j,"SELECT * FROM "+j.storeName,[],function(J,Q){for(var ee=Q.rows,ue=ee.length,me=0;me<ue;me++){var Ce=ee.item(me),ke=Ce.value;if(ke&&(ke=j.serializer.deserialize(ke)),ke=E(ke,Ce.key,me+1),ke!==void 0){F(ke);return}}F()},function(J,Q){B(Q)})})}).catch(B)});return g(L,N),L}function X(E,N,S,L){var F=this;E=A(E);var B=new d(function(j,Y){F.ready().then(function(){N===void 0&&(N=null);var J=N,Q=F._dbInfo;Q.serializer.serialize(N,function(ee,ue){ue?Y(ue):Q.db.transaction(function(me){I(me,Q,"INSERT OR REPLACE INTO "+Q.storeName+" (key, value) VALUES (?, ?)",[E,ee],function(){j(J)},function(Ce,ke){Y(ke)})},function(me){if(me.code===me.QUOTA_ERR){if(L>0){j(X.apply(F,[E,J,S,L-1]));return}Y(me)}})})}).catch(Y)});return g(B,S),B}function he(E,N,S){return X.apply(this,[E,N,S,1])}function f(E,N){var S=this;E=A(E);var L=new d(function(F,B){S.ready().then(function(){var j=S._dbInfo;j.db.transaction(function(Y){I(Y,j,"DELETE FROM "+j.storeName+" WHERE key = ?",[E],function(){F()},function(J,Q){B(Q)})})}).catch(B)});return g(L,N),L}function U(E){var N=this,S=new d(function(L,F){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(j){I(j,B,"DELETE FROM "+B.storeName,[],function(){L()},function(Y,J){F(J)})})}).catch(F)});return g(S,E),S}function W(E){var N=this,S=new d(function(L,F){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(j){I(j,B,"SELECT COUNT(key) as c FROM "+B.storeName,[],function(Y,J){var Q=J.rows.item(0).c;L(Q)},function(Y,J){F(J)})})}).catch(F)});return g(S,E),S}function b(E,N){var S=this,L=new d(function(F,B){S.ready().then(function(){var j=S._dbInfo;j.db.transaction(function(Y){I(Y,j,"SELECT key FROM "+j.storeName+" WHERE id = ? LIMIT 1",[E+1],function(J,Q){var ee=Q.rows.length?Q.rows.item(0).key:null;F(ee)},function(J,Q){B(Q)})})}).catch(B)});return g(L,N),L}function O(E){var N=this,S=new d(function(L,F){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(j){I(j,B,"SELECT key FROM "+B.storeName,[],function(Y,J){for(var Q=[],ee=0;ee<J.rows.length;ee++)Q.push(J.rows.item(ee).key);L(Q)},function(Y,J){F(J)})})}).catch(F)});return g(S,E),S}function z(E){return new d(function(N,S){E.transaction(function(L){L.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(F,B){for(var j=[],Y=0;Y<B.rows.length;Y++)j.push(B.rows.item(Y).name);N({db:E,storeNames:j})},function(F,B){S(B)})},function(L){S(L)})})}function oe(E,N){N=D.apply(this,arguments);var S=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||S.name,E.storeName=E.storeName||S.storeName);var L=this,F;return E.name?F=new d(function(B){var j;E.name===S.name?j=L._dbInfo.db:j=openDatabase(E.name,"","",0),E.storeName?B({db:j,storeNames:[E.storeName]}):B(z(j))}).then(function(B){return new d(function(j,Y){B.db.transaction(function(J){function Q(Ce){return new d(function(ke,Ye){J.executeSql("DROP TABLE IF EXISTS "+Ce,[],function(){ke()},function(He,Tt){Ye(Tt)})})}for(var ee=[],ue=0,me=B.storeNames.length;ue<me;ue++)ee.push(Q(B.storeNames[ue]));d.all(ee).then(function(){j()}).catch(function(Ce){Y(Ce)})},function(J){Y(J)})})}):F=d.reject("Invalid arguments"),g(F,N),F}var te={_driver:"webSQLStorage",_initStorage:ne,_support:tt(),iterate:m,getItem:V,setItem:he,removeItem:f,clear:U,length:W,key:b,keys:O,dropInstance:oe};function se(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(E){return!1}}function ye(E,N){var S=E.name+"/";return E.storeName!==N.storeName&&(S+=E.storeName+"/"),S}function Vt(){var E="_localforage_support_test";try{return localStorage.setItem(E,!0),localStorage.removeItem(E),!1}catch(N){return!0}}function Me(){return!Vt()||localStorage.length>0}function we(E){var N=this,S={};if(E)for(var L in E)S[L]=E[L];return S.keyPrefix=ye(E,N._defaultConfig),Me()?(N._dbInfo=S,S.serializer=Z,d.resolve()):d.reject()}function je(E){var N=this,S=N.ready().then(function(){for(var L=N._dbInfo.keyPrefix,F=localStorage.length-1;F>=0;F--){var B=localStorage.key(F);B.indexOf(L)===0&&localStorage.removeItem(B)}});return g(S,E),S}function rt(E,N){var S=this;E=A(E);var L=S.ready().then(function(){var F=S._dbInfo,B=localStorage.getItem(F.keyPrefix+E);return B&&(B=F.serializer.deserialize(B)),B});return g(L,N),L}function ot(E,N){var S=this,L=S.ready().then(function(){for(var F=S._dbInfo,B=F.keyPrefix,j=B.length,Y=localStorage.length,J=1,Q=0;Q<Y;Q++){var ee=localStorage.key(Q);if(ee.indexOf(B)===0){var ue=localStorage.getItem(ee);if(ue&&(ue=F.serializer.deserialize(ue)),ue=E(ue,ee.substring(j),J++),ue!==void 0)return ue}}});return g(L,N),L}function Hr(E,N){var S=this,L=S.ready().then(function(){var F=S._dbInfo,B;try{B=localStorage.key(E)}catch(j){B=null}return B&&(B=B.substring(F.keyPrefix.length)),B});return g(L,N),L}function Zr(E){var N=this,S=N.ready().then(function(){for(var L=N._dbInfo,F=localStorage.length,B=[],j=0;j<F;j++){var Y=localStorage.key(j);Y.indexOf(L.keyPrefix)===0&&B.push(Y.substring(L.keyPrefix.length))}return B});return g(S,E),S}function We(E){var N=this,S=N.keys().then(function(L){return L.length});return g(S,E),S}function gt(E,N){var S=this;E=A(E);var L=S.ready().then(function(){var F=S._dbInfo;localStorage.removeItem(F.keyPrefix+E)});return g(L,N),L}function Qe(E,N,S){var L=this;E=A(E);var F=L.ready().then(function(){N===void 0&&(N=null);var B=N;return new d(function(j,Y){var J=L._dbInfo;J.serializer.serialize(N,function(Q,ee){if(ee)Y(ee);else try{localStorage.setItem(J.keyPrefix+E,Q),j(B)}catch(ue){(ue.name==="QuotaExceededError"||ue.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Y(ue),Y(ue)}})})});return g(F,S),F}function jt(E,N){if(N=D.apply(this,arguments),E=typeof E!="function"&&E||{},!E.name){var S=this.config();E.name=E.name||S.name,E.storeName=E.storeName||S.storeName}var L=this,F;return E.name?F=new d(function(B){E.storeName?B(ye(E,L._defaultConfig)):B(E.name+"/")}).then(function(B){for(var j=localStorage.length-1;j>=0;j--){var Y=localStorage.key(j);Y.indexOf(B)===0&&localStorage.removeItem(Y)}}):F=d.reject("Invalid arguments"),g(F,N),F}var Ct={_driver:"localStorageWrapper",_initStorage:we,_support:se(),iterate:ot,getItem:rt,setItem:Qe,removeItem:gt,clear:je,length:We,key:Hr,keys:Zr,dropInstance:jt},nn=function(N,S){return N===S||typeof N=="number"&&typeof S=="number"&&isNaN(N)&&isNaN(S)},zd=function(N,S){for(var L=N.length,F=0;F<L;){if(nn(N[F],S))return!0;F++}return!1},Vo=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"},yi={},jo={},Gr={INDEXEDDB:xe,WEBSQL:te,LOCALSTORAGE:Ct},Ud=[Gr.INDEXEDDB._driver,Gr.WEBSQL._driver,Gr.LOCALSTORAGE._driver],sn=["dropInstance"],Us=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(sn),Wd={description:"",driver:Ud.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vd(E,N){E[N]=function(){var S=arguments;return E.ready().then(function(){return E[N].apply(E,S)})}}function Ws(){for(var E=1;E<arguments.length;E++){var N=arguments[E];if(N)for(var S in N)N.hasOwnProperty(S)&&(Vo(N[S])?arguments[0][S]=N[S].slice():arguments[0][S]=N[S])}return arguments[0]}var jd=function(){function E(N){o(this,E);for(var S in Gr)if(Gr.hasOwnProperty(S)){var L=Gr[S],F=L._driver;this[S]=F,yi[F]||this.defineDriver(L)}this._defaultConfig=Ws({},Wd),this._config=Ws({},this._defaultConfig,N),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return E.prototype.config=function(S){if((typeof S=="undefined"?"undefined":a(S))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var L in S){if(L==="storeName"&&(S[L]=S[L].replace(/\W/g,"_")),L==="version"&&typeof S[L]!="number")return new Error("Database version must be a number.");this._config[L]=S[L]}return"driver"in S&&S.driver?this.setDriver(this._config.driver):!0}else return typeof S=="string"?this._config[S]:this._config},E.prototype.defineDriver=function(S,L,F){var B=new d(function(j,Y){try{var J=S._driver,Q=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!S._driver){Y(Q);return}for(var ee=Us.concat("_initStorage"),ue=0,me=ee.length;ue<me;ue++){var Ce=ee[ue],ke=!zd(sn,Ce);if((ke||S[Ce])&&typeof S[Ce]!="function"){Y(Q);return}}var Ye=function(){for(var bi=function(Gd){return function(){var Xd=new Error("Method "+Gd+" is not implemented by the current driver"),Ho=d.reject(Xd);return g(Ho,arguments[arguments.length-1]),Ho}},Vs=0,Zd=sn.length;Vs<Zd;Vs++){var js=sn[Vs];S[js]||(S[js]=bi(js))}};Ye();var He=function(bi){yi[J]&&console.info("Redefining LocalForage driver: "+J),yi[J]=S,jo[J]=bi,j()};"_support"in S?S._support&&typeof S._support=="function"?S._support().then(He,Y):He(!!S._support):He(!0)}catch(Tt){Y(Tt)}});return _(B,L,F),B},E.prototype.driver=function(){return this._driver||null},E.prototype.getDriver=function(S,L,F){var B=yi[S]?d.resolve(yi[S]):d.reject(new Error("Driver not found."));return _(B,L,F),B},E.prototype.getSerializer=function(S){var L=d.resolve(Z);return _(L,S),L},E.prototype.ready=function(S){var L=this,F=L._driverSet.then(function(){return L._ready===null&&(L._ready=L._initDriver()),L._ready});return _(F,S,S),F},E.prototype.setDriver=function(S,L,F){var B=this;Vo(S)||(S=[S]);var j=this._getSupportedDrivers(S);function Y(){B._config.driver=B.driver()}function J(ue){return B._extend(ue),Y(),B._ready=B._initStorage(B._config),B._ready}function Q(ue){return function(){var me=0;function Ce(){for(;me<ue.length;){var ke=ue[me];return me++,B._dbInfo=null,B._ready=null,B.getDriver(ke).then(J).catch(Ce)}Y();var Ye=new Error("No available storage method found.");return B._driverSet=d.reject(Ye),B._driverSet}return Ce()}}var ee=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ee.then(function(){var ue=j[0];return B._dbInfo=null,B._ready=null,B.getDriver(ue).then(function(me){B._driver=me._driver,Y(),B._wrapLibraryMethodsWithReady(),B._initDriver=Q(j)})}).catch(function(){Y();var ue=new Error("No available storage method found.");return B._driverSet=d.reject(ue),B._driverSet}),_(this._driverSet,L,F),this._driverSet},E.prototype.supports=function(S){return!!jo[S]},E.prototype._extend=function(S){Ws(this,S)},E.prototype._getSupportedDrivers=function(S){for(var L=[],F=0,B=S.length;F<B;F++){var j=S[F];this.supports(j)&&L.push(j)}return L},E.prototype._wrapLibraryMethodsWithReady=function(){for(var S=0,L=Us.length;S<L;S++)Vd(this,Us[S])},E.prototype.createInstance=function(S){return new E(S)},E}(),Hd=new jd;n.exports=Hd},{"3":3}]},{},[4])(4)})});var Jc=$(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.default=void 0;var mr=Be(),Y0=tn(Gi()),wo=tn(Qn()),$0=tn(Sr()),K0=tn(Gt()),Kc=tn($c());function tn(i){return i&&i.__esModule?i:{default:i}}var Eo=class{constructor(e,t,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Y0.default,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Kc.default=="undefined"&&(e=Kc.default),this.storage=e.createInstance({name:this.name})}catch(e){throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let r=e.resources.map(n=>{let{href:s}=n,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(l=>this.storage.setItem(o,l)):u)});return Promise.all(r)}put(e,t,r){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,r).then(a=>this.storage.setItem(n,a)))}request(e,t,r,n){return this.online?this.requester(e,t,r,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){var r=new mr.defer,n,s=new $0.default(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n.then(a=>{var o=new mr.defer,u;return a?(u=this.handleResponse(a,t),o.resolve(u)):o.reject({message:"File not found in storage: "+e,stack:new Error().stack}),o.promise})}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):(0,mr.isXml)(t)?r=(0,mr.parse)(e,"text/xml"):t=="xhtml"?r=(0,mr.parse)(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=(0,mr.parse)(e,"text/html"):r=e,r}getBlob(e,t){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(n){if(!!n)return t=t||wo.default.lookup(e),new Blob([n],{type:t})})}getText(e,t){let r=window.encodeURIComponent(e);return t=t||wo.default.lookup(e),this.storage.getItem(r).then(function(n){var s=new mr.defer,a=new FileReader,o;if(!!n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,t),s.promise})}getBase64(e,t){let r=window.encodeURIComponent(e);return t=t||wo.default.lookup(e),this.storage.getItem(r).then(n=>{var s=new mr.defer,a=new FileReader,o;if(!!n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,t),s.promise})}createUrl(e,t){var r=new mr.defer,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then(function(u){this.urlCache[e]=u,r.resolve(u)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(u){s=n.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}.bind(this))),a||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}};(0,K0.default)(Eo.prototype);var J0=Eo;As.default=J0});var td=$(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.default=void 0;var Qc=Be(),ed=class{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;let t=(0,Qc.qs)(e,"display_options");return t?((0,Qc.qsa)(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}},Q0=ed;Cs.default=Q0});var Co=$(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.default=void 0;var e_=lt(Gt()),Kt=Be(),kr=lt(Hi()),rd=lt(Sr()),t_=lt(vh()),r_=lt(_h()),i_=lt(bh()),id=lt(Eh()),xo=lt(Sh()),n_=lt(Th()),So=lt(Nh()),s_=lt(xs()),a_=lt(Xc()),nd=lt(Gi()),o_=lt(Et()),u_=lt(Jc()),Do=lt(td()),sd=Bt();function lt(i){return i&&i.__esModule?i:{default:i}}var ad="META-INF/container.xml",l_="META-INF/com.apple.ibooks.display-options.xml",Jt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"},Ao=class{constructor(e,t){typeof t=="undefined"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=(0,Kt.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),(0,Kt.extend)(this.settings,t),this.opening=new Kt.defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Kt.defer,spine:new Kt.defer,metadata:new Kt.defer,cover:new Kt.defer,navigation:new Kt.defer,pageList:new Kt.defer,resources:new Kt.defer,displayOptions:new Kt.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||nd.default,this.spine=new t_.default,this.locations=new r_.default(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var n=new Error("Cannot load book at "+e);this.emit(sd.EVENTS.BOOK.OPEN_FAILED,n)})}open(e,t){var r,n=t||this.determineType(e);return n===Jt.BINARY?(this.archived=!0,this.url=new kr.default("/",""),r=this.openEpub(e)):n===Jt.BASE64?(this.archived=!0,this.url=new kr.default("/",""),r=this.openEpub(e,n)):n===Jt.EPUB?(this.archived=!0,this.url=new kr.default("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==Jt.OPF?(this.url=new kr.default(e),r=this.openPackaging(this.url.Path.toString())):n==Jt.MANIFEST?(this.url=new kr.default(e),r=this.openManifest(this.url.Path.toString())):(this.url=new kr.default(e),r=this.openContainer(ad).then(this.openPackaging.bind(this))),r}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(ad)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(t=>(this.container=new i_.default(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new rd.default(e),this.load(e).then(t=>(this.packaging=new id.default(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new rd.default(e),this.load(e).then(t=>(this.packaging=new id.default,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(!!e){var r=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(r=this.path.resolve(e)),t!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,r,n;if(this.settings.encoding==="base64")return Jt.BASE64;if(typeof e!="string")return Jt.BINARY;if(t=new kr.default(e),r=t.path(),n=r.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return Jt.DIRECTORY;if(n==="epub")return Jt.EPUB;if(n==="opf")return Jt.OPF;if(n==="json")return Jt.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(l_)).then(t=>{this.displayOptions=new Do.default(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new Do.default,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Do.default,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new n_.default(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((n,s)=>{this.navigation=new xo.default(r),e.pageList&&(this.pageList=new So.default(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new xo.default(n),this.pageList=new So.default(n),this.navigation)):new Promise((n,s)=>{this.navigation=new xo.default,this.pageList=new So.default,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new s_.default(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new a_.default,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,n=this.settings.requestMethod||nd.default.bind(this);return this.storage=new u_.default(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new kr.default("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new o_.default(e),r=this.spine.get(t.spinePos),n=this.load.bind(this);return r?r.load(n).then(function(s){var a=t.toRange(r.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${sd.EPUBJS_VERSION}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}};(0,e_.default)(Ao.prototype);var f_=Ao;Ts.default=f_});var fd=$(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.default=void 0;var od=qr(Co()),h_=qr(xs()),c_=qr(Et()),d_=qr($i()),p_=v_(Be()),ud=Bt(),xb=qr(uo()),Sb=qr(ys()),Db=qr(mo());function ld(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(ld=function(r){return r?t:e})(i)}function v_(i,e){if(!e&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var t=ld(e);if(t&&t.has(i))return t.get(i);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if(s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)){var a=n?Object.getOwnPropertyDescriptor(i,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=i[s]}return r.default=i,t&&t.set(i,r),r}function qr(i){return i&&i.__esModule?i:{default:i}}function zr(i,e){return new od.default(i,e)}zr.VERSION=ud.EPUBJS_VERSION;typeof global!="undefined"&&(global.EPUBJS_VERSION=ud.EPUBJS_VERSION);zr.Book=od.default;zr.Rendition=h_.default;zr.Contents=d_.default;zr.CFI=c_.default;zr.utils=p_;var g_=zr;ks.default=g_});var hd=$(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});Object.defineProperty(_r,"Book",{enumerable:!0,get:function(){return m_.default}});Object.defineProperty(_r,"Contents",{enumerable:!0,get:function(){return b_.default}});Object.defineProperty(_r,"EpubCFI",{enumerable:!0,get:function(){return __.default}});Object.defineProperty(_r,"Layout",{enumerable:!0,get:function(){return w_.default}});Object.defineProperty(_r,"Rendition",{enumerable:!0,get:function(){return y_.default}});_r.default=void 0;var m_=pi(Co()),__=pi(Et()),y_=pi(xs()),b_=pi($i()),w_=pi(to()),E_=pi(fd());function pi(i){return i&&i.__esModule?i:{default:i}}var x_=E_.default;_r.default=x_});var To=$(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.EpubViewStyle=void 0;var S_={viewHolder:{position:"relative",height:"100%",width:"100%"},view:{height:"100%"}};Ns.EpubViewStyle=S_});var md=$(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.default=void 0;var Os=C_(bn()),ct=cd(pa()),D_=cd(hd()),A_=To();function cd(i){return i&&i.__esModule?i:{default:i}}function dd(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(dd=function(n){return n?t:e})(i)}function C_(i,e){if(!e&&i&&i.__esModule)return i;if(i===null||Ur(i)!=="object"&&typeof i!="function")return{default:i};var t=dd(e);if(t&&t.has(i))return t.get(i);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if(s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)){var a=n?Object.getOwnPropertyDescriptor(i,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=i[s]}return r.default=i,t&&t.set(i,r),r}function Ur(i){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(i)}function pd(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function T_(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pd(Object(t),!0).forEach(function(r){Oo(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):pd(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function k_(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function vd(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,gd(r.key),r)}}function N_(i,e,t){return e&&vd(i.prototype,e),t&&vd(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function O_(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&ko(i,e)}function ko(i,e){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ko(i,e)}function R_(i){var e=B_();return function(){var r=Rs(i),n;if(e){var s=Rs(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return I_(this,n)}}function I_(i,e){if(e&&(Ur(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return No(i)}function No(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function B_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function Rs(i){return Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(i)}function Oo(i,e,t){return e=gd(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function gd(i){var e=L_(i,"string");return Ur(e)==="symbol"?e:String(e)}function L_(i,e){if(Ur(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(Ur(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var Ro=function(i){O_(t,i);var e=R_(t);function t(r){var n;return k_(this,t),n=e.call(this,r),Oo(No(n),"onLocationChange",function(s){var a=n.props,o=a.location,u=a.locationChanged,l=s&&s.start;o!==l&&(n.location=l,u&&u(l))}),Oo(No(n),"handleKeyPress",function(s){var a=s.key;a&&a==="ArrowRight"&&n.nextPage(),a&&a==="ArrowLeft"&&n.prevPage()}),n.state={isLoaded:!1,toc:[]},n.viewerRef=Os.default.createRef(),n.location=r.location,n.book=n.rendition=n.prevPage=n.nextPage=null,n}return N_(t,[{key:"componentDidMount",value:function(){this.initBook(!0),document.addEventListener("keyup",this.handleKeyPress,!1)}},{key:"initBook",value:function(){var n=this,s=this.props,a=s.url,o=s.tocChanged,u=s.epubInitOptions;this.book&&this.book.destroy(),this.book=new D_.default(a,u),this.book.loaded.navigation.then(function(l){var c=l.toc;n.setState({isLoaded:!0,toc:c},function(){o&&o(c),n.initReader()})})}},{key:"componentWillUnmount",value:function(){this.book&&this.book.destroy(),this.book=this.rendition=this.prevPage=this.nextPage=null,document.removeEventListener("keyup",this.handleKeyPress,!1)}},{key:"shouldComponentUpdate",value:function(n){return!this.state.isLoaded||n.location!==this.props.location||n.url!==this.props.url}},{key:"componentDidUpdate",value:function(n){n.location!==this.props.location&&this.location!==this.props.location&&this.rendition.display(this.props.location),n.url!==this.props.url&&this.initBook()}},{key:"initReader",value:function(){var n=this,s=this.state.toc,a=this.props,o=a.location,u=a.epubOptions,l=a.getRendition,c=this.viewerRef.current;this.rendition=this.book.renderTo(c,T_({contained:!0,width:"100%",height:"100%"},u)),this.prevPage=function(){n.rendition.prev()},this.nextPage=function(){n.rendition.next()},this.registerEvents(),l&&l(this.rendition),typeof o=="string"||typeof o=="number"?this.rendition.display(o):s.length>0&&s[0].href?this.rendition.display(s[0].href):this.rendition.display()}},{key:"registerEvents",value:function(){var n=this.props,s=n.handleKeyPress,a=n.handleTextSelected;this.rendition.on("locationChanged",this.onLocationChange),this.rendition.on("keyup",s||this.handleKeyPress),a&&this.rendition.on("selected",a)}},{key:"renderBook",value:function(){var n=this.props.epubViewStyles;return Os.default.createElement("div",{ref:this.viewerRef,style:n.view})}},{key:"render",value:function(){var n=this.state.isLoaded,s=this.props,a=s.loadingView,o=s.epubViewStyles;return Os.default.createElement("div",{style:o.viewHolder},n&&this.renderBook()||a)}}]),t}(Os.Component);Ro.defaultProps={loadingView:null,locationChanged:null,tocChanged:null,epubViewStyles:A_.EpubViewStyle,epubOptions:{},epubInitOptions:{}};Ro.propTypes={url:ct.default.oneOfType([ct.default.string,ct.default.instanceOf(ArrayBuffer)]),loadingView:ct.default.element,location:ct.default.oneOfType([ct.default.string,ct.default.number]),locationChanged:ct.default.func,tocChanged:ct.default.func,epubViewStyles:ct.default.object,epubInitOptions:ct.default.object,epubOptions:ct.default.object,getRendition:ct.default.func,handleKeyPress:ct.default.func,handleTextSelected:ct.default.func};var P_=Ro;Is.default=P_});var Dd=$(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});var Bs=bn(),_d="Left",yd="Right",bd="Up",wd="Down",vi={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Io={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Ed="mousemove",xd="mouseup",F_="touchend",M_="touchmove",q_="touchstart";function z_(i,e,t,r){return i>e?t>0?yd:_d:r>0?wd:bd}function Sd(i,e){if(e===0)return i;let t=Math.PI/180*e,r=i[0]*Math.cos(t)+i[1]*Math.sin(t),n=i[1]*Math.cos(t)-i[0]*Math.sin(t);return[r,n]}function U_(i,e){let t=c=>{let h="touches"in c;h&&c.touches.length>1||i((d,g)=>{g.trackMouse&&!h&&(document.addEventListener(Ed,r),document.addEventListener(xd,a));let{clientX:_,clientY:A}=h?c.touches[0]:c,D=Sd([_,A],g.rotationAngle);return g.onTouchStartOrOnMouseDown&&g.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},d),Io),{initial:D.slice(),xy:D,start:c.timeStamp||0})})},r=c=>{i((h,d)=>{let g="touches"in c;if(g&&c.touches.length>1)return h;if(c.timeStamp-h.start>d.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;let{clientX:_,clientY:A}=g?c.touches[0]:c,[D,p]=Sd([_,A],d.rotationAngle),v=D-h.xy[0],y=p-h.xy[1],T=Math.abs(v),P=Math.abs(y),w=(c.timeStamp||0)-h.start,C=Math.sqrt(T*T+P*P)/(w||1),k=[v/(w||1),y/(w||1)],R=z_(T,P,v,y),q=typeof d.delta=="number"?d.delta:d.delta[R.toLowerCase()]||vi.delta;if(T<q&&P<q&&!h.swiping)return h;let M={absX:T,absY:P,deltaX:v,deltaY:y,dir:R,event:c,first:h.first,initial:h.initial,velocity:C,vxvy:k};M.first&&d.onSwipeStart&&d.onSwipeStart(M),d.onSwiping&&d.onSwiping(M);let G=!1;return(d.onSwiping||d.onSwiped||d[`onSwiped${R}`])&&(G=!0),G&&d.preventScrollOnSwipe&&d.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:M,swiping:!0})})},n=c=>{i((h,d)=>{let g;if(h.swiping&&h.eventData){if(c.timeStamp-h.start<d.swipeDuration){g=Object.assign(Object.assign({},h.eventData),{event:c}),d.onSwiped&&d.onSwiped(g);let _=d[`onSwiped${g.dir}`];_&&_(g)}}else d.onTap&&d.onTap({event:c});return d.onTouchEndOrOnMouseUp&&d.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},h),Io),{eventData:g})})},s=()=>{document.removeEventListener(Ed,r),document.removeEventListener(xd,a)},a=c=>{s(),n(c)},o=(c,h)=>{let d=()=>{};if(c&&c.addEventListener){let g=Object.assign(Object.assign({},vi.touchEventOptions),h.touchEventOptions),_=[[q_,t,g],[M_,r,Object.assign(Object.assign({},g),h.preventScrollOnSwipe?{passive:!1}:{})],[F_,n,g]];_.forEach(([A,D,p])=>c.addEventListener(A,D,p)),d=()=>_.forEach(([A,D])=>c.removeEventListener(A,D))}return d},l={ref:c=>{c!==null&&i((h,d)=>{if(h.el===c)return h;let g={};return h.el&&h.el!==c&&h.cleanUpTouch&&(h.cleanUpTouch(),g.cleanUpTouch=void 0),d.trackTouch&&c&&(g.cleanUpTouch=o(c,d)),Object.assign(Object.assign(Object.assign({},h),{el:c}),g)})}};return e.trackMouse&&(l.onMouseDown=t),[l,o]}function W_(i,e,t,r){return!e.trackTouch||!i.el?(i.cleanUpTouch&&i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:void 0})):i.cleanUpTouch?e.preventScrollOnSwipe!==t.preventScrollOnSwipe||e.touchEventOptions.passive!==t.touchEventOptions.passive?(i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:r(i.el,e)})):i:Object.assign(Object.assign({},i),{cleanUpTouch:r(i.el,e)})}function V_(i){let{trackMouse:e}=i,t=Bs.useRef(Object.assign({},Io)),r=Bs.useRef(Object.assign({},vi)),n=Bs.useRef(Object.assign({},r.current));n.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},vi),i);let s;for(s in vi)r.current[s]===void 0&&(r.current[s]=vi[s]);let[a,o]=Bs.useMemo(()=>U_(u=>t.current=u(t.current,r.current),{trackMouse:e}),[e]);return t.current=W_(t.current,r.current,n.current,o),a}Wr.DOWN=wd;Wr.LEFT=_d;Wr.RIGHT=yd;Wr.UP=bd;Wr.useSwipeable=V_});var Bo=$(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ReactReaderStyle=void 0;var j_={container:{overflow:"hidden",position:"relative",height:"100%"},readerArea:{position:"relative",zIndex:1,height:"100%",width:"100%",backgroundColor:"#fff",transition:"all .3s ease"},containerExpanded:{transform:"translateX(256px)"},titleArea:{position:"absolute",top:20,left:50,right:50,textAlign:"center",color:"#999"},reader:{position:"absolute",top:50,left:50,bottom:20,right:50},swipeWrapper:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:200},prev:{left:1},next:{right:1},arrow:{outline:"none",border:"none",background:"none",position:"absolute",top:"50%",marginTop:-32,fontSize:64,padding:"0 10px",color:"#E2E2E2",fontFamily:"arial, sans-serif",cursor:"pointer",userSelect:"none",appearance:"none",fontWeight:"normal"},arrowHover:{color:"#777"},tocBackground:{position:"absolute",left:256,top:0,bottom:0,right:0,zIndex:1},tocArea:{position:"absolute",left:0,top:0,bottom:0,zIndex:0,width:256,overflowY:"auto",WebkitOverflowScrolling:"touch",background:"#f2f2f2",padding:"10px 0"},tocAreaButton:{userSelect:"none",appearance:"none",background:"none",border:"none",display:"block",fontFamily:"sans-serif",width:"100%",fontSize:".9em",textAlign:"left",padding:".9em 1em",borderBottom:"1px solid #ddd",color:"#aaa",boxSizing:"border-box",outline:"none",cursor:"pointer"},tocButton:{background:"none",border:"none",width:32,height:32,position:"absolute",top:10,left:10,borderRadius:2,outline:"none",cursor:"pointer"},tocButtonExpanded:{background:"#f2f2f2"},tocButtonBar:{position:"absolute",width:"60%",background:"#ccc",height:2,left:"50%",margin:"-1px -30%",top:"50%",transition:"all .5s ease"},tocButtonBarTop:{top:"35%"},tocButtonBottom:{top:"66%"},loadingView:{position:"absolute",top:"50%",left:"10%",right:"10%",color:"#ccc",textAlign:"center",margintop:"-.5em"}};Ls.ReactReaderStyle=j_});var Pd=$(Fs=>{"use strict";function Vr(i){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(i)}Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=void 0;var Pe=$_(bn()),Mt=Y_(pa()),H_=Dd(),Z_=Fo(),Ad=Bo(),G_=["children"],X_=["title","showToc","loadingView","readerStyles","locationChanged","swipeable","epubViewStyles"];function Y_(i){return i&&i.__esModule?i:{default:i}}function Cd(i){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Cd=function(n){return n?t:e})(i)}function $_(i,e){if(!e&&i&&i.__esModule)return i;if(i===null||Vr(i)!=="object"&&typeof i!="function")return{default:i};var t=Cd(e);if(t&&t.has(i))return t.get(i);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if(s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)){var a=n?Object.getOwnPropertyDescriptor(i,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=i[s]}return r.default=i,t&&t.set(i,r),r}function rn(){return rn=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},rn.apply(this,arguments)}function Td(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Id(r.key),r)}}function Nd(i,e,t){return e&&kd(i.prototype,e),t&&kd(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Od(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Lo(i,e)}function Lo(i,e){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lo(i,e)}function Rd(i){var e=J_();return function(){var r=Ps(i),n;if(e){var s=Ps(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return K_(this,n)}}function K_(i,e){if(e&&(Vr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(i)}function jr(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function J_(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function Ps(i){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ps(i)}function gi(i,e,t){return e=Id(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Id(i){var e=Q_(i,"string");return Vr(e)==="symbol"?e:String(e)}function Q_(i,e){if(Vr(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(Vr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Bd(i,e){if(i==null)return{};var t=e2(i,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function e2(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var t2=function(e){var t=e.children,r=Bd(e,G_),n=(0,H_.useSwipeable)(r);return Pe.default.createElement("div",n,t)},Ld=function(i){Od(t,i);var e=Rd(t);function t(){var r;Td(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),gi(jr(r),"setLocation",function(){r.props.setLocation(r.props.href)}),r}return Nd(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.label,o=s.styles,u=s.subitems;return Pe.default.createElement("div",null,Pe.default.createElement("button",{onClick:this.setLocation,style:o},a),u&&u.length>0&&Pe.default.createElement("div",{style:{paddingLeft:10}},u.map(function(l,c){return Pe.default.createElement(t,rn({key:c},n.props,l))})))}}]),t}(Pe.PureComponent);Ld.propTypes={label:Mt.default.string,href:Mt.default.string,setLocation:Mt.default.func,styles:Mt.default.object};var Po=function(i){Od(t,i);var e=Rd(t);function t(r){var n;return Td(this,t),n=e.call(this,r),gi(jr(n),"toggleToc",function(){n.setState({expandedToc:!n.state.expandedToc})}),gi(jr(n),"next",function(){var s=n.readerRef.current;s.nextPage()}),gi(jr(n),"prev",function(){var s=n.readerRef.current;s.prevPage()}),gi(jr(n),"onTocChange",function(s){var a=n.props.tocChanged;n.setState({toc:s},function(){return a&&a(s)})}),gi(jr(n),"setLocation",function(s){var a=n.props.locationChanged;n.setState({expandedToc:!1},function(){return a&&a(s)})}),n.readerRef=Pe.default.createRef(),n.state={expandedToc:!1,toc:!1},n}return Nd(t,[{key:"renderToc",value:function(){var n=this,s=this.state,a=s.toc,o=s.expandedToc,u=this.props.readerStyles;return Pe.default.createElement("div",null,Pe.default.createElement("div",{style:u.tocArea},Pe.default.createElement("div",{style:u.toc},a.map(function(l,c){return Pe.default.createElement(Ld,rn({},l,{key:c,setLocation:n.setLocation,styles:u.tocAreaButton}))}))),o&&Pe.default.createElement("div",{style:u.tocBackground,onClick:this.toggleToc}))}},{key:"renderTocToggle",value:function(){var n=this.state.expandedToc,s=this.props.readerStyles;return Pe.default.createElement("button",{style:Object.assign({},s.tocButton,n?s.tocButtonExpanded:{}),onClick:this.toggleToc},Pe.default.createElement("span",{style:Object.assign({},s.tocButtonBar,s.tocButtonBarTop)}),Pe.default.createElement("span",{style:Object.assign({},s.tocButtonBar,s.tocButtonBottom)}))}},{key:"render",value:function(){var n=this.props,s=n.title,a=n.showToc,o=n.loadingView,u=n.readerStyles,l=n.locationChanged,c=n.swipeable,h=n.epubViewStyles,d=Bd(n,X_),g=this.state,_=g.toc,A=g.expandedToc;return Pe.default.createElement("div",{style:u.container},Pe.default.createElement("div",{style:Object.assign({},u.readerArea,A?u.containerExpanded:{})},a&&this.renderTocToggle(),Pe.default.createElement("div",{style:u.titleArea},s),Pe.default.createElement(t2,{onSwipedRight:this.prev,onSwipedLeft:this.next,trackMouse:!0},Pe.default.createElement("div",{style:u.reader},Pe.default.createElement(Z_.EpubView,rn({ref:this.readerRef,loadingView:o,epubViewStyles:h},d,{tocChanged:this.onTocChange,locationChanged:l})),c&&Pe.default.createElement("div",{style:u.swipeWrapper}))),Pe.default.createElement("button",{style:Object.assign({},u.arrow,u.prev),onClick:this.prev},"\u2039"),Pe.default.createElement("button",{style:Object.assign({},u.arrow,u.next),onClick:this.next},"\u203A")),a&&_&&this.renderToc())}}]),t}(Pe.PureComponent);Po.defaultProps={loadingView:Pe.default.createElement("div",{style:Ad.ReactReaderStyle.loadingView},"Loading\u2026"),locationChanged:null,tocChanged:null,showToc:!0,readerStyles:Ad.ReactReaderStyle};Po.propTypes={title:Mt.default.string,loadingView:Mt.default.element,showToc:Mt.default.bool,locationChanged:Mt.default.func,tocChanged:Mt.default.func,readerStyles:Mt.default.object,epubViewStyles:Mt.default.object,swipeable:Mt.default.bool};var r2=Po;Fs.default=r2});var Fo=$(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});Object.defineProperty(mi,"EpubView",{enumerable:!0,get:function(){return i2.default}});Object.defineProperty(mi,"EpubViewStyle",{enumerable:!0,get:function(){return n2.EpubViewStyle}});Object.defineProperty(mi,"ReactReader",{enumerable:!0,get:function(){return s2.default}});Object.defineProperty(mi,"ReactReaderStyle",{enumerable:!0,get:function(){return a2.ReactReaderStyle}});var i2=Fd(md()),n2=To(),s2=Fd(Pd()),a2=Bo();function Fd(i){return i&&i.__esModule?i:{default:i}}});$o(exports,{default:()=>Wo});var zs=an(require("obsidian"));var Ht=an(require("obsidian")),Ko={scrolledView:!1,notePath:"/",useSameFolder:!0,tags:"notes/booknotes"},Zs=class extends Ht.PluginSettingTab{constructor(e,t){super(e,t);this.plugin=t}display(){let{containerEl:e}=this;e.empty(),e.createEl("h2",{text:"EPUB Settings"}),new Ht.Setting(e).setName("Scrolled View").setDesc("This enables seamless scrolling between pages.").addToggle(t=>t.setValue(this.plugin.settings.scrolledView).onChange(r=>Ot(this,null,function*(){this.plugin.settings.scrolledView=r,yield this.plugin.saveSettings()}))),new Ht.Setting(e).setName("Same Folder").setDesc("When toggle on, the epub note file will be created in the same folder.").addToggle(t=>t.setValue(this.plugin.settings.useSameFolder).onChange(r=>Ot(this,null,function*(){this.plugin.settings.useSameFolder=r,yield this.plugin.saveSettings()}))),new Ht.Setting(e).setName("Note Folder").setDesc("Choose the default epub note folder. When the Same Folder toggled on, this setting is ineffective.").addDropdown(t=>t.addOptions(ip(this.app)).setValue(this.plugin.settings.notePath).onChange(r=>Ot(this,null,function*(){this.plugin.settings.notePath=r,yield this.plugin.saveSettings()}))),new Ht.Setting(e).setName("Tags").setDesc("Tags added to new note metadata.").addText(t=>{t.inputEl.size=50,t.setValue(this.plugin.settings.tags).onChange(r=>Ot(this,null,function*(){this.plugin.settings.tags=r,yield this.plugin.saveSettings()}))})}};function ip(i){let e={};return Ht.Vault.recurseChildren(i.vault.getRoot(),t=>{t instanceof Ht.TFolder&&(e[t.path]=t.path)}),e}var _i=an(require("obsidian"));Jr();Jr();Jr();Jr();var bt=an(Fo());var or={data:new Map,get(i,e){try{return this.data.has(i)?this.data.get(i):o2(localStorage.getItem(i))}catch(t){return e}},set(i,e){try{localStorage.setItem(i,JSON.stringify(e)),this.data.delete(i)}catch(t){this.data.set(i,e)}},remove(i){this.data.delete(i),localStorage.removeItem(i)}};function o2(i){return i==="undefined"?void 0:JSON.parse(i!=null?i:"")}var Mo=new Set;function qo(i,e){let[t]=tr(e==null?void 0:e.defaultValue);return typeof window=="undefined"?[t,()=>{},{isPersistent:!0,removeItem:()=>{}}]:u2(i,t,(e==null?void 0:e.ssr)===!0,(e==null?void 0:e.storageSync)!==!1)}function u2(i,e,t,r){let[n,s]=Rr(c=>c+1,0),a=Zt(()=>{yn(()=>{s();for(let c of Mo)c.key===i&&c.forceUpdate()})},[i]),o=Zt(c=>{or.set(i,c instanceof Function?c(or.get(i,e)):c),a()},[i,a,e]);rr(()=>{if(!r)return;let c=h=>{h.storageArea===localStorage&&h.key===i&&s()};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[i,r]),cr(()=>{let c={key:i,forceUpdate:s};return Mo.add(c),()=>{Mo.delete(c)}},[i]);let u=br(!0),l=t&&u.current;return u.current=!1,l&&(or.data.has(i)||e!==or.get(i,e))&&s(),e!==void 0&&!or.data.has(i)&&localStorage.getItem(i)===null&&or.set(i,e),wr(()=>[l?e:or.get(i,e),o,{isPersistent:l||!or.data.has(i),removeItem(){or.remove(i),a()}}],[n,i])}var Md=qo;var qd=({contents:i,title:e,scrolled:t,tocOffset:r,tocBottomOffset:n,leaf:s})=>{let[a,o]=Md(`epub-${e}`,{defaultValue:0}),u=br(null),[l,c]=tr(100),h=document.body.classList.contains("theme-dark"),d=Zt(D=>{o(D)},[o]),g=Zt((D,p)=>{let v=D.themes;v.override("color",p==="dark"?"#fff":"#000"),v.override("background",p==="dark"?"#000":"#fff")},[]),_=Zt(D=>{var p;(p=u.current)==null||p.themes.fontSize(`${D}%`)},[]);return rr(()=>{_(l)},[l,_]),rr(()=>{let D=()=>{var y;let p=s.view.containerEl.querySelector("div.epub-container");if(!p)return;let v=getComputedStyle(p.parentElement);(y=u.current)==null||y.resize(parseFloat(v.width),parseFloat(v.height))};return s.view.app.workspace.on("resize",D),()=>s.view.app.workspace.off("resize",D)},[s]),$e("div",{style:{height:"100vh"}},$e("div",{style:{padding:"10px"}},$e("label",{htmlFor:"fontSizeSlider"},"Adjust Font Size: "),$e("input",{id:"fontSizeSlider",type:"range",min:"80",max:"160",value:l,onChange:D=>c(parseInt(D.target.value))})),$e(bt.ReactReader,{title:e,showToc:!0,location:a,locationChanged:d,swipeable:!1,url:i,getRendition:D=>{u.current=D,D.hooks.content.register(p=>{let v=p.window.document.body;v.oncontextmenu=()=>!1}),g(D,h?"dark":"light"),_(l)},epubOptions:t?{allowPopups:!0,flow:"scrolled",manager:"continuous"}:void 0,readerStyles:h?f2:l2}))},l2=Nt(kt({},bt.ReactReaderStyle),{readerArea:Nt(kt({},bt.ReactReaderStyle.readerArea),{transition:void 0})}),f2=Nt(kt({},bt.ReactReaderStyle),{arrow:Nt(kt({},bt.ReactReaderStyle.arrow),{color:"white"}),arrowHover:Nt(kt({},bt.ReactReaderStyle.arrowHover),{color:"#ccc"}),readerArea:Nt(kt({},bt.ReactReaderStyle.readerArea),{backgroundColor:"#000",transition:void 0}),titleArea:Nt(kt({},bt.ReactReaderStyle.titleArea),{color:"#ccc"}),tocArea:Nt(kt({},bt.ReactReaderStyle.tocArea),{background:"#111"}),tocButtonExpanded:Nt(kt({},bt.ReactReaderStyle.tocButtonExpanded),{background:"#222"}),tocButtonBar:Nt(kt({},bt.ReactReaderStyle.tocButtonBar),{background:"#fff"}),tocButton:Nt(kt({},bt.ReactReaderStyle.tocButton),{color:"white"})});var Ms="epub",qs="epub",zo="doc-epub",Uo=class extends _i.FileView{constructor(e,t){super(e);this.settings=t}onPaneMenu(e,t){e.addItem(r=>{r.setTitle("Create new epub note").setIcon("document").onClick(()=>Ot(this,null,function*(){let n=this.getFileName(),s=this.app.vault.getAbstractFileByPath(n);(s==null||!(s instanceof _i.TFile))&&(s=yield this.app.vault.create(n,this.getFileContent())),this.app.workspace.createLeafBySplit(this.leaf).openFile(s,{active:!0})}))}),e.addSeparator(),super.onPaneMenu(e,t)}getFileName(){let e;return this.settings.useSameFolder?e=`${this.file.parent.path}/`:e=this.settings.notePath.endsWith("/")?this.settings.notePath:`${this.settings.notePath}/`,`${e}${this.file.basename}.md`}getFileContent(){return`---
Tags: ${this.settings.tags}
Date: ${(0,_i.moment)().toLocaleString()}
---

# ${this.file.basename}
`}onLoadFile(e){return Ot(this,null,function*(){Ti(this.contentEl),this.contentEl.empty();let t=getComputedStyle(this.containerEl.parentElement.querySelector("div.view-header")),r=parseFloat(t.height),n=parseFloat(t.width),s=getComputedStyle(this.containerEl.parentElement.querySelector("div.view-content")),a=parseFloat(s.paddingBottom),o=parseFloat(s.paddingTop),u=(r<n?r:0)+o+1,l=a,c=yield this.app.vault.adapter.readBinary(e.path);_n($e(qd,{contents:c,title:e.basename,scrolled:this.settings.scrolledView,tocOffset:u,tocBottomOffset:l,leaf:this.leaf}),this.contentEl)})}onunload(){Ti(this.contentEl)}getDisplayText(){return this.file?this.file.basename:"No File"}canAcceptExtension(e){return e==Ms}getViewType(){return qs}getIcon(){return zo}};var Wo=class extends zs.Plugin{onload(){return Ot(this,null,function*(){yield this.loadSettings(),(0,zs.addIcon)(zo,`
			<path
				fill="currentColor"
				stroke="currentColor"
				d="M 90.695312 47.296875 C 90.046875 46.589844 89.136719 46.1875 88.175781 46.1875 C 87.21875 46.1875 86.304688 46.589844 85.660156 47.296875 L 70.535156 63.277344 L 52.855469 81.933594 C 51.558594 83.339844 49.734375 84.144531 47.820312 84.144531 C 45.90625 84.144531 44.078125 83.339844 42.785156 81.933594 L 17.582031 55.292969 C 14.792969 52.292969 14.792969 47.648438 17.582031 44.648438 L 42.785156 18.023438 C 44.078125 16.617188 45.90625 15.816406 47.820312 15.816406 C 49.734375 15.816406 51.558594 16.617188 52.855469 18.023438 L 64.382812 30.207031 L 40.417969 55.5 C 39.730469 56.257812 39.730469 57.410156 40.417969 58.167969 L 42.945312 60.839844 C 43.652344 61.566406 44.761719 61.566406 45.472656 60.839844 L 73.222656 31.566406 C 73.90625 30.808594 73.90625 29.652344 73.222656 28.894531 L 70.691406 26.226562 L 70.511719 26.054688 L 57.886719 12.722656 C 55.28125 9.921875 51.628906 8.332031 47.804688 8.332031 C 43.980469 8.332031 40.332031 9.921875 37.726562 12.722656 L 12.503906 39.347656 C 6.941406 45.222656 6.941406 54.769531 12.503906 60.644531 L 37.703125 87.269531 C 40.308594 90.070312 43.960938 91.664062 47.789062 91.664062 C 51.613281 91.664062 55.265625 90.070312 57.871094 87.269531 L 83.070312 60.644531 L 90.632812 52.679688 C 92.007812 51.171875 92.007812 48.863281 90.632812 47.359375 L 90.695312 47.292969 Z M 90.695312 47.296875"
			/>
		`),this.registerView(qs,e=>new Uo(e,this.settings));try{this.registerExtensions([Ms],qs)}catch(e){console.log(`Existing file extension ${Ms}`)}this.addSettingTab(new Zs(this.app,this))})}onunload(){}loadSettings(){return Ot(this,null,function*(){this.settings=Object.assign({},Ko,yield this.loadData())})}saveSettings(){return Ot(this,null,function*(){yield this.saveData(this.settings)})}};
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/

/* nosourcemap */